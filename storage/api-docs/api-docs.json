{
    "openapi": "3.0.0",
    "info": {
        "title": "Primea Ticketing API",
        "description": "API documentation for Primea Ticketing System - A comprehensive event ticketing platform",
        "contact": {
            "email": "support@primea.com"
        },
        "version": "1.0.0"
    },
    "servers": [
        {
            "url": "http://localhost:8000",
            "description": "API Server"
        }
    ],
    "paths": {
        "/api/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "operationId": "8e4e3cb7b46126f4696379d3c7eeb4ad",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "name",
                                    "email",
                                    "password",
                                    "password_confirmation"
                                ],
                                "properties": {
                                    "name": {
                                        "type": "string",
                                        "example": "John Doe"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "password_confirmation": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    },
                                    "phone": {
                                        "type": "string",
                                        "example": "+1234567890"
                                    },
                                    "is_organizer": {
                                        "type": "boolean",
                                        "example": false
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "User registered successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "john@example.com"
                                                },
                                                "phone": {
                                                    "type": "string",
                                                    "example": "+1234567890"
                                                },
                                                "is_organizer": {
                                                    "type": "boolean",
                                                    "example": false
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|laravel_sanctum_token..."
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Inscription réussie"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    }
                }
            }
        },
        "/api/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login user",
                "operationId": "222b2625838e3c57e017987f73598fda",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "email",
                                    "password"
                                ],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "john@example.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password",
                                        "example": "password123"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "john@example.com"
                                                },
                                                "phone": {
                                                    "type": "string",
                                                    "example": "+1234567890"
                                                },
                                                "is_organizer": {
                                                    "type": "boolean",
                                                    "example": false
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "token": {
                                            "type": "string",
                                            "example": "1|laravel_sanctum_token..."
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Connexion réussie"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Account inactive or organizer-only access"
                    },
                    "422": {
                        "description": "Invalid credentials"
                    }
                }
            }
        },
        "/api/logout": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Logout user",
                "operationId": "ad65cbbd4e9f201619eae184a5961a98",
                "responses": {
                    "200": {
                        "description": "Logout successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Déconnexion réussie"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/me": {
            "get": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Get authenticated user information",
                "operationId": "8367feff40ba10e43187792cad3132c1",
                "responses": {
                    "200": {
                        "description": "User information retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "user": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "email": {
                                                    "type": "string",
                                                    "example": "john@example.com"
                                                },
                                                "phone": {
                                                    "type": "string",
                                                    "example": "+1234567890"
                                                },
                                                "is_organizer": {
                                                    "type": "boolean",
                                                    "example": false
                                                },
                                                "organizers": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/events": {
            "get": {
                "tags": [
                    "Events"
                ],
                "summary": "Get list of events for the authenticated organizer",
                "description": "Returns a list of all events accessible to the authenticated organizer user",
                "operationId": "getEventsList",
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "events": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "Concert Summer Festival"
                                                    },
                                                    "slug": {
                                                        "type": "string",
                                                        "example": "concert-summer-festival"
                                                    },
                                                    "description": {
                                                        "type": "string",
                                                        "example": "Amazing summer festival with great artists"
                                                    },
                                                    "image_url": {
                                                        "type": "string",
                                                        "example": "https://example.com/image.jpg",
                                                        "nullable": true
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "draft",
                                                            "published",
                                                            "cancelled"
                                                        ],
                                                        "example": "published"
                                                    },
                                                    "published_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "12/06/2025 14:30:00",
                                                        "nullable": true
                                                    },
                                                    "venue": {
                                                        "properties": {
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Madison Square Garden"
                                                            },
                                                            "city": {
                                                                "type": "string",
                                                                "example": "New York"
                                                            },
                                                            "address": {
                                                                "type": "string",
                                                                "example": "4 Pennsylvania Plaza"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "organizer": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "Live Nation"
                                                            },
                                                            "slug": {
                                                                "type": "string",
                                                                "example": "live-nation"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "schedules": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "starts_at": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "example": "15/06/2025 20:00:00"
                                                                },
                                                                "ends_at": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "example": "15/06/2025 23:00:00"
                                                                },
                                                                "door_time": {
                                                                    "type": "string",
                                                                    "format": "date-time",
                                                                    "example": "15/06/2025 19:00:00",
                                                                    "nullable": true
                                                                },
                                                                "status": {
                                                                    "type": "string",
                                                                    "enum": [
                                                                        "active",
                                                                        "cancelled",
                                                                        "postponed"
                                                                    ],
                                                                    "example": "active"
                                                                },
                                                                "capacity": {
                                                                    "properties": {
                                                                        "max": {
                                                                            "type": "integer",
                                                                            "example": 20000
                                                                        },
                                                                        "current": {
                                                                            "type": "integer",
                                                                            "example": 15000
                                                                        },
                                                                        "available": {
                                                                            "type": "integer",
                                                                            "example": 5000
                                                                        }
                                                                    },
                                                                    "type": "object"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "ticket_types": {
                                                        "type": "array",
                                                        "items": {
                                                            "properties": {
                                                                "id": {
                                                                    "type": "integer",
                                                                    "example": 1
                                                                },
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "General Admission"
                                                                },
                                                                "description": {
                                                                    "type": "string",
                                                                    "example": "Standard entry ticket",
                                                                    "nullable": true
                                                                },
                                                                "price": {
                                                                    "type": "number",
                                                                    "format": "float",
                                                                    "example": 75
                                                                },
                                                                "currency": {
                                                                    "type": "string",
                                                                    "example": "USD"
                                                                },
                                                                "available_quantity": {
                                                                    "type": "integer",
                                                                    "example": 10000,
                                                                    "nullable": true
                                                                },
                                                                "sold_quantity": {
                                                                    "type": "integer",
                                                                    "example": 8500
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Accès refusé. Seuls les organisateurs peuvent voir les événements."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/events/{id}": {
            "get": {
                "tags": [
                    "Events"
                ],
                "summary": "Get event details by ID",
                "description": "Returns detailed information about a specific event including venue, schedules, ticket types and statistics",
                "operationId": "getEventById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Event ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "event": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Concert Summer Festival"
                                                },
                                                "slug": {
                                                    "type": "string",
                                                    "example": "concert-summer-festival"
                                                },
                                                "description": {
                                                    "type": "string",
                                                    "example": "Amazing summer festival with great artists"
                                                },
                                                "image_url": {
                                                    "type": "string",
                                                    "example": "https://example.com/image.jpg",
                                                    "nullable": true
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "draft",
                                                        "published",
                                                        "cancelled"
                                                    ],
                                                    "example": "published"
                                                },
                                                "published_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/06/2025 14:30:00",
                                                    "nullable": true
                                                },
                                                "venue": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Madison Square Garden"
                                                        },
                                                        "city": {
                                                            "type": "string",
                                                            "example": "New York"
                                                        },
                                                        "address": {
                                                            "type": "string",
                                                            "example": "4 Pennsylvania Plaza"
                                                        },
                                                        "latitude": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 40.7505,
                                                            "nullable": true
                                                        },
                                                        "longitude": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": -73.9934,
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "organizer": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "Live Nation"
                                                        },
                                                        "slug": {
                                                            "type": "string",
                                                            "example": "live-nation"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "schedules": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "starts_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "15/06/2025 20:00:00"
                                                            },
                                                            "ends_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "15/06/2025 23:00:00"
                                                            },
                                                            "door_time": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "15/06/2025 19:00:00",
                                                                "nullable": true
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "active",
                                                                    "cancelled",
                                                                    "postponed"
                                                                ],
                                                                "example": "active"
                                                            },
                                                            "capacity": {
                                                                "properties": {
                                                                    "max": {
                                                                        "type": "integer",
                                                                        "example": 20000
                                                                    },
                                                                    "current": {
                                                                        "type": "integer",
                                                                        "example": 15000
                                                                    },
                                                                    "available": {
                                                                        "type": "integer",
                                                                        "example": 5000
                                                                    }
                                                                },
                                                                "type": "object"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "ticket_types": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "General Admission"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "Standard entry ticket",
                                                                "nullable": true
                                                            },
                                                            "price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 75
                                                            },
                                                            "currency": {
                                                                "type": "string",
                                                                "example": "USD"
                                                            },
                                                            "available_quantity": {
                                                                "type": "integer",
                                                                "example": 10000,
                                                                "nullable": true
                                                            },
                                                            "sold_quantity": {
                                                                "type": "integer",
                                                                "example": 8500
                                                            },
                                                            "remaining_quantity": {
                                                                "type": "integer",
                                                                "example": 1500
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "stats": {
                                                    "properties": {
                                                        "total_tickets": {
                                                            "type": "integer",
                                                            "example": 15000
                                                        },
                                                        "sold_tickets": {
                                                            "type": "integer",
                                                            "example": 12000
                                                        },
                                                        "used_tickets": {
                                                            "type": "integer",
                                                            "example": 8500
                                                        },
                                                        "total_revenue": {
                                                            "type": "number",
                                                            "format": "float",
                                                            "example": 900000
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Accès refusé. Seuls les organisateurs peuvent voir les événements."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Event not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Événement non trouvé."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/events/{id}/scan-stats": {
            "get": {
                "tags": [
                    "Events"
                ],
                "summary": "Get scan statistics for an event",
                "description": "Returns detailed scan statistics including ticket counts, scan results and recent scan history",
                "operationId": "getEventScanStats",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Event ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "event": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "title": {
                                                    "type": "string",
                                                    "example": "Concert Summer Festival"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "tickets": {
                                            "properties": {
                                                "total": {
                                                    "description": "Total number of tickets",
                                                    "type": "integer",
                                                    "example": 15000
                                                },
                                                "issued": {
                                                    "description": "Number of issued tickets",
                                                    "type": "integer",
                                                    "example": 12000
                                                },
                                                "used": {
                                                    "description": "Number of used tickets",
                                                    "type": "integer",
                                                    "example": 8500
                                                },
                                                "refunded": {
                                                    "description": "Number of refunded tickets",
                                                    "type": "integer",
                                                    "example": 200
                                                },
                                                "void": {
                                                    "description": "Number of void tickets",
                                                    "type": "integer",
                                                    "example": 50
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "scans": {
                                            "properties": {
                                                "total": {
                                                    "description": "Total number of scans",
                                                    "type": "integer",
                                                    "example": 9000
                                                },
                                                "valid": {
                                                    "description": "Number of valid scans",
                                                    "type": "integer",
                                                    "example": 8500
                                                },
                                                "duplicate": {
                                                    "description": "Number of duplicate scans",
                                                    "type": "integer",
                                                    "example": 450
                                                },
                                                "invalid": {
                                                    "description": "Number of invalid scans",
                                                    "type": "integer",
                                                    "example": 50
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "recent_scans": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "ticket_code": {
                                                        "type": "string",
                                                        "example": "TKT-2025-ABC123"
                                                    },
                                                    "result": {
                                                        "type": "string",
                                                        "enum": [
                                                            "valid",
                                                            "duplicate",
                                                            "invalid"
                                                        ],
                                                        "example": "valid"
                                                    },
                                                    "scanned_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "15/06/2025 20:15:30"
                                                    },
                                                    "scanner": {
                                                        "type": "string",
                                                        "example": "John Doe"
                                                    },
                                                    "device_id": {
                                                        "type": "string",
                                                        "example": "DEVICE-001",
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Accès refusé. Seuls les organisateurs peuvent voir les statistiques."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Event not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Événement non trouvé."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Get list of user orders",
                "description": "Returns a paginated list of orders for the authenticated user",
                "operationId": "getUserOrders",
                "parameters": [
                    {
                        "name": "page",
                        "in": "query",
                        "description": "Page number for pagination",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "minimum": 1,
                            "example": 1
                        }
                    },
                    {
                        "name": "per_page",
                        "in": "query",
                        "description": "Number of items per page",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "maximum": 100,
                            "minimum": 1,
                            "example": 20
                        }
                    },
                    {
                        "name": "status",
                        "in": "query",
                        "description": "Filter by order status",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "pending",
                                "paid",
                                "cancelled",
                                "refunded"
                            ]
                        }
                    },
                    {
                        "name": "event_id",
                        "in": "query",
                        "description": "Filter by event ID",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    },
                    {
                        "name": "from_date",
                        "in": "query",
                        "description": "Filter orders from this date (format: Y-m-d)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-01-01"
                        }
                    },
                    {
                        "name": "to_date",
                        "in": "query",
                        "description": "Filter orders to this date (format: Y-m-d)",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "format": "date",
                            "example": "2025-12-31"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "orders": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "order_number": {
                                                        "type": "string",
                                                        "example": "ORD-2025-000001"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "pending",
                                                            "paid",
                                                            "cancelled",
                                                            "refunded"
                                                        ],
                                                        "example": "paid"
                                                    },
                                                    "total_amount": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "example": 150
                                                    },
                                                    "currency": {
                                                        "type": "string",
                                                        "example": "USD"
                                                    },
                                                    "created_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "12/09/2025 14:30:00"
                                                    },
                                                    "paid_at": {
                                                        "type": "string",
                                                        "format": "date-time",
                                                        "example": "12/09/2025 14:35:00",
                                                        "nullable": true
                                                    },
                                                    "event": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Concert Summer Festival"
                                                            },
                                                            "venue_name": {
                                                                "type": "string",
                                                                "example": "Madison Square Garden"
                                                            },
                                                            "venue_city": {
                                                                "type": "string",
                                                                "example": "New York"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "schedule": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "starts_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": "15/06/2025 20:00:00"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "tickets_count": {
                                                        "description": "Total number of tickets in this order",
                                                        "type": "integer",
                                                        "example": 2
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "pagination": {
                                            "properties": {
                                                "total": {
                                                    "type": "integer",
                                                    "example": 50
                                                },
                                                "per_page": {
                                                    "type": "integer",
                                                    "example": 20
                                                },
                                                "current_page": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "last_page": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "from": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "to": {
                                                    "type": "integer",
                                                    "example": 20
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "501": {
                        "description": "Not implemented",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OrderController index method - À implémenter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "post": {
                "tags": [
                    "Orders"
                ],
                "summary": "Create a new order",
                "description": "Creates a new ticket order for an event",
                "operationId": "createOrder",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "event_id",
                                    "schedule_id",
                                    "tickets"
                                ],
                                "properties": {
                                    "event_id": {
                                        "description": "ID of the event",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "schedule_id": {
                                        "description": "ID of the event schedule",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "tickets": {
                                        "description": "Array of ticket types and quantities to order",
                                        "type": "array",
                                        "items": {
                                            "required": [
                                                "ticket_type_id",
                                                "quantity"
                                            ],
                                            "properties": {
                                                "ticket_type_id": {
                                                    "description": "ID of the ticket type",
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "quantity": {
                                                    "description": "Number of tickets",
                                                    "type": "integer",
                                                    "minimum": 1,
                                                    "example": 2
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "promo_code": {
                                        "description": "Optional promotional code",
                                        "type": "string",
                                        "example": "SUMMER20",
                                        "nullable": true
                                    },
                                    "attendee_info": {
                                        "description": "Additional attendee information",
                                        "properties": {
                                            "first_name": {
                                                "type": "string",
                                                "example": "Jane"
                                            },
                                            "last_name": {
                                                "type": "string",
                                                "example": "Doe"
                                            },
                                            "email": {
                                                "type": "string",
                                                "format": "email",
                                                "example": "jane@example.com"
                                            },
                                            "phone": {
                                                "type": "string",
                                                "example": "+1234567890"
                                            }
                                        },
                                        "type": "object",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Order created successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "order": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "order_number": {
                                                    "type": "string",
                                                    "example": "ORD-2025-000001"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "pending",
                                                        "paid",
                                                        "cancelled",
                                                        "refunded"
                                                    ],
                                                    "example": "pending"
                                                },
                                                "total_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 150
                                                },
                                                "currency": {
                                                    "type": "string",
                                                    "example": "USD"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 14:30:00"
                                                },
                                                "payment_deadline": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 14:45:00"
                                                },
                                                "event": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Concert Summer Festival"
                                                        },
                                                        "venue_name": {
                                                            "type": "string",
                                                            "example": "Madison Square Garden"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "schedule": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "starts_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "15/06/2025 20:00:00"
                                                        },
                                                        "ends_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "15/06/2025 23:00:00"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "order_items": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "ticket_type": {
                                                                "type": "string",
                                                                "example": "General Admission"
                                                            },
                                                            "quantity": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "unit_price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 75
                                                            },
                                                            "total_price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 150
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Commande créée avec succès"
                                        },
                                        "payment_url": {
                                            "type": "string",
                                            "example": "https://payment.example.com/checkout/abc123",
                                            "nullable": true
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Quantité de billets insuffisante"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Les données fournies sont invalides."
                                        },
                                        "errors": {
                                            "properties": {
                                                "event_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "L'événement sélectionné n'existe pas."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "501": {
                        "description": "Not implemented",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OrderController store method - À implémenter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{id}": {
            "get": {
                "tags": [
                    "Orders"
                ],
                "summary": "Get specific order details",
                "description": "Returns detailed information about a specific order including tickets and payment details",
                "operationId": "getOrderById",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "order": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "order_number": {
                                                    "type": "string",
                                                    "example": "ORD-2025-000001"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "pending",
                                                        "paid",
                                                        "cancelled",
                                                        "refunded"
                                                    ],
                                                    "example": "paid"
                                                },
                                                "total_amount": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 150
                                                },
                                                "currency": {
                                                    "type": "string",
                                                    "example": "USD"
                                                },
                                                "created_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 14:30:00"
                                                },
                                                "paid_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 14:35:00",
                                                    "nullable": true
                                                },
                                                "payment_deadline": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 14:45:00",
                                                    "nullable": true
                                                },
                                                "cancelled_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "cancellation_reason": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "event": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Concert Summer Festival"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "Amazing summer festival with great artists"
                                                        },
                                                        "image_url": {
                                                            "type": "string",
                                                            "example": "https://example.com/event.jpg",
                                                            "nullable": true
                                                        },
                                                        "venue_name": {
                                                            "type": "string",
                                                            "example": "Madison Square Garden"
                                                        },
                                                        "venue_city": {
                                                            "type": "string",
                                                            "example": "New York"
                                                        },
                                                        "venue_address": {
                                                            "type": "string",
                                                            "example": "4 Pennsylvania Plaza"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "schedule": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "starts_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "15/06/2025 20:00:00"
                                                        },
                                                        "ends_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "15/06/2025 23:00:00"
                                                        },
                                                        "door_time": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "15/06/2025 19:00:00",
                                                            "nullable": true
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "enum": [
                                                                "active",
                                                                "cancelled",
                                                                "postponed"
                                                            ],
                                                            "example": "active"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "order_items": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "ticket_type": {
                                                                "type": "string",
                                                                "example": "General Admission"
                                                            },
                                                            "ticket_description": {
                                                                "type": "string",
                                                                "example": "Standard entry ticket",
                                                                "nullable": true
                                                            },
                                                            "quantity": {
                                                                "type": "integer",
                                                                "example": 2
                                                            },
                                                            "unit_price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 75
                                                            },
                                                            "total_price": {
                                                                "type": "number",
                                                                "format": "float",
                                                                "example": 150
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "tickets": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "ticket_number": {
                                                                "type": "string",
                                                                "example": "TIK-2025-000001-001"
                                                            },
                                                            "qr_code": {
                                                                "type": "string",
                                                                "example": "TIK2025000001001QR"
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "valid",
                                                                    "used",
                                                                    "cancelled"
                                                                ],
                                                                "example": "valid"
                                                            },
                                                            "used_at": {
                                                                "type": "string",
                                                                "format": "date-time",
                                                                "example": null,
                                                                "nullable": true
                                                            },
                                                            "ticket_type": {
                                                                "type": "string",
                                                                "example": "General Admission"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                },
                                                "payment_details": {
                                                    "properties": {
                                                        "payment_method": {
                                                            "type": "string",
                                                            "example": "credit_card"
                                                        },
                                                        "transaction_id": {
                                                            "type": "string",
                                                            "example": "txn_abc123xyz"
                                                        },
                                                        "payment_provider": {
                                                            "type": "string",
                                                            "example": "stripe"
                                                        }
                                                    },
                                                    "type": "object",
                                                    "nullable": true
                                                },
                                                "attendee_info": {
                                                    "properties": {
                                                        "first_name": {
                                                            "type": "string",
                                                            "example": "Jane"
                                                        },
                                                        "last_name": {
                                                            "type": "string",
                                                            "example": "Doe"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "jane@example.com"
                                                        },
                                                        "phone": {
                                                            "type": "string",
                                                            "example": "+1234567890"
                                                        }
                                                    },
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vous n'êtes pas autorisé à voir cette commande."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Commande introuvable."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "501": {
                        "description": "Not implemented",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OrderController show method - À implémenter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            },
            "put": {
                "tags": [
                    "Orders"
                ],
                "summary": "Update order information",
                "description": "Updates modifiable order information such as attendee details",
                "operationId": "updateOrder",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "attendee_info": {
                                        "description": "Updated attendee information",
                                        "properties": {
                                            "first_name": {
                                                "type": "string",
                                                "example": "Jane"
                                            },
                                            "last_name": {
                                                "type": "string",
                                                "example": "Smith"
                                            },
                                            "email": {
                                                "type": "string",
                                                "format": "email",
                                                "example": "jane.smith@example.com"
                                            },
                                            "phone": {
                                                "type": "string",
                                                "example": "+1234567890"
                                            }
                                        },
                                        "type": "object"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order updated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "order": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "order_number": {
                                                    "type": "string",
                                                    "example": "ORD-2025-000001"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "paid"
                                                },
                                                "updated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 16:30:00"
                                                },
                                                "attendee_info": {
                                                    "properties": {
                                                        "first_name": {
                                                            "type": "string",
                                                            "example": "Jane"
                                                        },
                                                        "last_name": {
                                                            "type": "string",
                                                            "example": "Smith"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "jane.smith@example.com"
                                                        },
                                                        "phone": {
                                                            "type": "string",
                                                            "example": "+1234567890"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Commande mise à jour avec succès"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vous n'êtes pas autorisé à modifier cette commande."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Commande introuvable."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Les données fournies sont invalides."
                                        },
                                        "errors": {
                                            "properties": {
                                                "attendee_info.email": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "Le format de l'email est invalide."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "501": {
                        "description": "Not implemented",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OrderController update method - À implémenter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/orders/{id}/cancel": {
            "patch": {
                "tags": [
                    "Orders"
                ],
                "summary": "Cancel an order",
                "description": "Cancels a pending order and optionally processes refund for paid orders",
                "operationId": "cancelOrder",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Order ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": false,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "cancellation_reason": {
                                        "description": "Reason for cancellation",
                                        "type": "string",
                                        "example": "Event cancelled by organizer"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Order cancelled successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "order": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "order_number": {
                                                    "type": "string",
                                                    "example": "ORD-2025-000001"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "cancelled"
                                                },
                                                "cancelled_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "12/09/2025 15:30:00"
                                                },
                                                "cancellation_reason": {
                                                    "type": "string",
                                                    "example": "Event cancelled by organizer"
                                                },
                                                "refund_status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "not_applicable",
                                                        "pending",
                                                        "processing",
                                                        "completed"
                                                    ],
                                                    "example": "pending"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Commande annulée avec succès"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Cannot cancel order",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Impossible d'annuler cette commande"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthenticated",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Vous n'êtes pas autorisé à annuler cette commande."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Commande introuvable."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "501": {
                        "description": "Not implemented",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "OrderController cancel method - À implémenter"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/organizers/dashboard": {
            "get": {
                "tags": [
                    "Organizers"
                ],
                "summary": "Get organizer dashboard",
                "description": "Returns comprehensive dashboard data including statistics, scan data, and recent events for authenticated organizers",
                "operationId": "getOrganizerDashboard",
                "responses": {
                    "200": {
                        "description": "Dashboard data retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "stats": {
                                            "properties": {
                                                "total_events": {
                                                    "type": "integer",
                                                    "example": 15
                                                },
                                                "active_events": {
                                                    "type": "integer",
                                                    "example": 8
                                                },
                                                "total_tickets": {
                                                    "type": "integer",
                                                    "example": 5420
                                                },
                                                "used_tickets": {
                                                    "type": "integer",
                                                    "example": 3821
                                                },
                                                "usage_rate": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 70.5
                                                },
                                                "total_revenue": {
                                                    "type": "number",
                                                    "format": "float",
                                                    "example": 125340.5
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "scan_stats": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "date": {
                                                        "type": "string",
                                                        "format": "date",
                                                        "example": "2025-06-15"
                                                    },
                                                    "total": {
                                                        "type": "integer",
                                                        "example": 150
                                                    },
                                                    "valid": {
                                                        "type": "integer",
                                                        "example": 142
                                                    },
                                                    "duplicate": {
                                                        "type": "integer",
                                                        "example": 6
                                                    },
                                                    "invalid": {
                                                        "type": "integer",
                                                        "example": 2
                                                    },
                                                    "success_rate": {
                                                        "type": "number",
                                                        "format": "float",
                                                        "example": 94.7
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "recent_events": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "title": {
                                                        "type": "string",
                                                        "example": "Summer Music Festival"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "enum": [
                                                            "draft",
                                                            "published",
                                                            "cancelled"
                                                        ],
                                                        "example": "published"
                                                    },
                                                    "next_schedule": {
                                                        "properties": {
                                                            "starts_at": {
                                                                "type": "string",
                                                                "example": "15/06/2025 20:00"
                                                            },
                                                            "ends_at": {
                                                                "type": "string",
                                                                "example": "15/06/2025 23:00"
                                                            }
                                                        },
                                                        "type": "object",
                                                        "nullable": true
                                                    },
                                                    "tickets_sold": {
                                                        "type": "integer",
                                                        "example": 850
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Accès refusé. Seuls les organisateurs peuvent accéder au dashboard."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Unauthenticated."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/payments": {
            "get": {
                "tags": [
                    "Payments"
                ],
                "summary": "Get user's payment list",
                "operationId": "5c0376d7485b2a2eca6399057ec0455b",
                "responses": {
                    "200": {
                        "description": "Payment list retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payments": {
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "amount": {
                                                                "type": "number",
                                                                "example": 15000
                                                            },
                                                            "status": {
                                                                "type": "string",
                                                                "example": "Payé"
                                                            },
                                                            "gateway": {
                                                                "type": "string",
                                                                "example": "Airtel Money"
                                                            },
                                                            "date": {
                                                                "type": "string",
                                                                "example": "12-09-2025 14:30"
                                                            },
                                                            "event_title": {
                                                                "type": "string",
                                                                "example": "Concert de Jazz"
                                                            },
                                                            "reference": {
                                                                "type": "string",
                                                                "example": "PAY-A1B2C3D4E5"
                                                            },
                                                            "type": {
                                                                "type": "string",
                                                                "example": "Achat de billet"
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Liste des paiements"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/payments/{id}": {
            "get": {
                "tags": [
                    "Payments"
                ],
                "summary": "Get payment details",
                "operationId": "d2980ce3d40e20b85e92e33c5b07e8d0",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "Payment ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment details retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payment": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "reference": {
                                                            "type": "string",
                                                            "example": "PAY-A1B2C3D4E5"
                                                        },
                                                        "amount": {
                                                            "type": "number",
                                                            "example": 15000
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "example": "successful"
                                                        },
                                                        "gateway": {
                                                            "type": "string",
                                                            "example": "Airtel Money"
                                                        },
                                                        "transaction_id": {
                                                            "type": "string",
                                                            "example": "TXN123456789"
                                                        },
                                                        "date": {
                                                            "type": "string",
                                                            "example": "12-09-2025 14:30"
                                                        },
                                                        "type": {
                                                            "type": "string",
                                                            "example": "Achat de billet"
                                                        },
                                                        "event": {
                                                            "properties": {
                                                                "title": {
                                                                    "type": "string",
                                                                    "example": "Concert de Jazz"
                                                                },
                                                                "venue_name": {
                                                                    "type": "string",
                                                                    "example": "Palais des Congrès"
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "tickets_count": {
                                                            "type": "integer",
                                                            "example": 2
                                                        },
                                                        "expires_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-09-12T15:45:00Z"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Paiement n° 1"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Paiement non trouvé"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/orders/{orderId}/payment": {
            "post": {
                "tags": [
                    "Payments"
                ],
                "summary": "Process payment for an order",
                "operationId": "c7c85c57aaaed18675933352f208dae7",
                "parameters": [
                    {
                        "name": "orderId",
                        "in": "path",
                        "description": "Order ID to process payment for",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "gateway"
                                ],
                                "properties": {
                                    "gateway": {
                                        "type": "string",
                                        "enum": [
                                            "airtelmoney",
                                            "moovmoney",
                                            "card"
                                        ],
                                        "example": "airtelmoney"
                                    },
                                    "phone": {
                                        "description": "Required for mobile money payments. Must be Airtel (074,077,076) or Moov (060,062,066,065) number",
                                        "type": "string",
                                        "pattern": "^(074|077|076|060|062|066|065)\\\\d{6}$",
                                        "example": "0741234567"
                                    },
                                    "operator": {
                                        "description": "Mobile operator (optional)",
                                        "type": "string",
                                        "example": "airtel"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Payment initiated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "description": "Mobile Money Payment Response",
                                            "properties": {
                                                "success": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Push USSD envoyé sur votre mobile. Veuillez valider la transaction."
                                                },
                                                "payment_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "reference": {
                                                    "type": "string",
                                                    "example": "PAY-A1B2C3D4E5"
                                                },
                                                "expires_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-09-12T15:45:00"
                                                },
                                                "push_sent": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "instructions": {
                                                    "type": "string",
                                                    "example": "Vous allez recevoir une demande de confirmation sur votre téléphone. Tapez 1 pour confirmer."
                                                }
                                            },
                                            "type": "object"
                                        },
                                        {
                                            "description": "Card Payment Response",
                                            "properties": {
                                                "success": {
                                                    "type": "boolean",
                                                    "example": true
                                                },
                                                "message": {
                                                    "type": "string",
                                                    "example": "Redirection vers la page de paiement"
                                                },
                                                "payment_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "payment_url": {
                                                    "type": "string",
                                                    "example": "https://secure.payment.com?reference=PAY-A1B2C3D4E5"
                                                },
                                                "expires_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-09-12T15:45:00"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Order expired or invalid",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Cette commande a expiré"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Order not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Commande non trouvée"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/payments/{payment}/status": {
            "get": {
                "tags": [
                    "Payments"
                ],
                "summary": "Get payment status",
                "operationId": "6a8f0c10ea8d25cb946dbdce6efb009a",
                "parameters": [
                    {
                        "name": "payment",
                        "in": "path",
                        "description": "Payment ID",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Payment status retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "payment": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "reference": {
                                                            "type": "string",
                                                            "example": "PAY-A1B2C3D4E5"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "enum": [
                                                                "pending",
                                                                "successful",
                                                                "failed",
                                                                "expired",
                                                                "cancelled"
                                                            ],
                                                            "example": "successful"
                                                        },
                                                        "amount": {
                                                            "type": "number",
                                                            "example": 15000
                                                        },
                                                        "gateway": {
                                                            "type": "string",
                                                            "example": "Airtel Money"
                                                        },
                                                        "expires_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-09-12T15:45:00"
                                                        },
                                                        "paid_at": {
                                                            "type": "string",
                                                            "format": "date-time",
                                                            "example": "2025-09-12T14:35:00"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Statut du paiement"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "404": {
                        "description": "Payment not found"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/payments/push-ussd": {
            "post": {
                "tags": [
                    "Payments"
                ],
                "summary": "Send USSD push for mobile money payment",
                "operationId": "7fb7c8ead80ca7a5e17c84d9958cf658",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "payment_id",
                                    "phone",
                                    "gateway"
                                ],
                                "properties": {
                                    "payment_id": {
                                        "description": "Payment ID to send push for",
                                        "type": "integer",
                                        "example": 1
                                    },
                                    "phone": {
                                        "description": "Phone number to send USSD push",
                                        "type": "string",
                                        "example": "0741234567"
                                    },
                                    "gateway": {
                                        "description": "Mobile money gateway",
                                        "type": "string",
                                        "enum": [
                                            "airtelmoney",
                                            "moovmoney"
                                        ],
                                        "example": "airtelmoney"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "USSD push sent successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Push USSD envoyé avec succès"
                                        },
                                        "data": {
                                            "properties": {
                                                "payment_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "reference": {
                                                    "type": "string",
                                                    "example": "PAY-A1B2C3D4E5"
                                                },
                                                "transaction_id": {
                                                    "type": "string",
                                                    "example": "TXN123456789"
                                                },
                                                "expires_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-09-12T15:45:00"
                                                },
                                                "instructions": {
                                                    "type": "string",
                                                    "example": "Vérifiez votre téléphone et confirmez la transaction en tapant 1."
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request - Payment not pending or USSD push failed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ce paiement n'est plus en attente"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Accès refusé à ce paiement"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found"
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur technique lors de l'envoi du push USSD"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/payments/kyc": {
            "post": {
                "tags": [
                    "Payments"
                ],
                "summary": "Check KYC (Know Your Customer) information",
                "operationId": "c4f3bdda96dac6f65a04adb14caac8e7",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "phone",
                                    "gateway"
                                ],
                                "properties": {
                                    "phone": {
                                        "description": "Phone number to check KYC for",
                                        "type": "string",
                                        "example": "0741234567"
                                    },
                                    "gateway": {
                                        "description": "Mobile money gateway",
                                        "type": "string",
                                        "enum": [
                                            "airtelmoney",
                                            "moovmoney"
                                        ],
                                        "example": "airtelmoney"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Customer information found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "customer_name": {
                                                    "type": "string",
                                                    "example": "John Doe"
                                                },
                                                "phone": {
                                                    "type": "string",
                                                    "example": "0741234567"
                                                },
                                                "gateway": {
                                                    "type": "string",
                                                    "example": "airtelmoney"
                                                },
                                                "account_status": {
                                                    "type": "string",
                                                    "example": "active"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Informations client trouvées"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Customer not found or account inactive",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Client non trouvé ou compte inactif"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error"
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de la vérification KYC"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": {
                    "bearerAuth": {}
                }
            }
        },
        "/api/tickets/{ticketId}/qr-code": {
            "get": {
                "tags": [
                    "QR Codes"
                ],
                "summary": "Generate secure QR Code for a ticket",
                "description": "Generates a secure QR Code for a specific ticket with EMVCO/AMA compliance",
                "operationId": "generateSecureQRCode",
                "parameters": [
                    {
                        "name": "ticketId",
                        "in": "path",
                        "description": "ID of the ticket",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "QR Code generated successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "ticket_id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "secure_qr_content": {
                                                    "type": "string",
                                                    "example": "00020101021243650016A000000025010..."
                                                },
                                                "simple_qr_code": {
                                                    "type": "string",
                                                    "example": "TKT123456789"
                                                },
                                                "qr_format": {
                                                    "type": "string",
                                                    "example": "EMVCO_AMA_COMPLIANT"
                                                },
                                                "security_level": {
                                                    "type": "string",
                                                    "example": "HIGH"
                                                },
                                                "generated_at": {
                                                    "type": "string",
                                                    "format": "date-time",
                                                    "example": "2025-06-15T14:30:00.000Z"
                                                },
                                                "ticket_info": {
                                                    "properties": {
                                                        "code": {
                                                            "type": "string",
                                                            "example": "TKT123456789"
                                                        },
                                                        "status": {
                                                            "type": "string",
                                                            "enum": [
                                                                "issued",
                                                                "used"
                                                            ],
                                                            "example": "issued"
                                                        },
                                                        "event": {
                                                            "properties": {
                                                                "title": {
                                                                    "type": "string",
                                                                    "example": "Summer Music Festival"
                                                                },
                                                                "venue": {
                                                                    "type": "string",
                                                                    "example": "Central Park"
                                                                },
                                                                "city": {
                                                                    "type": "string",
                                                                    "example": "New York"
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "ticket_type": {
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "VIP Access"
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "holder": {
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string",
                                                                    "example": "John Doe"
                                                                },
                                                                "email": {
                                                                    "type": "string",
                                                                    "example": "john@example.com"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "QR Code sécurisé généré avec succès"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid ticket state",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ce billet n'est pas dans un état valide"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Accès refusé à ce billet"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Ticket not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Ticket]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "QR Code generation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de la génération du QR Code: ..."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/qr-codes/analyze": {
            "post": {
                "tags": [
                    "QR Codes"
                ],
                "summary": "Analyze QR Code content",
                "description": "Decodes and analyzes QR Code content for debugging and testing purposes. Only accessible to organizers.",
                "operationId": "analyzeQRCode",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "qr_content"
                                ],
                                "properties": {
                                    "qr_content": {
                                        "description": "QR Code content to analyze",
                                        "type": "string",
                                        "example": "00020101021243650016A000000025010..."
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "QR Code analysis completed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "decoded_data": {
                                                    "properties": {
                                                        "valid": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "security_hash": {
                                                            "type": "string",
                                                            "example": "abc123..."
                                                        },
                                                        "parsed_data": {
                                                            "properties": {
                                                                "00": {
                                                                    "type": "string",
                                                                    "example": "01"
                                                                },
                                                                "01": {
                                                                    "type": "string",
                                                                    "example": "12"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "validation_result": {
                                                    "description": "Validation result from QR service",
                                                    "type": "object"
                                                },
                                                "analysis": {
                                                    "properties": {
                                                        "format_valid": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "crc_valid": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "structure_compliant": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "security_hash_present": {
                                                            "type": "boolean",
                                                            "example": true
                                                        },
                                                        "emvco_compliant": {
                                                            "type": "boolean",
                                                            "example": true
                                                        }
                                                    },
                                                    "type": "object"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Analyse du QR Code terminée"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Analysis error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de l'analyse: ..."
                                        },
                                        "data": {
                                            "properties": {
                                                "raw_content": {
                                                    "type": "string"
                                                },
                                                "content_length": {
                                                    "type": "integer"
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Seuls les organisateurs peuvent analyser les QR Codes"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The qr content field is required."
                                        },
                                        "errors": {
                                            "properties": {
                                                "qr_content": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The qr content field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/tickets/{ticketId}/qr-codes/compare": {
            "get": {
                "tags": [
                    "QR Codes"
                ],
                "summary": "Compare QR Code formats",
                "description": "Compares simple and secure QR Code formats for a ticket. Only accessible to organizers.",
                "operationId": "compareQRFormats",
                "parameters": [
                    {
                        "name": "ticketId",
                        "in": "path",
                        "description": "ID of the ticket",
                        "required": true,
                        "schema": {
                            "type": "integer",
                            "example": 1
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "QR Code format comparison completed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "properties": {
                                                "ticket_info": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "code": {
                                                            "type": "string",
                                                            "example": "TKT123456789"
                                                        },
                                                        "event": {
                                                            "type": "string",
                                                            "example": "Summer Music Festival"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "comparison": {
                                                    "properties": {
                                                        "simple_qr": {
                                                            "properties": {
                                                                "content": {
                                                                    "type": "string",
                                                                    "example": "TKT123456789"
                                                                },
                                                                "length": {
                                                                    "type": "integer",
                                                                    "example": 12
                                                                },
                                                                "security_level": {
                                                                    "type": "string",
                                                                    "example": "BASIC"
                                                                },
                                                                "anti_counterfeit": {
                                                                    "type": "boolean",
                                                                    "example": false
                                                                },
                                                                "structured_data": {
                                                                    "type": "boolean",
                                                                    "example": false
                                                                },
                                                                "crc_validation": {
                                                                    "type": "boolean",
                                                                    "example": false
                                                                },
                                                                "format": {
                                                                    "type": "string",
                                                                    "example": "PLAIN_TEXT"
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "secure_qr": {
                                                            "properties": {
                                                                "content": {
                                                                    "type": "string",
                                                                    "example": "00020101021243650016A000000025010..."
                                                                },
                                                                "length": {
                                                                    "type": "integer",
                                                                    "example": 150
                                                                },
                                                                "security_level": {
                                                                    "type": "string",
                                                                    "example": "HIGH"
                                                                },
                                                                "anti_counterfeit": {
                                                                    "type": "boolean",
                                                                    "example": true
                                                                },
                                                                "structured_data": {
                                                                    "type": "boolean",
                                                                    "example": true
                                                                },
                                                                "crc_validation": {
                                                                    "type": "boolean",
                                                                    "example": true
                                                                },
                                                                "format": {
                                                                    "type": "string",
                                                                    "example": "EMVCO_AMA_COMPLIANT"
                                                                },
                                                                "security_features": {
                                                                    "type": "array",
                                                                    "items": {
                                                                        "type": "string",
                                                                        "example": "unique_ticket_hash"
                                                                    }
                                                                }
                                                            },
                                                            "type": "object"
                                                        },
                                                        "benefits_secure": {
                                                            "properties": {
                                                                "prevents_counterfeiting": {
                                                                    "type": "string"
                                                                },
                                                                "data_integrity": {
                                                                    "type": "string"
                                                                },
                                                                "structured_format": {
                                                                    "type": "string"
                                                                },
                                                                "future_proof": {
                                                                    "type": "string"
                                                                },
                                                                "privacy_protection": {
                                                                    "type": "string"
                                                                },
                                                                "audit_trail": {
                                                                    "type": "string"
                                                                }
                                                            },
                                                            "type": "object"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "recommendation": {
                                                    "type": "string",
                                                    "example": "Utiliser le format sécurisé pour la production"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Comparaison des formats QR terminée"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Seuls les organisateurs peuvent comparer les formats"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Ticket not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "No query results for model [App\\\\Models\\\\Ticket]"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Comparison error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur lors de la comparaison: ..."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/scans": {
            "post": {
                "tags": [
                    "Scanning"
                ],
                "summary": "Record ticket scan",
                "description": "Records a ticket scan from mobile scanning app. Validates the ticket and updates its status.",
                "operationId": "recordTicketScan",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "qr_code",
                                    "scanned_at",
                                    "device_id"
                                ],
                                "properties": {
                                    "qr_code": {
                                        "description": "QR code content from the scanned ticket",
                                        "type": "string",
                                        "example": "TKT123456789"
                                    },
                                    "scanned_at": {
                                        "description": "Timestamp when the ticket was scanned",
                                        "type": "string",
                                        "format": "date-time",
                                        "example": "2025-06-15T20:30:00Z"
                                    },
                                    "device_id": {
                                        "description": "Unique identifier of the scanning device",
                                        "type": "string",
                                        "example": "SCANNER_001_GATE_A"
                                    },
                                    "location_hint": {
                                        "description": "Optional location hint where scan occurred",
                                        "type": "string",
                                        "example": "Main Entrance Gate A",
                                        "nullable": true
                                    },
                                    "notes": {
                                        "description": "Optional notes about the scan",
                                        "type": "string",
                                        "example": "Customer had damaged ticket",
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Valid ticket scan recorded successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Billet validé avec succès"
                                        },
                                        "result": {
                                            "type": "string",
                                            "enum": [
                                                "valid",
                                                "duplicate",
                                                "invalid"
                                            ],
                                            "example": "valid"
                                        },
                                        "scan_id": {
                                            "type": "integer",
                                            "example": 123
                                        },
                                        "ticket": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "code": {
                                                    "type": "string",
                                                    "example": "TKT123456789"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "enum": [
                                                        "issued",
                                                        "used"
                                                    ],
                                                    "example": "used"
                                                },
                                                "event": {
                                                    "properties": {
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Summer Music Festival"
                                                        },
                                                        "venue_name": {
                                                            "type": "string",
                                                            "example": "Central Park"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "ticket_type": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "VIP Access"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "holder": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "John Doe"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "john@example.com"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "used_at": {
                                                    "type": "string",
                                                    "example": "15/06/2025 20:30:15",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid QR code",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "QR code invalide"
                                        },
                                        "result": {
                                            "type": "string",
                                            "example": "invalid"
                                        },
                                        "scan_id": {
                                            "type": "integer",
                                            "example": 124
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Access denied",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Seuls les organisateurs peuvent enregistrer des scans."
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "409": {
                        "description": "Duplicate ticket scan",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ce billet a déjà été scanné le 15/06/2025 à 18:45:30"
                                        },
                                        "result": {
                                            "type": "string",
                                            "example": "duplicate"
                                        },
                                        "scan_id": {
                                            "type": "integer",
                                            "example": 125
                                        },
                                        "ticket": {
                                            "description": "Ticket information with duplicate status",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The qr code field is required."
                                        },
                                        "errors": {
                                            "properties": {
                                                "qr_code": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The qr code field is required."
                                                    }
                                                },
                                                "scanned_at": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The scanned at field is required."
                                                    }
                                                },
                                                "device_id": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The device id field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/tickets/validate": {
            "post": {
                "tags": [
                    "Tickets"
                ],
                "summary": "Validate a ticket via QR code",
                "description": "Validates a ticket by scanning its QR code. Supports both secure EMVCO/AMA format and fallback to simple codes.",
                "operationId": "validateTicket",
                "requestBody": {
                    "description": "QR code validation request",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "required": [
                                    "qr_code"
                                ],
                                "properties": {
                                    "qr_code": {
                                        "description": "The QR code content to validate",
                                        "type": "string",
                                        "example": "TCK-2024-001-ABC123"
                                    },
                                    "action": {
                                        "description": "Action to perform - validate or just get info",
                                        "type": "string",
                                        "enum": [
                                            "validate",
                                            "info"
                                        ],
                                        "example": "validate"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Ticket validation successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "valid": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ticket validé avec succès"
                                        },
                                        "result": {
                                            "type": "string",
                                            "example": "valid"
                                        },
                                        "ticket": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "code": {
                                                    "type": "string",
                                                    "example": "TCK-2024-001-ABC123"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "issued"
                                                },
                                                "event": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Concert Example"
                                                        },
                                                        "slug": {
                                                            "type": "string",
                                                            "example": "concert-example"
                                                        },
                                                        "image_url": {
                                                            "type": "string",
                                                            "example": "https://example.com/image.jpg"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "ticket_type": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "VIP"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "VIP access with premium amenities"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "buyer": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "John Doe"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "john@example.com"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "issued_at": {
                                                    "type": "string",
                                                    "example": "01/01/2024 10:00:00"
                                                },
                                                "used_at": {
                                                    "type": "string",
                                                    "example": null,
                                                    "nullable": true
                                                },
                                                "schedule": {
                                                    "properties": {
                                                        "starts_at": {
                                                            "type": "string",
                                                            "example": "01/01/2024 20:00:00"
                                                        },
                                                        "ends_at": {
                                                            "type": "string",
                                                            "example": "01/01/2024 23:00:00"
                                                        },
                                                        "door_time": {
                                                            "type": "string",
                                                            "example": "01/01/2024 19:30:00",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object",
                                                    "nullable": true
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Validation failed - Invalid, duplicate, or not yet valid ticket",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "valid": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Ticket déjà utilisé"
                                        },
                                        "result": {
                                            "type": "string",
                                            "enum": [
                                                "invalid",
                                                "duplicate"
                                            ],
                                            "example": "duplicate"
                                        },
                                        "first_scan": {
                                            "type": "string",
                                            "example": "01/01/2024 20:30:00"
                                        },
                                        "status": {
                                            "type": "string",
                                            "example": "used"
                                        },
                                        "event_start": {
                                            "type": "string",
                                            "example": "01/01/2024 20:00:00"
                                        },
                                        "security_check": {
                                            "type": "string",
                                            "example": "PASSED"
                                        },
                                        "ticket": {
                                            "description": "Ticket information (included for duplicate tickets)",
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Validation errors",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "The given data was invalid."
                                        },
                                        "errors": {
                                            "properties": {
                                                "qr_code": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string",
                                                        "example": "The qr code field is required."
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "System error during validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "valid": {
                                            "type": "boolean",
                                            "example": false
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Erreur système lors de la validation"
                                        },
                                        "result": {
                                            "type": "string",
                                            "example": "error"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/tickets/{code}": {
            "get": {
                "tags": [
                    "Tickets"
                ],
                "summary": "Get ticket information by code",
                "description": "Retrieves detailed information about a ticket using its code, including checkin history.",
                "operationId": "showTicket",
                "parameters": [
                    {
                        "name": "code",
                        "in": "path",
                        "description": "The ticket code to retrieve",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "TCK-2024-001-ABC123"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Ticket information retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "ticket": {
                                            "properties": {
                                                "id": {
                                                    "type": "integer",
                                                    "example": 1
                                                },
                                                "code": {
                                                    "type": "string",
                                                    "example": "TCK-2024-001-ABC123"
                                                },
                                                "status": {
                                                    "type": "string",
                                                    "example": "issued"
                                                },
                                                "event": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "title": {
                                                            "type": "string",
                                                            "example": "Concert Example"
                                                        },
                                                        "slug": {
                                                            "type": "string",
                                                            "example": "concert-example"
                                                        },
                                                        "image_url": {
                                                            "type": "string",
                                                            "example": "https://example.com/image.jpg"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "ticket_type": {
                                                    "properties": {
                                                        "id": {
                                                            "type": "integer",
                                                            "example": 1
                                                        },
                                                        "name": {
                                                            "type": "string",
                                                            "example": "VIP"
                                                        },
                                                        "description": {
                                                            "type": "string",
                                                            "example": "VIP access with premium amenities"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "buyer": {
                                                    "properties": {
                                                        "name": {
                                                            "type": "string",
                                                            "example": "John Doe"
                                                        },
                                                        "email": {
                                                            "type": "string",
                                                            "example": "john@example.com"
                                                        }
                                                    },
                                                    "type": "object"
                                                },
                                                "issued_at": {
                                                    "type": "string",
                                                    "example": "01/01/2024 10:00:00"
                                                },
                                                "used_at": {
                                                    "type": "string",
                                                    "example": "01/01/2024 20:30:00",
                                                    "nullable": true
                                                },
                                                "schedule": {
                                                    "properties": {
                                                        "starts_at": {
                                                            "type": "string",
                                                            "example": "01/01/2024 20:00:00"
                                                        },
                                                        "ends_at": {
                                                            "type": "string",
                                                            "example": "01/01/2024 23:00:00"
                                                        },
                                                        "door_time": {
                                                            "type": "string",
                                                            "example": "01/01/2024 19:30:00",
                                                            "nullable": true
                                                        }
                                                    },
                                                    "type": "object",
                                                    "nullable": true
                                                },
                                                "checkins": {
                                                    "description": "Checkin history for this ticket",
                                                    "type": "array",
                                                    "items": {
                                                        "properties": {
                                                            "scanned_at": {
                                                                "type": "string",
                                                                "example": "01/01/2024 20:30:00"
                                                            },
                                                            "result": {
                                                                "type": "string",
                                                                "enum": [
                                                                    "valid",
                                                                    "invalid",
                                                                    "duplicate"
                                                                ],
                                                                "example": "valid"
                                                            },
                                                            "device_id": {
                                                                "type": "string",
                                                                "example": "SCANNER-001",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object"
                                                    }
                                                }
                                            },
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Ticket not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Ticket non trouvé"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "sanctum": []
                    }
                ]
            }
        },
        "/api/tickets/retrieve/{token}": {
            "get": {
                "tags": [
                    "Tickets"
                ],
                "summary": "Retrieve tickets using recovery token",
                "description": "Retrieves all tickets for a specific order using a recovery token. Token format: base64(email:order_reference)",
                "operationId": "retrieveTickets",
                "parameters": [
                    {
                        "name": "token",
                        "in": "path",
                        "description": "Base64 encoded recovery token containing email and order reference",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "example": "am9obkBleGFtcGxlLmNvbTpPUkQtMjAyNC0wMDE="
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Tickets retrieved successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "tickets": {
                                            "type": "array",
                                            "items": {
                                                "properties": {
                                                    "id": {
                                                        "type": "integer",
                                                        "example": 1
                                                    },
                                                    "code": {
                                                        "type": "string",
                                                        "example": "TCK-2024-001-ABC123"
                                                    },
                                                    "status": {
                                                        "type": "string",
                                                        "example": "issued"
                                                    },
                                                    "event": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "title": {
                                                                "type": "string",
                                                                "example": "Concert Example"
                                                            },
                                                            "slug": {
                                                                "type": "string",
                                                                "example": "concert-example"
                                                            },
                                                            "image_url": {
                                                                "type": "string",
                                                                "example": "https://example.com/image.jpg"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "ticket_type": {
                                                        "properties": {
                                                            "id": {
                                                                "type": "integer",
                                                                "example": 1
                                                            },
                                                            "name": {
                                                                "type": "string",
                                                                "example": "VIP"
                                                            },
                                                            "description": {
                                                                "type": "string",
                                                                "example": "VIP access with premium amenities"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "buyer": {
                                                        "properties": {
                                                            "name": {
                                                                "type": "string",
                                                                "example": "John Doe"
                                                            },
                                                            "email": {
                                                                "type": "string",
                                                                "example": "john@example.com"
                                                            }
                                                        },
                                                        "type": "object"
                                                    },
                                                    "issued_at": {
                                                        "type": "string",
                                                        "example": "01/01/2024 10:00:00"
                                                    },
                                                    "used_at": {
                                                        "type": "string",
                                                        "example": null,
                                                        "nullable": true
                                                    },
                                                    "schedule": {
                                                        "properties": {
                                                            "starts_at": {
                                                                "type": "string",
                                                                "example": "01/01/2024 20:00:00"
                                                            },
                                                            "ends_at": {
                                                                "type": "string",
                                                                "example": "01/01/2024 23:00:00"
                                                            },
                                                            "door_time": {
                                                                "type": "string",
                                                                "example": "01/01/2024 19:30:00",
                                                                "nullable": true
                                                            }
                                                        },
                                                        "type": "object",
                                                        "nullable": true
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid recovery token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Token invalide"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No tickets found for the given token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Aucun ticket trouvé"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/airtel": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Handle Airtel Money webhook",
                "description": "Processes payment status updates from Airtel Money gateway",
                "operationId": "handleAirtelWebhook",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "reference": {
                                        "description": "Payment reference from the original payment request",
                                        "type": "string",
                                        "example": "PAY_12345_67890"
                                    },
                                    "status": {
                                        "description": "Payment status from Airtel Money",
                                        "type": "string",
                                        "enum": [
                                            "success",
                                            "failed",
                                            "cancelled",
                                            "pending"
                                        ],
                                        "example": "success"
                                    },
                                    "transaction_id": {
                                        "description": "Airtel Money transaction ID",
                                        "type": "string",
                                        "example": "TXN_AM_123456789",
                                        "nullable": true
                                    },
                                    "amount": {
                                        "description": "Transaction amount",
                                        "type": "number",
                                        "format": "float",
                                        "example": 75.5,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook processed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Webhook Airtel traité"
                                        },
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Missing reference",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Reference missing"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Payment not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/moov": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Handle Moov Money webhook",
                "description": "Processes payment status updates from Moov Money gateway",
                "operationId": "handleMoovWebhook",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "reference": {
                                        "description": "Payment reference from the original payment request",
                                        "type": "string",
                                        "example": "PAY_12345_67890"
                                    },
                                    "status": {
                                        "description": "Payment status from Moov Money",
                                        "type": "string",
                                        "enum": [
                                            "success",
                                            "failed",
                                            "cancelled",
                                            "pending"
                                        ],
                                        "example": "success"
                                    },
                                    "transaction_id": {
                                        "description": "Moov Money transaction ID",
                                        "type": "string",
                                        "example": "TXN_MOOV_123456789",
                                        "nullable": true
                                    },
                                    "amount": {
                                        "description": "Transaction amount",
                                        "type": "number",
                                        "format": "float",
                                        "example": 75.5,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook processed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Webhook Moov traité"
                                        },
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Missing reference",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Reference missing"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Payment not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/webhooks/card": {
            "post": {
                "tags": [
                    "Webhooks"
                ],
                "summary": "Handle Card payment webhook",
                "description": "Processes payment status updates from card payment gateway",
                "operationId": "handleCardWebhook",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "reference": {
                                        "description": "Payment reference from the original payment request",
                                        "type": "string",
                                        "example": "PAY_12345_67890"
                                    },
                                    "status": {
                                        "description": "Payment status from card gateway",
                                        "type": "string",
                                        "enum": [
                                            "success",
                                            "failed",
                                            "cancelled",
                                            "pending",
                                            "declined"
                                        ],
                                        "example": "success"
                                    },
                                    "transaction_id": {
                                        "description": "Card gateway transaction ID",
                                        "type": "string",
                                        "example": "TXN_CARD_123456789",
                                        "nullable": true
                                    },
                                    "amount": {
                                        "description": "Transaction amount",
                                        "type": "number",
                                        "format": "float",
                                        "example": 75.5,
                                        "nullable": true
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Webhook processed successfully",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "example": "Webhook Carte traité"
                                        },
                                        "status": {
                                            "type": "string",
                                            "example": "ok"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Missing reference",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Reference missing"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Payment not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "status": {
                                            "type": "string",
                                            "example": "error"
                                        },
                                        "message": {
                                            "type": "string",
                                            "example": "Payment not found"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "bearerFormat": "JWT",
                "scheme": "bearer"
            }
        }
    },
    "tags": [
        {
            "name": "Events",
            "description": "API Endpoints for managing events"
        },
        {
            "name": "Orders",
            "description": "API Endpoints for managing orders"
        },
        {
            "name": "Organizers",
            "description": "API Endpoints for managing event organizers"
        },
        {
            "name": "QR Codes",
            "description": "API Endpoints for QR Code generation and management"
        },
        {
            "name": "Scanning",
            "description": "API Endpoints for ticket scanning and validation"
        },
        {
            "name": "Tickets",
            "description": "API Endpoints for managing tickets"
        },
        {
            "name": "Webhooks",
            "description": "API Endpoints for payment gateway webhooks"
        },
        {
            "name": "Authentication",
            "description": "API Endpoints for user authentication"
        },
        {
            "name": "Payments",
            "description": "API Endpoints for processing payments"
        }
    ]
}