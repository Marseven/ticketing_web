import{r as b,b as a,d as o,e,n as B,F as C,k as j,t as d,o as A,a as W,w as V,U as G,A as f,i as x,c as p,f as Q,v as X,m as D,g as z,q as P,B as Z,N as J}from"./vue-vendor-Crt3CPuW.js";import{u as K}from"./events-JVM0Qz6c.js";import{E as Y}from"./EventCard-DmCdp5Ly.js";import{_ as E}from"./account-k_xqo_mH.js";import{j as F}from"./vendor-CzIG1j6G.js";import"./pinia-vendor-DHhcPo2H.js";const $={name:"FavoriteButton",props:{eventId:{type:[String,Number],required:!0}},setup(i){const n=b(!1);return{isFavorite:n,toggleFavorite:()=>{n.value=!n.value}}}};function ee(i,n,u,t,g,v){return o(),a("button",{onClick:n[0]||(n[0]=(...l)=>t.toggleFavorite&&t.toggleFavorite(...l)),class:B(["flex items-center justify-center w-12 h-12 rounded-full bg-white shadow-lg hover:shadow-xl transition-all duration-200 hover:text-primea-yellow",{"text-red-500":t.isFavorite,"text-gray-400":!t.isFavorite}])},[...n[1]||(n[1]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})],-1)])],2)}const te=E($,[["render",ee],["__scopeId","data-v-64125039"]]),ne={name:"ScheduleSection",props:{schedules:{type:Array,default:()=>[]}},methods:{formatTime(i){return new Date(i).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}}},oe={class:"schedule-section"},re={class:"space-y-3"},se={class:"font-medium"},ae={class:"text-sm text-gray-600"};function le(i,n,u,t,g,v){return o(),a("div",oe,[n[0]||(n[0]=e("h3",{class:"text-xl font-semibold mb-4"},"Programme",-1)),e("div",re,[(o(!0),a(C,null,j(u.schedules,l=>(o(),a("div",{key:l.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",null,[e("div",se,d(l.title),1),e("div",ae,d(v.formatTime(l.starts_at))+" - "+d(v.formatTime(l.ends_at)),1)])]))),128))])])}const ie=E(ne,[["render",le]]),de={name:"VenueSection",props:{event:{type:Object,required:!0}},setup(i){const n=b(null),u=b(!1);let t=null,g=null;const v={lat:.4162,lng:9.4673},l=F.divIcon({className:"custom-marker",html:`
        <div style="
          width: 40px;
          height: 40px;
          background-color: #272d63;
          border: 3px solid #fab511;
          border-radius: 50% 50% 50% 0;
          transform: rotate(-45deg);
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 3px 10px rgba(0,0,0,0.3);
        ">
          <svg style="width: 20px; height: 20px; transform: rotate(45deg);" fill="white" viewBox="0 0 24 24">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7z"/>
          </svg>
        </div>
      `,iconSize:[40,40],iconAnchor:[20,40],popupAnchor:[0,-40]}),h=async()=>{if(n.value)try{const r=await w();t=F.map(n.value).setView([r.lat,r.lng],15),F.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"© OpenStreetMap contributors"}).addTo(t),g=F.marker([r.lat,r.lng],{icon:l,title:i.event.venue_name}).addTo(t);const m=`
          <div style="font-family: 'Inter', 'Myriad Pro', sans-serif; min-width: 200px;">
            <h3 style="color: #272d63; margin: 0 0 8px 0; font-weight: 600; font-size: 16px;">${i.event.venue_name}</h3>
            <p style="margin: 0 0 4px 0; color: #666; font-size: 14px;">${i.event.venue_address}</p>
            <p style="margin: 0; color: #666; font-size: 14px;">${i.event.venue_city}</p>
          </div>
        `;g.bindPopup(m),g.openPopup(),u.value=!0}catch(r){console.error("Erreur lors du chargement de la carte:",r),u.value=!0}},w=async()=>{const r=`${i.event.venue_address}, ${i.event.venue_city}, Gabon`;try{const k=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(r)}&limit=1`,{headers:{"User-Agent":"Primea Ticketing Platform"}})).json();return k&&k.length>0?{lat:parseFloat(k[0].lat),lng:parseFloat(k[0].lon)}:(console.warn("Géocodage échoué, utilisation des coordonnées par défaut"),v)}catch(m){return console.warn("Erreur lors du géocodage:",m),v}},y=()=>{const m=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${i.event.venue_name}, ${i.event.venue_address}, ${i.event.venue_city}`)}`;window.open(m,"_blank")},_=()=>{const m=`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(`${i.event.venue_name}, ${i.event.venue_address}, ${i.event.venue_city}`)}`;window.open(m,"_blank")};return A(async()=>{await new Promise(r=>setTimeout(r,100)),await h()}),W(()=>{t&&(t.remove(),t=null)}),V(()=>i.event,async()=>{t&&(t.remove(),t=null,await h())}),{mapContainer:n,mapLoaded:u,openInGoogleMaps:y,getDirections:_}}},ce={class:"bg-white p-8 rounded-primea-xl shadow-primea"},ue={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},me={class:"space-y-4"},ve={class:"text-gray-700 text-lg"},ge={class:"text-gray-700"},he={class:"text-gray-700"},xe={class:"flex flex-col sm:flex-row gap-3 mt-6"},fe={class:"h-64 lg:h-80 rounded-primea-lg overflow-hidden shadow-primea"},pe={ref:"mapContainer",class:"w-full h-full"},be={key:0,class:"w-full h-full bg-gray-200 flex items-center justify-center text-gray-500"};function ye(i,n,u,t,g,v){return o(),a("div",ce,[n[7]||(n[7]=G('<h2 class="text-2xl font-bold text-primea-blue mb-6 flex items-center gap-3" data-v-af01a749><div class="bg-primea-blue/10 p-2 rounded-primea" data-v-af01a749><svg class="w-6 h-6 text-primea-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-af01a749><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-af01a749></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-af01a749></path></svg></div> Lieu et accès </h2>',1)),e("div",ue,[e("div",me,[e("div",null,[n[2]||(n[2]=e("h3",{class:"font-semibold text-primea-blue mb-2"},"Nom du lieu",-1)),e("p",ve,d(u.event.venue_name||"Lieu à confirmer"),1)]),e("div",null,[n[3]||(n[3]=e("h3",{class:"font-semibold text-primea-blue mb-2"},"Adresse",-1)),e("p",ge,d(u.event.venue_address||"Adresse à confirmer"),1),e("p",he,d(u.event.venue_city||"Ville à confirmer"),1)]),e("div",xe,[e("button",{onClick:n[0]||(n[0]=(...l)=>t.openInGoogleMaps&&t.openInGoogleMaps(...l)),class:"bg-primea-blue text-white px-6 py-3 rounded-primea-lg font-semibold hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 flex items-center justify-center gap-2",style:{"background-color":"#272d63",color:"#ffffff"}},[...n[4]||(n[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})],-1),f(" Voir sur la carte ",-1)])]),e("button",{onClick:n[1]||(n[1]=(...l)=>t.getDirections&&t.getDirections(...l)),class:"bg-white border-2 border-primea-blue text-primea-blue px-6 py-3 rounded-primea-lg font-semibold hover:bg-primea-blue hover:text-white transition-all duration-200 flex items-center justify-center gap-2",style:{"background-color":"#ffffff",color:"#272d63",border:"2px solid #272d63"}},[...n[5]||(n[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),f(" Itinéraire ",-1)])])])]),e("div",fe,[e("div",pe,[t.mapLoaded?x("",!0):(o(),a("div",be,[...n[6]||(n[6]=[e("svg",{class:"w-12 h-12 mx-auto mb-2 animate-spin text-primea-blue",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)])]))],512)])])])}const we=E(de,[["render",ye],["__scopeId","data-v-af01a749"]]),_e={name:"ShareCard",props:{event:{type:Object,required:!0}},setup(i){const n=p(()=>`${window.location.origin}/events/${i.event.slug}`);return{eventUrl:n,shareOnFacebook:()=>{const l=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(n.value)}`;window.open(l,"_blank")},shareOnTwitter:()=>{const l=`Découvrez cet événement: ${i.event.title}`,h=`https://twitter.com/intent/tweet?text=${encodeURIComponent(l)}&url=${encodeURIComponent(n.value)}`;window.open(h,"_blank")},shareOnWhatsApp:()=>{const l=`Découvrez cet événement: ${i.event.title} ${n.value}`,h=`https://wa.me/?text=${encodeURIComponent(l)}`;window.open(h,"_blank")},copyToClipboard:async()=>{try{await navigator.clipboard.writeText(n.value)}catch(l){console.error("Erreur lors de la copie:",l)}}}}},ke={class:"share-card bg-white rounded-2xl shadow-lg p-6"},Ce={class:"flex space-x-3"},je={class:"mt-4"},Me={class:"flex"};function Pe(i,n,u,t,g,v){return o(),a("div",ke,[n[9]||(n[9]=e("h3",{class:"text-lg font-semibold mb-4"},"Partager cet événement",-1)),e("div",Ce,[e("button",{onClick:n[0]||(n[0]=(...l)=>t.shareOnFacebook&&t.shareOnFacebook(...l)),class:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center","aria-label":"Partager sur Facebook"},[...n[5]||(n[5]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})],-1)])]),e("button",{onClick:n[1]||(n[1]=(...l)=>t.shareOnTwitter&&t.shareOnTwitter(...l)),class:"flex-1 bg-sky-400 text-white py-3 px-4 rounded-lg hover:bg-sky-500 transition-colors flex items-center justify-center","aria-label":"Partager sur Twitter"},[...n[6]||(n[6]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})],-1)])]),e("button",{onClick:n[2]||(n[2]=(...l)=>t.shareOnWhatsApp&&t.shareOnWhatsApp(...l)),class:"flex-1 bg-green-500 text-white py-3 px-4 rounded-lg hover:bg-green-600 transition-colors flex items-center justify-center","aria-label":"Partager sur WhatsApp"},[...n[7]||(n[7]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)])])]),e("div",je,[n[8]||(n[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lien de l'événement",-1)),e("div",Me,[Q(e("input",{"onUpdate:modelValue":n[3]||(n[3]=l=>t.eventUrl=l),type:"text",readonly:"",class:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg bg-gray-50"},null,512),[[X,t.eventUrl]]),e("button",{onClick:n[4]||(n[4]=(...l)=>t.copyToClipboard&&t.copyToClipboard(...l)),class:"px-4 py-2 bg-gray-200 border border-l-0 border-gray-300 rounded-r-lg hover:bg-gray-300 transition-colors"}," Copier ")])])])}const Be=E(_e,[["render",Pe]]),Ee={name:"EventDetail",components:{EventCard:Y,FavoriteButton:te,ScheduleSection:ie,VenueSection:we,ShareCard:Be},setup(){const i=Z(),n=J(),u=K(),t=b(null),g=b([]),v=b(!0),l=b(null),h=b(!1),w=p(()=>{if(h.value||!t.value)return null;let s=t.value.image||t.value.image_url||t.value.image_file;return!s||s.trim()===""?null:s.startsWith("http://")||s.startsWith("https://")?s:s.startsWith("/")?window.location.origin+s:s.includes("/")?s:`${window.location.origin}/storage/images/events/${s}`}),y=p(()=>{if(t.value?.schedules&&t.value.schedules.length>0){const s=t.value.schedules[0].starts_at;if(s)return new Date(s)}return null}),_=p(()=>{if(t.value?.ticket_types&&t.value.ticket_types.length>0){const s=t.value.ticket_types.map(c=>parseFloat(c.price)||0).filter(c=>c>0);return s.length>0?Math.min(...s):0}return 0}),r=p(()=>y.value?new Date>y.value:!1),m=p(()=>r.value?0:t.value?.ticket_types&&t.value.ticket_types.length>0?t.value.ticket_types.reduce((s,c)=>{if(c.remaining_quantity!==void 0&&c.remaining_quantity!==null)return s+Math.max(0,c.remaining_quantity);if(c.available_quantity!==void 0&&c.available_quantity!==null){const M=c.sold_quantity||0;return s+Math.max(0,c.available_quantity-M)}return s},0):1e3),k=p(()=>!r.value&&m.value>0),q=p(()=>t.value?.description?t.value.description.split(`
`).filter(s=>s.trim()):[]),T=s=>s?s.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Date à confirmer",U=s=>s?s.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}):"Heure à confirmer",O=s=>new Intl.NumberFormat("fr-FR").format(s),R=()=>{n.push(`/checkout/${i.params.slug}`)},I=async()=>{const s=i.params.slug;if(s)try{v.value=!0,l.value=null;const c=await u.fetchEvent(s);if(t.value=c.event,t.value?.category){const M=await u.getEventsByCategory(t.value.category);g.value=M.events.filter(S=>S.slug!==t.value.slug).slice(0,6)}else{const M=await u.fetchEvents();g.value=M.events.filter(S=>S.slug!==t.value.slug).slice(0,6)}}catch(c){l.value=c.message||"Erreur lors du chargement de l'événement"}finally{v.value=!1}},L=s=>{if(s.remaining_quantity!==void 0&&s.remaining_quantity!==null)return Math.max(0,s.remaining_quantity);if(s.available_quantity!==void 0&&s.available_quantity!==null){const c=s.sold_quantity||0;return Math.max(0,s.available_quantity-c)}return 0},H=s=>{const c=L(s);return s.available_quantity===null?"Illimitées":c>0?c:"Complet"},N=()=>{console.warn("EventDetail - Erreur de chargement de l'image"),h.value=!0};return V(()=>i.params.slug,()=>{i.params.slug&&I()}),A(()=>{I()}),{event:t,similarEvents:g,loading:v,error:l,eventImageUrl:w,eventDate:y,minPrice:_,isEventPassed:r,availableTickets:m,canPurchaseTickets:k,descriptionParagraphs:q,formatFullDate:T,formatTime:U,formatPrice:O,goToBooking:R,loadEvent:I,getQuantityDisplayCount:L,getQuantityDisplay:H,handleImageError:N}}},ze={class:"event-detail-page bg-white min-h-screen"},Fe={key:0,class:"loading-container"},Ie={key:1,class:"error-container"},Se={class:"flex items-center justify-center min-h-screen bg-gray-50 px-4"},De={class:"text-center bg-white p-8 md:p-12 rounded-2xl shadow-lg max-w-md w-full"},Le={class:"text-red-600 text-lg md:text-xl mb-6 font-semibold"},Ae={key:2,class:"event-content"},Ve={class:"relative md:px-4 md:py-6"},qe={class:"max-w-7xl mx-auto"},Te={class:"w-full h-64 md:h-96 lg:h-[500px] overflow-hidden md:rounded-2xl"},Ue=["src","alt"],Oe={key:1,class:"w-full h-full bg-gradient-to-br from-blue-900 to-blue-800 flex items-center justify-center"},Re={class:"bg-white"},He={class:"max-w-7xl mx-auto px-4 py-6 md:py-8"},Ne={class:"text-2xl md:text-4xl lg:text-5xl font-bold text-blue-900 mb-3 md:mb-4 leading-tight"},We={class:"space-y-2 md:space-y-0 md:flex md:flex-wrap md:gap-6 mb-4 md:mb-6"},Ge={class:"flex items-center gap-3 text-gray-700"},Qe={class:"font-semibold text-sm md:text-base"},Xe={class:"flex items-center gap-3 text-gray-700"},Ze={class:"font-semibold text-sm md:text-base"},Je={key:0,class:"mb-4 pb-4 border-b border-gray-200"},Ke={class:"font-bold text-blue-900"},Ye={class:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6"},$e={class:"lg:col-span-2 space-y-4"},et={class:"md:hidden bg-white p-4 rounded-2xl border border-gray-200"},tt={class:"text-gray-700 leading-snug space-y-2 text-sm"},nt={key:0,class:"text-gray-500 italic"},ot={class:"bg-gray-50 p-4 md:p-6 rounded-2xl"},rt={key:0,class:"space-y-2"},st={class:"flex items-start justify-between gap-4"},at={class:"flex-1 min-w-0"},lt={class:"font-bold text-blue-900 mb-1 text-base md:text-lg"},it={key:0,class:"text-sm text-gray-600 mb-2 line-clamp-2"},dt={class:"flex items-center gap-2 text-xs md:text-sm"},ct={class:"text-right flex-shrink-0"},ut={class:"text-xl md:text-2xl font-bold text-blue-900"},mt={key:0},vt={key:1,class:"text-green-600"},gt={key:1,class:"bg-white p-4 rounded-xl border-2 border-gray-200"},ht={class:"flex items-start justify-between gap-4"},xt={class:"flex-1"},ft={class:"flex items-center gap-2 text-sm"},pt={class:"text-right"},bt={class:"text-2xl font-bold text-blue-900"},yt={key:0},wt={key:1,class:"text-green-600"},_t={class:"hidden md:block bg-white p-4 md:p-6 rounded-2xl border border-gray-200"},kt={class:"text-gray-700 leading-snug space-y-2 text-sm md:text-base"},Ct={key:0,class:"text-gray-500 italic"},jt={key:1,class:"hidden md:block bg-white p-6 rounded-2xl border border-gray-200"},Mt={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Pt={class:"lg:col-span-1 space-y-4"},Bt={class:"hidden lg:block"},Et={key:1,class:"md:hidden mt-6 bg-white p-4 rounded-2xl border border-gray-200"},zt={class:"space-y-2"},Ft={key:3,class:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 md:hidden z-40 shadow-lg"},It={class:"flex items-center gap-3"},St={key:0},Dt={key:1},Lt={key:4,class:"hidden md:block"},At={class:"max-w-7xl mx-auto px-4 pb-8"},Vt={class:"flex items-center gap-4 justify-center lg:justify-start"},qt={key:0},Tt={key:1};function Ut(i,n,u,t,g,v){const l=P("ScheduleSection"),h=P("VenueSection"),w=P("EventCard"),y=P("ShareCard"),_=P("FavoriteButton");return o(),a("div",ze,[t.loading?(o(),a("div",Fe,[...n[4]||(n[4]=[e("div",{class:"flex items-center justify-center min-h-screen"},[e("div",{class:"animate-spin rounded-full h-16 w-16 border-4 border-blue-900 border-t-yellow-500"})],-1)])])):t.error?(o(),a("div",Ie,[e("div",Se,[e("div",De,[e("div",Le,d(t.error),1),e("button",{onClick:n[0]||(n[0]=(...r)=>t.loadEvent&&t.loadEvent(...r)),class:"w-full md:w-auto bg-blue-900 text-white px-8 py-3 rounded-xl font-bold hover:bg-yellow-500 hover:text-blue-900 transition-all duration-200"}," Réessayer ")])])])):t.event?(o(),a("div",Ae,[e("section",Ve,[e("div",qe,[e("div",Te,[t.eventImageUrl?(o(),a("img",{key:0,src:t.eventImageUrl,alt:t.event.title,class:"w-full h-full object-cover",onError:n[1]||(n[1]=(...r)=>t.handleImageError&&t.handleImageError(...r))},null,40,Ue)):(o(),a("div",Oe,[...n[5]||(n[5]=[e("svg",{class:"w-24 h-24 md:w-32 md:h-32 text-white/30",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))])])]),e("section",Re,[e("div",He,[e("h1",Ne,d(t.event.title),1),e("div",We,[e("div",Ge,[n[6]||(n[6]=e("div",{class:"bg-blue-100 p-2 rounded-lg flex-shrink-0"},[e("svg",{class:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("span",Qe,d(t.formatFullDate(t.eventDate)),1)]),e("div",Xe,[n[7]||(n[7]=e("div",{class:"bg-blue-100 p-2 rounded-lg flex-shrink-0"},[e("svg",{class:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("span",Ze,d(t.formatTime(t.eventDate)),1)])]),t.event.organizer?(o(),a("div",Je,[n[8]||(n[8]=e("p",{class:"text-sm text-gray-600"},"Organisé par",-1)),e("p",Ke,d(t.event.organizer.name||t.event.organizer.organization_name),1)])):x("",!0),e("div",Ye,[e("div",$e,[e("div",et,[n[9]||(n[9]=e("h2",{class:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2"},[e("div",{class:"bg-blue-100 p-2 rounded-lg"},[e("svg",{class:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),f(" À propos de cet événement ")],-1)),e("div",tt,[(o(!0),a(C,null,j(t.descriptionParagraphs,(r,m)=>(o(),a("p",{key:m},d(r),1))),128)),t.descriptionParagraphs.length?x("",!0):(o(),a("div",nt," Aucune description disponible pour cet événement. "))])]),e("div",ot,[n[16]||(n[16]=e("h3",{class:"text-lg md:text-xl font-bold text-blue-900 mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})]),f(" Types de tickets ")],-1)),t.event.ticket_types&&t.event.ticket_types.length>0?(o(),a("div",rt,[(o(!0),a(C,null,j(t.event.ticket_types,r=>(o(),a("div",{key:r.id,class:"bg-white p-4 rounded-xl border-2 border-gray-200 hover:border-blue-900 transition-all duration-200"},[e("div",st,[e("div",at,[e("h4",lt,d(r.name),1),r.description?(o(),a("p",it,d(r.description),1)):x("",!0),e("div",dt,[n[10]||(n[10]=e("span",{class:"text-gray-500"},"Places disponibles:",-1)),e("span",{class:B(["font-semibold px-2 py-1 rounded-lg",t.getQuantityDisplayCount(r)>10?"bg-green-100 text-green-700":t.getQuantityDisplayCount(r)>0?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"])},d(t.getQuantityDisplay(r)),3)])]),e("div",ct,[e("div",ut,[r.price>0?(o(),a("span",mt,d(t.formatPrice(r.price)),1)):(o(),a("span",vt,"GRATUIT"))]),n[11]||(n[11]=e("div",{class:"text-xs text-gray-500"},"XAF",-1))])])]))),128))])):(o(),a("div",gt,[e("div",ht,[e("div",xt,[n[13]||(n[13]=e("h4",{class:"font-bold text-blue-900 mb-1"},"Billet standard",-1)),n[14]||(n[14]=e("p",{class:"text-sm text-gray-600 mb-2"},"Accès général à l'événement",-1)),e("div",ft,[n[12]||(n[12]=e("span",{class:"text-gray-500"},"Places disponibles:",-1)),e("span",{class:B(["font-semibold px-2 py-1 rounded-lg",t.availableTickets>20?"bg-green-100 text-green-700":t.availableTickets>0?"bg-orange-100 text-orange-700":"bg-red-100 text-red-700"])},d(t.availableTickets>0?t.availableTickets:"Complet"),3)])]),e("div",pt,[e("div",bt,[t.minPrice>0?(o(),a("span",yt,d(t.formatPrice(t.minPrice)),1)):(o(),a("span",wt,"GRATUIT"))]),n[15]||(n[15]=e("div",{class:"text-xs text-gray-500"},"XAF",-1))])])]))]),e("div",_t,[n[17]||(n[17]=e("h2",{class:"text-lg md:text-xl font-bold text-blue-900 mb-3 flex items-center gap-2"},[e("div",{class:"bg-blue-100 p-2 rounded-lg"},[e("svg",{class:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),f(" À propos de cet événement ")],-1)),e("div",kt,[(o(!0),a(C,null,j(t.descriptionParagraphs,(r,m)=>(o(),a("p",{key:m},d(r),1))),128)),t.descriptionParagraphs.length?x("",!0):(o(),a("div",Ct," Aucune description disponible pour cet événement. "))])]),t.event.schedules&&t.event.schedules.length>1?(o(),D(l,{key:0,schedules:t.event.schedules},null,8,["schedules"])):x("",!0),z(h,{event:t.event},null,8,["event"]),t.similarEvents.length>0?(o(),a("div",jt,[n[18]||(n[18]=e("h2",{class:"text-xl font-bold text-blue-900 mb-4 flex items-center gap-2"},[e("div",{class:"bg-blue-100 p-2 rounded-lg"},[e("svg",{class:"w-5 h-5 text-blue-900",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})])]),f(" Événements similaires ")],-1)),e("div",Mt,[(o(!0),a(C,null,j(t.similarEvents.slice(0,4),r=>(o(),D(w,{key:r.id,event:r,class:"transform hover:scale-105 transition-all duration-300"},null,8,["event"]))),128))])])):x("",!0)]),e("div",Pt,[z(y,{event:t.event},null,8,["event"]),e("div",Bt,[z(_,{eventId:t.event.id,class:"w-full"},null,8,["eventId"])])])]),t.similarEvents.length>0?(o(),a("div",Et,[n[19]||(n[19]=e("h2",{class:"text-lg font-bold text-blue-900 mb-3 flex items-center gap-2"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})]),f(" Événements similaires ")],-1)),e("div",zt,[(o(!0),a(C,null,j(t.similarEvents.slice(0,3),r=>(o(),D(w,{key:r.id,event:r},null,8,["event"]))),128))])])):x("",!0)])])])):x("",!0),t.event&&!t.loading&&!t.error?(o(),a("div",Ft,[e("div",It,[z(_,{eventId:t.event.id},null,8,["eventId"]),t.canPurchaseTickets?(o(),a("button",{key:0,onClick:n[2]||(n[2]=(...r)=>t.goToBooking&&t.goToBooking(...r)),class:"ticket-btn-animate flex-1 bg-blue-900 text-white px-5 py-3 rounded-xl text-sm font-bold hover:bg-yellow-500 hover:text-blue-900 transition-all duration-200 shadow-lg flex items-center justify-center gap-2"},[n[20]||(n[20]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})],-1)),t.minPrice>0?(o(),a("span",St,"Prendre un ticket - "+d(t.formatPrice(t.minPrice))+" XAF",1)):(o(),a("span",Dt,"Prendre un ticket gratuit"))])):(o(),a("div",{key:1,class:B(["flex-1 px-5 py-3 rounded-xl font-bold text-sm flex items-center justify-center gap-2",t.isEventPassed?"bg-gray-500 text-white":"bg-red-600 text-white"])},[n[21]||(n[21]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),f(" "+d(t.isEventPassed?"Terminé":"Complet"),1)],2))])])):x("",!0),t.event&&!t.loading&&!t.error?(o(),a("div",Lt,[e("div",At,[e("div",Vt,[t.canPurchaseTickets?(o(),a("button",{key:0,onClick:n[3]||(n[3]=(...r)=>t.goToBooking&&t.goToBooking(...r)),class:"ticket-btn-animate bg-blue-900 text-white px-10 py-4 rounded-xl text-lg font-bold hover:bg-yellow-500 hover:text-blue-900 transition-all duration-200 shadow-lg flex items-center justify-center gap-3"},[n[22]||(n[22]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})],-1)),t.minPrice>0?(o(),a("span",qt," Prendre un ticket à partir de "+d(t.formatPrice(t.minPrice))+" XAF ",1)):(o(),a("span",Tt,"Prendre un ticket gratuit"))])):(o(),a("div",{key:1,class:B(["px-10 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-3",t.isEventPassed?"bg-gray-500 text-white":"bg-red-600 text-white"])},[n[23]||(n[23]=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1)),f(" "+d(t.isEventPassed?"Événement terminé":"Événement complet"),1)],2))])])])):x("",!0),n[24]||(n[24]=e("div",{class:"h-24 md:hidden"},null,-1))])}const Qt=E(Ee,[["render",Ut],["__scopeId","data-v-d9915387"]]);export{Qt as default};
