import{r as f,b as a,d as l,e as s,U as w,j as h,i as p,f as d,A as n,v as i,n as v,t as c,g as _,h as k,q as z,N as V}from"./vue-vendor-DL4qlPdi.js";import{_ as C,a as M}from"./account-D3HL21EZ.js";import"./vendor-14XLBY50.js";import"./pinia-vendor-DSZd9EMP.js";const U={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},N={class:"sm:mx-auto sm:w-full sm:max-w-2xl"},j={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},q={class:"border-b border-gray-200 pb-6"},X={class:"mb-4"},O={key:0,class:"mt-1 text-sm text-red-600"},B={class:"mb-4"},I={key:0,class:"mt-1 text-sm text-red-600"},S={class:"mb-4"},A={key:0,class:"mt-1 text-sm text-red-600"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},D={key:0,class:"mt-1 text-sm text-red-600"},L={class:"pt-4"},R={class:"mb-4"},T={key:0,class:"mt-1 text-sm text-red-600"},P={class:"mb-4"},H={key:0,class:"rounded-md bg-red-50 p-4"},J={class:"flex"},F={class:"ml-3"},G={class:"text-sm text-red-800"},K=["disabled"],Q={key:0,class:"flex items-center"},W={key:1},Y={class:"text-center mt-4"},Z={class:"text-sm text-gray-600"},$={__name:"RegisterOrganizer",setup(ee){const x=V(),o=f({name:"",email:"",phone:"",password:"",password_confirmation:"",organization_name:"",description:"",is_organizer:!0}),t=f({}),u=f(""),b=f(!1),g=async()=>{t.value={},u.value="",b.value=!0;try{const m=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o.value)}),e=await m.json();if(!m.ok){m.status===422&&e.errors?(t.value=e.errors,u.value=Object.values(e.errors)[0][0]):u.value=e.message||"Une erreur est survenue lors de l'inscription",b.value=!1;return}e.token&&M.saveAuth(e.token,e.user),x.push({name:"organizer-dashboard",query:{message:"Inscription réussie ! Votre compte est en attente de vérification."}})}catch(m){console.error("Erreur lors de l'inscription:",m),u.value="Une erreur est survenue. Veuillez réessayer.",b.value=!1}};return(m,e)=>{const y=z("router-link");return l(),a("div",U,[s("div",N,[e[21]||(e[21]=s("div",{class:"text-center mb-8"},[s("h2",{class:"text-3xl font-extrabold text-blue-950"}," Inscription Organisateur "),s("p",{class:"mt-2 text-sm text-gray-600"}," Créez votre compte pour organiser et gérer vos événements ")],-1)),s("div",j,[s("form",{onSubmit:h(g,["prevent"]),class:"space-y-6"},[s("div",q,[e[12]||(e[12]=s("h3",{class:"text-lg font-medium text-blue-950 mb-4"}," Informations Personnelles ",-1)),s("div",X,[e[7]||(e[7]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[n(" Nom complet "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>o.value.name=r),type:"text",required:"",class:v(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":t.value.name}])},null,2),[[i,o.value.name]]),t.value.name?(l(),a("p",O,c(t.value.name),1)):p("",!0)]),s("div",B,[e[8]||(e[8]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email ",-1)),d(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=r=>o.value.email=r),type:"email",class:v(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":t.value.email}])},null,2),[[i,o.value.email]]),t.value.email?(l(),a("p",I,c(t.value.email),1)):p("",!0)]),s("div",S,[e[9]||(e[9]=s("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},[n(" Numéro de téléphone "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=r=>o.value.phone=r),type:"tel",required:"",placeholder:"Ex: 6XXXXXXXX",class:v(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":t.value.phone}])},null,2),[[i,o.value.phone]]),t.value.phone?(l(),a("p",A,c(t.value.phone),1)):p("",!0)]),s("div",E,[s("div",null,[e[10]||(e[10]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},[n(" Mot de passe "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=r=>o.value.password=r),type:"password",required:"",class:v(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":t.value.password}])},null,2),[[i,o.value.password]]),t.value.password?(l(),a("p",D,c(t.value.password),1)):p("",!0)]),s("div",null,[e[11]||(e[11]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"},[n(" Confirmer mot de passe "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"password_confirmation","onUpdate:modelValue":e[4]||(e[4]=r=>o.value.password_confirmation=r),type:"password",required:"",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950"},null,512),[[i,o.value.password_confirmation]])])])]),s("div",L,[e[16]||(e[16]=s("h3",{class:"text-lg font-medium text-blue-950 mb-4"}," Informations de l'Organisation ",-1)),s("div",R,[e[13]||(e[13]=s("label",{for:"organization_name",class:"block text-sm font-medium text-gray-700"},[n(" Nom de l'organisation "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"organization_name","onUpdate:modelValue":e[5]||(e[5]=r=>o.value.organization_name=r),type:"text",required:"",placeholder:"Ex: Ma Compagnie, Mon Entreprise, etc.",class:v(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":t.value.organization_name}])},null,2),[[i,o.value.organization_name]]),t.value.organization_name?(l(),a("p",T,c(t.value.organization_name),1)):p("",!0),e[14]||(e[14]=s("p",{class:"mt-1 text-xs text-gray-500"}," Ce nom sera affiché sur vos événements ",-1))]),s("div",P,[e[15]||(e[15]=s("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description de l'organisation (optionnel) ",-1)),d(s("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=r=>o.value.description=r),rows:"3",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",placeholder:"Présentez brièvement votre organisation..."},null,512),[[i,o.value.description]])])]),u.value?(l(),a("div",H,[s("div",J,[e[17]||(e[17]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),s("div",F,[s("p",G,c(u.value),1)])])])):p("",!0),s("div",null,[s("button",{type:"submit",disabled:b.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-950 hover:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-950 disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(l(),a("span",Q,[...e[18]||(e[18]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Inscription en cours... ",-1)])])):(l(),a("span",W,"Créer mon compte organisateur"))],8,K)]),s("div",Y,[s("p",Z,[e[20]||(e[20]=n(" Vous avez déjà un compte ? ",-1)),_(y,{to:"/login",class:"font-medium text-blue-950 hover:text-yellow-500"},{default:k(()=>[...e[19]||(e[19]=[n(" Se connecter ",-1)])]),_:1})])])],32)]),e[22]||(e[22]=w('<div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4" data-v-db3371bd><div class="flex" data-v-db3371bd><div class="flex-shrink-0" data-v-db3371bd><svg class="h-5 w-5 text-blue-400" viewBox="0 0 20 20" fill="currentColor" data-v-db3371bd><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" data-v-db3371bd></path></svg></div><div class="ml-3" data-v-db3371bd><p class="text-sm text-blue-700" data-v-db3371bd><strong data-v-db3371bd>À noter :</strong> Votre compte organisateur sera soumis à vérification par notre équipe. Vous recevrez un email de confirmation une fois votre compte validé. </p></div></div></div>',1))])])}}},ae=C($,[["__scopeId","data-v-db3371bd"]]);export{ae as default};
