import{b as j,Y as I,d as L,Z as W,j as l,o as d,k as e,t as i,a1 as $,l as x,a2 as re,a3 as xe,g as ee,O as de,w as R,a4 as te,a as Q,y as ue,N as ve,e as ye,a5 as _e,G as N,H as X,q,p as S,n as D,D as y,E as C,F as se,P as ie,X as he,_ as we,J as oe,K as pe,a6 as le,R as ne,T as me,a7 as ke,L as $e,a8 as Ce,u as ce,W as G,a9 as ge,$ as H,C as Ae,S as je}from"./vue-vendor-CDZB1Wme.js";import{_ as Z,u as be}from"./account-SYOFlVBk.js";import{a as K,S as J}from"./vendor-BvANJOFB.js";const F=K.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json",Accept:"application/json"}});F.interceptors.request.use(async f=>{const s=localStorage.getItem("auth_token")||localStorage.getItem("token");s&&(f.headers.Authorization=`Bearer ${s}`);const w=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");return w&&(f.headers["X-CSRF-TOKEN"]=w),f.headers["X-Requested-With"]="XMLHttpRequest",f},f=>Promise.reject(f));F.interceptors.response.use(f=>f,f=>(f.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(f)));const ol={getTicket(f){return F.get(`/tickets/${f}`)},retrieveTickets(f){return F.get(`/tickets/retrieve/${f}`)},validateTicket(f,s="validate"){return F.post("/tickets/validate",{qr_code:f,action:s})},searchTickets(f){const{reference:s,phone:w,email:t}=f;return s?this.getTicket(s):t||w?new Promise((P,m)=>{setTimeout(()=>{t?.includes("test")||w?.includes("123")||s?.includes("TKT")?P({data:{tickets:[{id:1,code:"TKT-2024-ABC123",status:"issued",event:{id:1,title:"L'OISEAU RARE",slug:"oiseau-rare",image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",venue_name:"Entre Nous Bar"},ticket_type:{id:1,name:"Standard",description:"Accès standard"},buyer:{name:"John Doe",email:t||"john@example.com"},issued_at:"27/07/2025 10:00:00",used_at:null,schedule:{starts_at:"27/07/2025 20:00:00",ends_at:"27/07/2025 23:00:00",door_time:"27/07/2025 19:30:00"}}]}}):m(new Error("Aucun ticket trouvé avec ces informations"))},1500)}):Promise.reject(new Error("Veuillez fournir au moins un critère de recherche"))}},al={createGuestOrder(f){return K.post("/api/guest/orders",f,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestOrder(f){return K.get(`/api/guest/orders/${f}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestTicket(f){return K.get(`/api/guest/tickets/${f}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},retrieveGuestTickets(f){return K.get(`/api/guest/tickets/retrieve/${encodeURIComponent(f)}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})}},Y={getDashboardStats(){return F.get("/organizer/dashboard/stats")},getRecentEvents(){return F.get("/organizer/events/recent")},getNotifications(){return F.get("/organizer/notifications")},getEvents(f={}){return F.get("/organizer/events",{params:f})},createEvent(f){return F.post("/organizer/events",f)},updateEvent(f,s){return F.put(`/organizer/events/${f}`,s)},getEvent(f){return F.get(`/organizer/events/${f}`)},getEventStats(f){return F.get(`/organizer/events/${f}/stats`)},getBalance(){return F.get("/organizer/balance")},getPaymentHistory(){return F.get("/organizer/payments")},getProfile(){return F.get("/organizer/profile")},updateProfile(f){return F.put("/organizer/profile",f)},uploadAvatar(f){return F.post("/organizer/profile/avatar",f,{headers:{"Content-Type":"multipart/form-data"}})}},Pe={class:"organizer-dashboard min-h-screen"},ze={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ee={class:"mb-8"},Se={class:"flex items-center justify-between"},Te={class:"flex items-center space-x-4"},Ve={class:"text-right"},Me={class:"text-sm font-semibold text-primea-blue font-primea"},qe={key:0,class:"w-12 h-12 rounded-full overflow-hidden"},De=["src","alt"],Fe={key:1,class:"w-12 h-12 bg-primea-blue text-white rounded-full flex items-center justify-center"},Ue={class:"text-lg font-bold font-primea"},Be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Re={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-blue"},Oe={class:"flex items-center"},Ne={class:"p-2 bg-primea-blue/10 rounded-lg"},Ie={class:"ml-4"},Xe={class:"text-2xl font-bold text-primea-blue font-primea"},Le={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-green-500"},Ge={class:"flex items-center"},He={class:"p-2 bg-green-100 rounded-lg"},Ze={class:"ml-4"},Je={class:"text-2xl font-bold text-green-600 font-primea"},Qe={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-yellow"},We={class:"flex items-center"},Ke={class:"p-2 bg-primea-yellow/10 rounded-lg"},Ye={class:"ml-4"},et={class:"text-2xl font-bold text-primea-yellow font-primea"},tt={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-purple-500"},st={class:"flex items-center"},ot={class:"p-2 bg-purple-100 rounded-lg"},at={class:"ml-4"},rt={class:"text-2xl font-bold text-purple-600 font-primea"},nt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},it={class:"lg:col-span-2"},lt={class:"bg-white rounded-primea shadow-primea p-6"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ut={class:"bg-white rounded-primea shadow-primea p-6"},pt={class:"space-y-4"},mt={key:0,class:"text-center text-gray-500 py-8"},ct={class:"text-sm font-medium font-primea"},gt={class:"text-xs text-gray-600 mt-1"},bt={class:"text-xs text-gray-400 mt-2"},ft={class:"bg-white rounded-primea shadow-primea overflow-hidden"},xt={class:"p-6 border-b border-gray-200"},vt={class:"flex items-center justify-between"},yt={key:0,class:"p-8 text-center text-gray-500"},_t={key:1,class:"overflow-x-auto"},ht={class:"w-full"},wt={class:"divide-y divide-gray-200"},kt={class:"px-6 py-4"},$t={class:"text-sm font-medium text-gray-900 font-primea"},Ct={class:"text-sm text-gray-500"},At={class:"px-6 py-4 text-sm text-gray-900 font-primea"},jt={class:"px-6 py-4"},Pt={class:"px-6 py-4 text-sm text-gray-900 font-primea"},zt={class:"px-6 py-4 text-sm"},Et={__name:"OrganizerDashboard",setup(f){const s=be(),w=j(!1),t=I({total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),P=j([]),m=j([]),n=L(()=>{const v=s.user;return v?.name?v.name.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2):"U"}),c=L(()=>s.user?.avatar_url||null),p=async()=>{w.value=!0;try{const[v,o,V]=await Promise.all([Y.getDashboardStats(),Y.getRecentEvents(),Y.getNotifications()]);Object.assign(t,v.data.data||{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),P.value=o.data.data||[],m.value=V.data.data||[]}catch(v){console.error("Erreur lors du chargement du dashboard:",v),Object.assign(t,{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),P.value=[],m.value=[]}finally{w.value=!1}},T=v=>new Intl.NumberFormat("fr-FR").format(v),z=v=>new Date(v).toLocaleDateString("fr-FR"),h=v=>new Date(v).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),a=v=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[v]||v,U=v=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[v]||"bg-gray-100 text-gray-800",_=v=>({success:"border-green-500",warning:"border-yellow-500",error:"border-red-500",info:"border-blue-500"})[v]||"border-gray-300";return W(()=>{p()}),(v,o)=>{const V=Q("router-link");return d(),l("div",Pe,[e("div",ze,[e("div",Ee,[e("div",Se,[o[1]||(o[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea mb-2"},"Tableau de Bord Organisateur"),e("p",{class:"text-gray-600 font-primea"},"Bienvenue dans votre espace de gestion d'événements")],-1)),e("div",Te,[e("div",Ve,[o[0]||(o[0]=e("p",{class:"text-sm text-gray-500 font-primea"},"Dernière connexion",-1)),e("p",Me,i(z(new Date)),1)]),c.value?(d(),l("div",qe,[e("img",{src:c.value,alt:$(s).user?.name,class:"w-full h-full object-cover"},null,8,De)])):(d(),l("div",Fe,[e("span",Ue,i(n.value),1)]))])])]),e("div",Be,[e("div",Re,[e("div",Oe,[e("div",Ne,[x($(re),{class:"w-6 h-6 text-primea-blue"})]),e("div",Ie,[o[2]||(o[2]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Total",-1)),e("p",Xe,i(t.total_events),1)])])]),e("div",Le,[e("div",Ge,[e("div",He,[x($(xe),{class:"w-6 h-6 text-green-600"})]),e("div",Ze,[o[3]||(o[3]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Actifs",-1)),e("p",Je,i(t.active_events),1)])])]),e("div",Qe,[e("div",We,[e("div",Ke,[x($(ee),{class:"w-6 h-6 text-primea-yellow"})]),e("div",Ye,[o[4]||(o[4]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets Vendus",-1)),e("p",et,i(t.tickets_sold),1)])])]),e("div",tt,[e("div",st,[e("div",ot,[x($(de),{class:"w-6 h-6 text-purple-600"})]),e("div",at,[o[5]||(o[5]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",rt,i(T(t.total_revenue))+" XAF",1)])])])]),e("div",nt,[e("div",it,[e("div",lt,[o[10]||(o[10]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Actions Rapides",-1)),e("div",dt,[x(V,{to:{name:"organizer-event-create"},class:"flex items-center p-4 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:R(()=>[x($(te),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),o[6]||(o[6]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Créer un Événement"),e("p",{class:"text-sm opacity-90"},"Nouveau projet d'événement")],-1))]),_:1}),x(V,{to:{name:"organizer-events"},class:"flex items-center p-4 border-2 border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 group"},{default:R(()=>[x($(ue),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),o[7]||(o[7]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-white"},"Gérer les Événements"),e("p",{class:"text-sm opacity-70 group-hover:text-white group-hover:opacity-90"},"Voir et modifier")],-1))]),_:1}),x(V,{to:{name:"organizer-balance"},class:"flex items-center p-4 border-2 border-primea-yellow text-primea-yellow rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:R(()=>[x($(ve),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),o[8]||(o[8]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-primea-blue"},"Gestion Financière"),e("p",{class:"text-sm opacity-70 group-hover:text-primea-blue group-hover:opacity-90"},"Soldes et payouts")],-1))]),_:1}),x(V,{to:{name:"organizer-profile"},class:"flex items-center p-4 border-2 border-gray-400 text-gray-600 rounded-primea hover:bg-gray-400 hover:text-white transition-all duration-200 group"},{default:R(()=>[x($(ye),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),o[9]||(o[9]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Mon Profil"),e("p",{class:"text-sm opacity-70"},"Informations personnelles")],-1))]),_:1})])])]),e("div",ut,[o[12]||(o[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Notifications",-1)),e("div",pt,[m.value.length===0?(d(),l("div",mt,[x($(_e),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),o[11]||(o[11]=e("p",{class:"font-primea"},"Aucune notification",-1))])):(d(!0),l(N,{key:1},X(m.value,u=>(d(),l("div",{key:u.id,class:q(["p-3 bg-gray-50 rounded-primea border-l-4",_(u.type)])},[e("p",ct,i(u.title),1),e("p",gt,i(u.message),1),e("p",bt,i(h(u.created_at)),1)],2))),128))])])]),e("div",ft,[e("div",xt,[e("div",vt,[o[14]||(o[14]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Événements Récents",-1)),x(V,{to:{name:"organizer-events"},class:"text-primea-blue hover:text-primea-yellow transition-colors font-primea text-sm"},{default:R(()=>[...o[13]||(o[13]=[S(" Voir tous ",-1)])]),_:1})])]),P.value.length===0?(d(),l("div",yt,[x($(re),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),o[16]||(o[16]=e("p",{class:"font-primea text-lg"},"Aucun événement créé",-1)),o[17]||(o[17]=e("p",{class:"font-primea text-sm mt-2"},"Commencez par créer votre premier événement",-1)),x(V,{to:{name:"organizer-event-create"},class:"inline-flex items-center mt-4 px-4 py-2 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:R(()=>[x($(te),{class:"w-4 h-4 mr-2"}),o[15]||(o[15]=S(" Créer un événement ",-1))]),_:1})])):(d(),l("div",_t,[e("table",ht,[o[19]||(o[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Actions")])],-1)),e("tbody",wt,[(d(!0),l(N,null,X(P.value,u=>(d(),l("tr",{key:u.id,class:"hover:bg-gray-50"},[e("td",kt,[e("div",null,[e("p",$t,i(u.title),1),e("p",Ct,i(u.venue_name),1)])]),e("td",At,i(z(u.event_date)),1),e("td",jt,[e("span",{class:q(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",U(u.status)])},i(a(u.status)),3)]),e("td",Pt,i(u.tickets_sold||0),1),e("td",zt,[x(V,{to:{name:"organizer-event-detail",params:{slug:u.slug}},class:"text-primea-blue hover:text-primea-yellow font-primea"},{default:R(()=>[...o[18]||(o[18]=[S(" Gérer ",-1)])]),_:1},8,["to"])])]))),128))])])]))])])])}}},St=Z(Et,[["__scopeId","data-v-1685f411"]]),rl=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"})),Tt={name:"OrganizerEvents",components:{PlusIcon:te},setup(){const f=oe(),s=j(""),w=j(""),t=j("grid"),P=j(!1),m=j([]),n=I({current:1,total:1,perPage:15}),c=async()=>{P.value=!0;try{const k=(await Y.getEvents({page:n.current,status:w.value,search:s.value})).data.data.events;m.value=k.data.map(A=>({...A,tickets_sold:A.tickets?.filter(O=>["issued","used"].includes(O.status)).length||0,total_tickets:A.ticket_types?.reduce((O,B)=>O+B.capacity,0)||0,revenue:A.tickets?.filter(O=>["issued","used"].includes(O.status)).reduce((O,B)=>O+(B.ticket_type?.price||0),0)||0,venue:A.venue?.name||"",image:A.image_url||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",date:A.event_date||A.schedules?.[0]?.starts_at,isFavorite:!1})),n.current=k.current_page,n.total=k.last_page,n.perPage=k.per_page}catch(r){console.error("Erreur chargement événements:",r),J.fire({icon:"error",title:"Erreur",text:"Impossible de charger les événements"})}finally{P.value=!1}},p=L(()=>{let r=[...m.value];if(s.value){const k=s.value.toLowerCase();r=r.filter(A=>A.title.toLowerCase().includes(k)||A.venue.toLowerCase().includes(k))}return w.value&&(r=r.filter(k=>k.status===w.value)),r}),T=L(()=>{const r=m.value.filter(B=>B.is_active&&B.status!=="cancelled").length,k=m.value.filter(B=>!B.is_active).length,A=m.value.reduce((B,E)=>B+(E.tickets_sold||0),0),O=m.value.reduce((B,E)=>B+(E.revenue||0),0);return{published:r,draft:k,totalTicketsSold:A,totalRevenue:O}}),z=r=>new Intl.NumberFormat("fr-FR").format(r),h=(r,k="full")=>{const A=new Date(r);return k==="short"?A.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):A.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},a=r=>r.is_active?r.status==="cancelled"?"bg-red-100 text-red-800":new Date(r.date)<new Date?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",U=r=>r.is_active?r.status==="cancelled"?"Annulé":new Date(r.date)<new Date?"Terminé":"Actif":"Brouillon",_=r=>{r.isFavorite=!r.isFavorite},v=async r=>{try{const k={title:`${r.title} (Copie)`,description:r.description,event_date:r.date,venue_id:r.venue_id,category_id:r.category_id,is_active:!1};await Y.createEvent(k),await c(),J.fire({icon:"success",title:"Succès",text:"Événement dupliqué avec succès"})}catch{J.fire({icon:"error",title:"Erreur",text:"Impossible de dupliquer l'événement"})}},o=r=>{f.push({name:"organizer-event-edit",params:{slug:r.slug}})},V=async r=>{if((await J.fire({title:"Êtes-vous sûr ?",text:`Voulez-vous vraiment supprimer l'événement "${r.title}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{await c(),J.fire("Supprimé !","L'événement a été supprimé.","success")}catch{J.fire({icon:"error",title:"Erreur",text:"Impossible de supprimer l'événement"})}};we([s,w],()=>{n.current=1,c()},{debounce:300});const u=r=>{n.current=r,c()};return W(()=>{c()}),{searchQuery:s,statusFilter:w,viewMode:t,loading:P,events:m,filteredEvents:p,stats:T,pagination:n,formatPrice:z,formatEventDate:h,getStatusClass:a,getStatusText:U,toggleFavorite:_,duplicateEvent:v,editEvent:o,deleteEvent:V,loadEvents:c,changePage:u}}},Vt={class:"organizer-events min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Mt={class:"bg-white shadow-sm border-b border-gray-200"},qt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Dt={class:"flex items-center justify-between"},Ft={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},Ut={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Bt={class:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6"},Rt={class:"flex items-center space-x-4"},Ot={class:"relative"},Nt={class:"flex items-center space-x-4"},It={class:"text-sm text-gray-600"},Xt={class:"flex bg-gray-100 rounded-lg p-1"},Lt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Gt={class:"text-center"},Ht={class:"text-2xl font-bold text-blue-600"},Zt={class:"text-center"},Jt={class:"text-2xl font-bold text-yellow-600"},Qt={class:"text-center"},Wt={class:"text-2xl font-bold text-green-600"},Kt={class:"text-center"},Yt={class:"text-2xl font-bold text-purple-600"},es={key:0},ts={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ss={class:"relative"},os=["src","alt"],as={class:"absolute top-4 left-4"},rs={class:"absolute top-4 right-4"},ns=["onClick"],is={class:"p-6"},ls={class:"text-lg font-bold text-gray-800 mb-2"},ds={class:"text-gray-600 text-sm mb-4"},us={class:"flex items-center justify-between mb-4"},ps={class:"text-sm text-gray-600 font-primea"},ms={class:"font-medium font-primea"},cs={class:"text-sm font-bold text-green-600 font-primea"},gs={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},bs={class:"flex space-x-2"},fs=["onClick"],xs={key:1,class:"bg-white rounded-lg shadow-md overflow-hidden"},vs={class:"w-full"},ys={class:"bg-white divide-y divide-gray-200"},_s={class:"px-6 py-4 whitespace-nowrap"},hs={class:"flex items-center"},ws=["src","alt"],ks={class:"text-sm font-medium text-gray-900"},$s={class:"text-sm text-gray-500"},Cs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},As={class:"px-6 py-4 whitespace-nowrap"},js={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},Ps={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 font-primea"},zs={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},Es=["onClick"],Ss=["onClick"],Ts={key:1,class:"text-center py-16"},Vs={class:"text-gray-600 mb-6"},Ms={key:0},qs={key:1},Ds={key:2,class:"mt-8 flex justify-center"},Fs={class:"flex items-center space-x-2"},Us=["disabled"],Bs=["onClick"],Rs={key:1,class:"px-2 text-gray-500"},Os=["disabled"];function Ns(f,s,w,t,P,m){const n=Q("PlusIcon"),c=Q("router-link");return d(),l("div",Vt,[e("div",Mt,[e("div",qt,[e("div",Dt,[s[7]||(s[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mes Événements"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez tous vos événements en un seul endroit")],-1)),x(c,{to:{name:"organizer-event-create"},class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 shadow-primea"},{default:R(()=>[x(n,{class:"w-4 h-4 inline mr-2"}),s[6]||(s[6]=S(" Nouvel événement ",-1))]),_:1})])])]),e("div",Ft,[e("div",Ut,[e("div",Bt,[e("div",Rt,[e("div",Ot,[s[8]||(s[8]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=p=>t.searchQuery=p),placeholder:"Rechercher un événement...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[C,t.searchQuery]])]),y(e("select",{"onUpdate:modelValue":s[1]||(s[1]=p=>t.statusFilter=p),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...s[9]||(s[9]=[ie('<option value="" data-v-b1abcf34>Tous les statuts</option><option value="draft" data-v-b1abcf34>Brouillons</option><option value="published" data-v-b1abcf34>Publiés</option><option value="completed" data-v-b1abcf34>Terminés</option><option value="cancelled" data-v-b1abcf34>Annulés</option>',5)])],512),[[se,t.statusFilter]])]),e("div",Nt,[e("div",It,i(t.filteredEvents.length)+" événement"+i(t.filteredEvents.length>1?"s":""),1),e("div",Xt,[e("button",{onClick:s[2]||(s[2]=p=>t.viewMode="grid"),class:q(["px-3 py-2 rounded-lg transition-colors",t.viewMode==="grid"?"bg-white shadow-sm":""])},[...s[10]||(s[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:s[3]||(s[3]=p=>t.viewMode="list"),class:q(["px-3 py-2 rounded-lg transition-colors",t.viewMode==="list"?"bg-white shadow-sm":""])},[...s[11]||(s[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])])]),e("div",Lt,[e("div",Gt,[e("p",Ht,i(t.stats.published),1),s[12]||(s[12]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1))]),e("div",Zt,[e("p",Jt,i(t.stats.draft),1),s[13]||(s[13]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1))]),e("div",Qt,[e("p",Wt,i(t.stats.totalTicketsSold),1),s[14]||(s[14]=e("p",{class:"text-sm text-gray-600"},"Tickets vendus",-1))]),e("div",Kt,[e("p",Yt,i(t.formatPrice(t.stats.totalRevenue))+" XAF",1),s[15]||(s[15]=e("p",{class:"text-sm text-gray-600"},"Revenus",-1))])])]),t.filteredEvents.length>0?(d(),l("div",es,[t.viewMode==="grid"?(d(),l("div",ts,[(d(!0),l(N,null,X(t.filteredEvents,p=>(d(),l("div",{key:p.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",ss,[e("img",{src:p.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",alt:p.title,class:"w-full h-48 object-cover"},null,8,os),e("div",as,[e("span",{class:q(["px-3 py-1 rounded-full text-xs font-semibold",t.getStatusClass(p.status)])},i(t.getStatusText(p.status)),3)]),e("div",rs,[e("button",{onClick:T=>t.toggleFavorite(p),class:"bg-white/90 p-2 rounded-full hover:bg-white transition-colors"},[(d(),l("svg",{class:q(["w-4 h-4",p.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...s[16]||(s[16]=[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])],2))],8,ns)])]),e("div",is,[e("h3",ls,i(p.title),1),e("p",ds,i(t.formatEventDate(p.date)),1),e("div",us,[e("div",ps,[e("span",ms,i(p.tickets_sold||0),1),S(" / "+i(p.total_tickets||0)+" tickets vendus ",1)]),e("div",cs,i(t.formatPrice(p.revenue||0))+" XAF ",1)]),e("div",gs,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:he({width:`${Math.min((p.ticketsSold||0)/(p.totalTickets||100)*100,100)}%`})},null,4)]),e("div",bs,[x(c,{to:{name:"organizer-event-detail",params:{slug:p.slug}},class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors"},{default:R(()=>[...s[17]||(s[17]=[S(" Voir détails ",-1)])]),_:1},8,["to"]),e("button",{onClick:T=>t.duplicateEvent(p),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"}," Dupliquer ",8,fs)])])]))),128))])):(d(),l("div",xs,[e("table",vs,[s[19]||(s[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ventes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Revenus"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",ys,[(d(!0),l(N,null,X(t.filteredEvents,p=>(d(),l("tr",{key:p.id,class:"hover:bg-gray-50"},[e("td",_s,[e("div",hs,[e("img",{src:p.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=60",alt:p.title,class:"w-12 h-12 object-cover rounded-lg mr-4"},null,8,ws),e("div",null,[e("div",ks,i(p.title),1),e("div",$s,i(p.venue),1)])])]),e("td",Cs,i(t.formatEventDate(p.date,"short")),1),e("td",As,[e("span",{class:q(["px-2 py-1 rounded-full text-xs font-medium font-primea",t.getStatusClass(p)])},i(t.getStatusText(p)),3)]),e("td",js,i(p.tickets_sold||0)+" / "+i(p.total_tickets||0),1),e("td",Ps,i(t.formatPrice(p.revenue||0))+" XAF ",1),e("td",zs,[x(c,{to:{name:"organizer-event-detail",params:{slug:p.slug}},class:"text-blue-600 hover:text-blue-900"},{default:R(()=>[...s[18]||(s[18]=[S(" Voir ",-1)])]),_:1},8,["to"]),e("button",{onClick:T=>t.editEvent(p),class:"text-yellow-600 hover:text-yellow-900"}," Modifier ",8,Es),e("button",{onClick:T=>t.deleteEvent(p),class:"text-red-600 hover:text-red-900"}," Supprimer ",8,Ss)])]))),128))])])]))])):(d(),l("div",Ts,[s[21]||(s[21]=e("div",{class:"inline-block p-6 bg-gray-100 rounded-full mb-6"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),s[22]||(s[22]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Aucun événement trouvé",-1)),e("p",Vs,[t.searchQuery||t.statusFilter?(d(),l("span",Ms," Aucun événement ne correspond à vos critères de recherche. ")):(d(),l("span",qs," Commencez par créer votre premier événement ! "))]),x(c,{to:"/organizer/events/create",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-block"},{default:R(()=>[...s[20]||(s[20]=[S(" + Créer mon premier événement ",-1)])]),_:1})])),t.events.length>0&&t.pagination.total>1?(d(),l("div",Ds,[e("nav",Fs,[e("button",{onClick:s[4]||(s[4]=p=>t.changePage(t.pagination.current-1)),disabled:t.pagination.current===1,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Précédent ",8,Us),(d(!0),l(N,null,X(t.pagination.total,p=>(d(),l(N,{key:p},[p===1||p===t.pagination.total||p>=t.pagination.current-1&&p<=t.pagination.current+1?(d(),l("button",{key:0,onClick:T=>t.changePage(p),class:q(["px-3 py-2 text-sm font-medium rounded-lg font-primea",p===t.pagination.current?"bg-primea-blue text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"])},i(p),11,Bs)):p===t.pagination.current-2||p===t.pagination.current+2?(d(),l("span",Rs," ... ")):D("",!0)],64))),128)),e("button",{onClick:s[5]||(s[5]=p=>t.changePage(t.pagination.current+1)),disabled:t.pagination.current===t.pagination.total,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Suivant ",8,Os)])])):D("",!0)])])}const Is=Z(Tt,[["render",Ns],["__scopeId","data-v-b1abcf34"]]),nl=Object.freeze(Object.defineProperty({__proto__:null,default:Is},Symbol.toStringTag,{value:"Module"})),Xs={class:"event-detail min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Ls={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Gs={key:0,class:"flex justify-center items-center h-64"},Hs={key:1,class:"text-center py-16"},Zs={class:"mb-4"},Js={class:"text-gray-600 mb-6"},Qs={key:2},Ws={class:"mb-8"},Ks={class:"flex items-center justify-between"},Ys={class:"flex items-center space-x-4"},eo={class:"text-3xl font-bold text-primea-blue font-primea"},to={class:"flex items-center space-x-3"},so={class:"flex space-x-2"},oo={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},ao={class:"bg-white rounded-primea shadow-primea p-6"},ro={class:"flex items-center"},no={class:"p-2 bg-blue-100 rounded-lg"},io={class:"ml-4"},lo={class:"text-2xl font-bold text-blue-600 font-primea"},uo={class:"bg-white rounded-primea shadow-primea p-6"},po={class:"flex items-center"},mo={class:"p-2 bg-green-100 rounded-lg"},co={class:"ml-4"},go={class:"text-2xl font-bold text-green-600 font-primea"},bo={class:"bg-white rounded-primea shadow-primea p-6"},fo={class:"flex items-center"},xo={class:"p-2 bg-yellow-100 rounded-lg"},vo={class:"ml-4"},yo={class:"text-2xl font-bold text-yellow-600 font-primea"},_o={class:"bg-white rounded-primea shadow-primea p-6"},ho={class:"flex items-center"},wo={class:"p-2 bg-purple-100 rounded-lg"},ko={class:"ml-4"},$o={class:"text-lg font-bold text-purple-600 font-primea"},Co={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ao={class:"lg:col-span-2 space-y-6"},jo={class:"bg-white rounded-primea shadow-primea p-6"},Po={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},zo={class:"mt-1 text-gray-900 font-primea"},Eo={class:"mt-1 text-gray-900 font-primea"},So={class:"mt-1 text-gray-900 font-primea"},To={class:"mt-1 text-gray-900 font-primea"},Vo={class:"md:col-span-2"},Mo={class:"mt-1 text-gray-900 font-primea leading-relaxed"},qo={class:"bg-white rounded-primea shadow-primea p-6"},Do={key:0,class:"space-y-4"},Fo={class:"flex justify-between items-start"},Uo={class:"font-semibold text-gray-900 font-primea"},Bo={class:"text-gray-600 text-sm font-primea mt-1"},Ro={class:"flex items-center space-x-4 mt-2"},Oo={class:"text-lg font-bold text-primea-blue font-primea"},No={class:"text-sm text-gray-500 font-primea"},Io={key:1,class:"text-center py-8 text-gray-500"},Xo={class:"bg-white rounded-primea shadow-primea p-6"},Lo={key:0,class:"overflow-x-auto"},Go={class:"w-full"},Ho={class:"divide-y divide-gray-200"},Zo={class:"px-4 py-3 text-sm text-gray-900 font-primea"},Jo={class:"px-4 py-3 text-sm text-gray-900 font-primea"},Qo={class:"px-4 py-3 text-sm font-medium text-gray-900 font-primea"},Wo={class:"px-4 py-3 text-sm text-gray-500 font-primea"},Ko={key:1,class:"text-center py-8 text-gray-500"},Yo={class:"space-y-6"},ea={class:"bg-white rounded-primea shadow-primea p-6"},ta={class:"space-y-3"},sa={key:0,class:"bg-white rounded-primea shadow-primea p-6"},oa=["src","alt"],aa={class:"bg-white rounded-primea shadow-primea p-6"},ra={class:"space-y-3"},na={class:"flex items-center justify-between"},ia={class:"flex items-center justify-between"},la={class:"flex items-center justify-between"},da={class:"text-sm text-gray-600 font-primea"},ua={__name:"EventDetail",setup(f){const s=ce(),w=oe(),t=j(!0),P=j(null),m=j(null),n=j([]),c=async()=>{t.value=!0,P.value=null;try{let u=s.params.slug;if(/^\d+$/.test(u)){const k={1:"concert-jazz-etoiles",2:"oiseau-rare",3:"festival-arts-culture",4:"soiree-hip-hop",5:"festival-gastronomique"};if(k[u]){w.replace({name:"organizer-event-detail",params:{slug:k[u]}});return}}await new Promise(k=>setTimeout(k,800));const r={"concert-jazz-etoiles":{id:1,title:"Concert Jazz sous les étoiles",slug:"concert-jazz-etoiles",description:"Une soirée musicale exceptionnelle sous un ciel étoilé avec les plus grands artistes de jazz de la région.",venue_name:"Palais de la Culture",venue_address:"123 Avenue de la République, Abidjan",event_date:"2025-10-15T20:00:00Z",status:"active",category_name:"Musique",max_attendees:500,tickets_sold:45,total_revenue:225e4,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",created_at:"2025-09-01T10:00:00Z",ticket_types:[{id:1,name:"Billet Standard",description:"Accès général à l'événement",price:25e3,quantity:300,sold:32,is_active:!0},{id:2,name:"Billet VIP",description:"Accès VIP avec boissons incluses",price:5e4,quantity:100,sold:13,is_active:!0}]},"oiseau-rare":{id:2,title:"L'OISEAU RARE",slug:"oiseau-rare",description:"Concert intimiste dans un cadre exceptionnel",venue_name:"Entre Nous Bar",venue_address:"456 Rue des Arts, Abidjan",event_date:"2025-07-27T20:00:00Z",status:"published",category_name:"Musique",max_attendees:150,tickets_sold:85,total_revenue:85e4,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=400",created_at:"2025-06-15T10:00:00Z",ticket_types:[{id:3,name:"Entrée Standard",description:"Accès à la soirée",price:1e4,quantity:150,sold:85,is_active:!0}]},"festival-arts-culture":{id:3,title:"Festival Arts & Culture",slug:"festival-arts-culture",description:"Un festival célébrant la richesse culturelle ivoirienne",venue_name:"Amphithéâtre National",venue_address:"789 Boulevard de la Culture, Abidjan",event_date:"2025-09-10T14:00:00Z",status:"published",category_name:"Culture",max_attendees:300,tickets_sold:162,total_revenue:243e4,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400",created_at:"2025-07-01T10:00:00Z",ticket_types:[{id:4,name:"Pass Journée",description:"Accès toute la journée",price:15e3,quantity:300,sold:162,is_active:!0}]},"soiree-hip-hop":{id:4,title:"Soirée Hip-Hop",slug:"soiree-hip-hop",description:"Soirée hip-hop avec les meilleurs artistes locaux",venue_name:"Club Central",venue_address:"321 Avenue Central, Abidjan",event_date:"2025-06-20T21:00:00Z",status:"completed",category_name:"Musique",max_attendees:120,tickets_sold:120,total_revenue:12e5,is_public:!0,sales_active:!1,image_url:"https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=400",created_at:"2025-05-01T10:00:00Z",ticket_types:[{id:5,name:"Entrée VIP",description:"Accès VIP avec bar",price:1e4,quantity:120,sold:120,is_active:!1}]},"festival-gastronomique":{id:5,title:"Festival Gastronomique",slug:"festival-gastronomique",description:"Découverte de la gastronomie ivoirienne et internationale",venue_name:"Centre des Expositions",venue_address:"654 Zone Industrielle, Abidjan",event_date:"2025-11-02T12:00:00Z",status:"draft",category_name:"Gastronomie",max_attendees:400,tickets_sold:0,total_revenue:0,is_public:!1,sales_active:!1,image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400",created_at:"2025-09-15T10:00:00Z",ticket_types:[{id:6,name:"Pass Dégustation",description:"Accès aux stands de dégustation",price:2e4,quantity:400,sold:0,is_active:!1}]}};r[u]?(m.value=r[u],m.value.tickets_sold>0?n.value=[{id:1,customer_name:"Kofi Asante",ticket_quantity:2,total_amount:m.value.ticket_types[0].price*2,created_at:"2025-09-19T14:30:00Z"},{id:2,customer_name:"Aminata Traore",ticket_quantity:1,total_amount:m.value.ticket_types[0].price,created_at:"2025-09-18T09:15:00Z"}]:n.value=[]):P.value=`Événement avec le slug "${u}" non trouvé`}catch(u){P.value="Erreur lors du chargement de l'événement",console.error("Erreur:",u)}finally{t.value=!1}},p=()=>{w.push({name:"organizer-event-edit",params:{slug:m.value.slug}})},T=async()=>{confirm("Êtes-vous sûr de vouloir publier cet événement ?")&&(m.value.status="active",alert("Événement publié avec succès !"))},z=()=>{const u=`${window.location.origin}/events/${m.value.slug}`;navigator.clipboard.writeText(u),alert("Lien copié dans le presse-papiers !")},h=()=>{const u=`/events/${m.value.slug}`;window.open(u,"_blank")},a=()=>{alert("Fonctionnalité d'export en cours de développement")},U=u=>new Intl.NumberFormat("fr-FR").format(u),_=u=>new Date(u).toLocaleDateString("fr-FR"),v=u=>new Date(u).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),o=u=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[u]||u,V=u=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[u]||"bg-gray-100 text-gray-800";return W(()=>{c()}),(u,r)=>{const k=Q("router-link");return d(),l("div",Xs,[e("div",Ls,[t.value?(d(),l("div",Gs,[...r[1]||(r[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):P.value?(d(),l("div",Hs,[e("div",Zs,[x($(pe),{class:"w-16 h-16 mx-auto text-red-500"})]),r[3]||(r[3]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Événement introuvable",-1)),e("p",Js,i(P.value),1),x(k,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:R(()=>[...r[2]||(r[2]=[S(" Retour aux événements ",-1)])]),_:1})])):m.value?(d(),l("div",Qs,[e("div",Ws,[e("div",Ks,[e("div",Ys,[e("button",{onClick:r[0]||(r[0]=A=>u.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[x($(le),{class:"w-6 h-6"})]),e("div",null,[e("h1",eo,i(m.value.title),1),r[4]||(r[4]=e("p",{class:"text-gray-600 font-primea mt-1"},"Gestion de l'événement",-1))])]),e("div",to,[e("span",{class:q(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",V(m.value.status)])},i(o(m.value.status)),3),e("div",so,[e("button",{onClick:p,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[x($(ne),{class:"w-4 h-4 inline mr-2"}),r[5]||(r[5]=S(" Modifier ",-1))]),m.value.status==="draft"?(d(),l("button",{key:0,onClick:T,class:"bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[x($(me),{class:"w-4 h-4 inline mr-2"}),r[6]||(r[6]=S(" Publier ",-1))])):D("",!0)])])])]),e("div",oo,[e("div",ao,[e("div",ro,[e("div",no,[x($(ee),{class:"w-6 h-6 text-blue-600"})]),e("div",io,[r[7]||(r[7]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1)),e("p",lo,i(m.value.tickets_sold||0),1)])])]),e("div",uo,[e("div",po,[e("div",mo,[x($(de),{class:"w-6 h-6 text-green-600"})]),e("div",co,[r[8]||(r[8]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",go,i(U(m.value.total_revenue||0))+" XAF",1)])])]),e("div",bo,[e("div",fo,[e("div",xo,[x($(ke),{class:"w-6 h-6 text-yellow-600"})]),e("div",vo,[r[9]||(r[9]=e("p",{class:"text-sm text-gray-600 font-primea"},"Capacité",-1)),e("p",yo,i(m.value.max_attendees||"Illimitée"),1)])])]),e("div",_o,[e("div",ho,[e("div",wo,[x($(re),{class:"w-6 h-6 text-purple-600"})]),e("div",ko,[r[10]||(r[10]=e("p",{class:"text-sm text-gray-600 font-primea"},"Date",-1)),e("p",$o,i(_(m.value.event_date)),1)])])])]),e("div",Co,[e("div",Ao,[e("div",jo,[r[16]||(r[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations générales",-1)),e("div",Po,[e("div",null,[r[11]||(r[11]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Titre",-1)),e("p",zo,i(m.value.title),1)]),e("div",null,[r[12]||(r[12]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Lieu",-1)),e("p",Eo,i(m.value.venue_name),1)]),e("div",null,[r[13]||(r[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Date et heure",-1)),e("p",So,i(v(m.value.event_date)),1)]),e("div",null,[r[14]||(r[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Catégorie",-1)),e("p",To,i(m.value.category_name||"Non spécifiée"),1)]),e("div",Vo,[r[15]||(r[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Description",-1)),e("p",Mo,i(m.value.description||"Aucune description"),1)])])]),e("div",qo,[r[18]||(r[18]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Types de billets",-1)),m.value.ticket_types&&m.value.ticket_types.length>0?(d(),l("div",Do,[(d(!0),l(N,null,X(m.value.ticket_types,A=>(d(),l("div",{key:A.id,class:"border border-gray-200 rounded-primea p-4"},[e("div",Fo,[e("div",null,[e("h3",Uo,i(A.name),1),e("p",Bo,i(A.description),1),e("div",Ro,[e("span",Oo,i(U(A.price))+" XAF ",1),e("span",No,i(A.sold||0)+" / "+i(A.quantity||"Illimité")+" vendus ",1)])]),e("span",{class:q(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",A.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},i(A.is_active?"Actif":"Inactif"),3)])]))),128))])):(d(),l("div",Io,[x($(ee),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),r[17]||(r[17]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1))]))]),e("div",Xo,[r[21]||(r[21]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Commandes récentes",-1)),n.value.length>0?(d(),l("div",Lo,[e("table",Go,[r[19]||(r[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Client"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Montant"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date")])],-1)),e("tbody",Ho,[(d(!0),l(N,null,X(n.value,A=>(d(),l("tr",{key:A.id},[e("td",Zo,i(A.customer_name),1),e("td",Jo,i(A.ticket_quantity),1),e("td",Qo,i(U(A.total_amount))+" XAF",1),e("td",Wo,i(_(A.created_at)),1)]))),128))])])])):(d(),l("div",Ko,[x($($e),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),r[20]||(r[20]=e("p",{class:"font-primea"},"Aucune commande pour cet événement",-1))]))])]),e("div",Yo,[e("div",ea,[r[25]||(r[25]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions rapides",-1)),e("div",ta,[e("button",{onClick:z,class:"w-full flex items-center justify-center px-4 py-2 border border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 font-primea"},[x($(Ce),{class:"w-4 h-4 mr-2"}),r[22]||(r[22]=S(" Partager l'événement ",-1))]),e("button",{onClick:h,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[x($(ue),{class:"w-4 h-4 mr-2"}),r[23]||(r[23]=S(" Voir la page publique ",-1))]),e("button",{onClick:a,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[...r[24]||(r[24]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),S(" Exporter les données ",-1)])])])]),m.value.image_url?(d(),l("div",sa,[r[26]||(r[26]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Image de l'événement",-1)),e("img",{src:m.value.image_url,alt:m.value.title,class:"w-full h-48 object-cover rounded-primea"},null,8,oa)])):D("",!0),e("div",aa,[r[30]||(r[30]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",ra,[e("div",na,[r[27]||(r[27]=e("span",{class:"text-sm text-gray-700 font-primea"},"Événement public",-1)),e("span",{class:q(["text-sm font-medium",m.value.is_public?"text-green-600":"text-red-600"])},i(m.value.is_public?"Oui":"Non"),3)]),e("div",ia,[r[28]||(r[28]=e("span",{class:"text-sm text-gray-700 font-primea"},"Ventes actives",-1)),e("span",{class:q(["text-sm font-medium",m.value.sales_active?"text-green-600":"text-red-600"])},i(m.value.sales_active?"Oui":"Non"),3)]),e("div",la,[r[29]||(r[29]=e("span",{class:"text-sm text-gray-700 font-primea"},"Créé le",-1)),e("span",da,i(_(m.value.created_at)),1)])])])])])])):D("",!0)])])}}},pa=Z(ua,[["__scopeId","data-v-84d2eb34"]]),il=Object.freeze(Object.defineProperty({__proto__:null,default:pa},Symbol.toStringTag,{value:"Module"})),ma={class:"event-edit min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},ca={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},ga={key:0,class:"flex justify-center items-center h-64"},ba={key:1,class:"text-center py-16"},fa={class:"mb-4"},xa={class:"text-gray-600 mb-6"},va={key:2},ya={class:"mb-8"},_a={class:"flex items-center justify-between"},ha={class:"flex items-center space-x-4"},wa={class:"text-gray-600 font-primea mt-1"},ka={class:"flex items-center space-x-3"},$a={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ca={class:"lg:col-span-2 space-y-6"},Aa={class:"bg-white rounded-primea shadow-primea p-6"},ja={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Pa={class:"md:col-span-2"},za={class:"md:col-span-2"},Ea={class:"bg-white rounded-primea shadow-primea p-6"},Sa={class:"flex items-center justify-between mb-6"},Ta={key:0,class:"text-center py-8 text-gray-500"},Va={key:1,class:"space-y-4"},Ma={class:"flex justify-between items-start mb-4"},qa={class:"font-semibold text-gray-900 font-primea"},Da=["onClick"],Fa={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ua=["onUpdate:modelValue"],Ba=["onUpdate:modelValue"],Ra=["onUpdate:modelValue"],Oa={class:"flex items-center"},Na={class:"flex items-center space-x-2"},Ia=["onUpdate:modelValue"],Xa={class:"md:col-span-2"},La=["onUpdate:modelValue"],Ga={class:"space-y-6"},Ha={class:"bg-white rounded-primea shadow-primea p-6"},Za={class:"space-y-4"},Ja={class:"flex items-center space-x-2"},Qa={class:"flex items-center space-x-2"},Wa={class:"bg-white rounded-primea shadow-primea p-6"},Ka={class:"space-y-3"},Ya=["disabled"],er={key:0,class:"bg-white rounded-primea shadow-primea p-6"},tr=["src","alt"],sr={__name:"EventEdit",setup(f){const s=ce(),w=oe(),t=j(!0),P=j(!1),m=j(null),n=j(null),c=I({title:"",description:"",event_date:"",category_name:"",venue_name:"",venue_address:"",max_attendees:"",image_url:"",is_public:!0,sales_active:!0,ticket_types:[]}),p=async()=>{t.value=!0,m.value=null;try{const v=s.params.slug;await new Promise(V=>setTimeout(V,800));const o={"concert-jazz-etoiles":{id:1,title:"Concert Jazz sous les étoiles",slug:"concert-jazz-etoiles",description:"Une soirée musicale exceptionnelle sous un ciel étoilé avec les plus grands artistes de jazz de la région.",venue_name:"Palais de la Culture",venue_address:"123 Avenue de la République, Abidjan",event_date:"2025-10-15T20:00:00",status:"active",category_name:"Musique",max_attendees:500,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",ticket_types:[{id:1,name:"Billet Standard",description:"Accès général à l'événement",price:25e3,quantity:300,is_active:!0},{id:2,name:"Billet VIP",description:"Accès VIP avec boissons incluses",price:5e4,quantity:100,is_active:!0}]},"oiseau-rare":{id:2,title:"L'OISEAU RARE",slug:"oiseau-rare",description:"Concert intimiste dans un cadre exceptionnel",venue_name:"Entre Nous Bar",venue_address:"456 Rue des Arts, Abidjan",event_date:"2025-07-27T20:00:00",status:"published",category_name:"Musique",max_attendees:150,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=400",ticket_types:[{id:3,name:"Entrée Standard",description:"Accès à la soirée",price:1e4,quantity:150,is_active:!0}]},"festival-arts-culture":{id:3,title:"Festival Arts & Culture",slug:"festival-arts-culture",description:"Un festival célébrant la richesse culturelle ivoirienne",venue_name:"Amphithéâtre National",venue_address:"789 Boulevard de la Culture, Abidjan",event_date:"2025-09-10T14:00:00",status:"published",category_name:"Culture",max_attendees:300,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400",ticket_types:[{id:4,name:"Pass Journée",description:"Accès toute la journée",price:15e3,quantity:300,is_active:!0}]},"soiree-hip-hop":{id:4,title:"Soirée Hip-Hop",slug:"soiree-hip-hop",description:"Soirée hip-hop avec les meilleurs artistes locaux",venue_name:"Club Central",venue_address:"321 Avenue Central, Abidjan",event_date:"2025-06-20T21:00:00",status:"completed",category_name:"Musique",max_attendees:120,is_public:!0,sales_active:!1,image_url:"https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=400",ticket_types:[{id:5,name:"Entrée VIP",description:"Accès VIP avec bar",price:1e4,quantity:120,is_active:!1}]},"festival-gastronomique":{id:5,title:"Festival Gastronomique",slug:"festival-gastronomique",description:"Découverte de la gastronomie ivoirienne et internationale",venue_name:"Centre des Expositions",venue_address:"654 Zone Industrielle, Abidjan",event_date:"2025-11-02T12:00:00",status:"draft",category_name:"Gastronomie",max_attendees:400,is_public:!1,sales_active:!1,image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400",ticket_types:[{id:6,name:"Pass Dégustation",description:"Accès aux stands de dégustation",price:2e4,quantity:400,is_active:!1}]}};o[v]?(n.value=o[v],Object.assign(c,{title:n.value.title,description:n.value.description,event_date:n.value.event_date,category_name:n.value.category_name,venue_name:n.value.venue_name,venue_address:n.value.venue_address,max_attendees:n.value.max_attendees,image_url:n.value.image_url,is_public:n.value.is_public,sales_active:n.value.sales_active,ticket_types:[...n.value.ticket_types]})):m.value=`Événement avec le slug "${v}" non trouvé`}catch(v){m.value="Erreur lors du chargement de l'événement",console.error("Erreur:",v)}finally{t.value=!1}},T=async()=>{P.value=!0;try{await new Promise(v=>setTimeout(v,1500)),alert("Événement mis à jour avec succès !"),w.push({name:"organizer-event-detail",params:{slug:n.value.slug}})}catch(v){alert("Erreur lors de la mise à jour de l'événement"),console.error("Erreur:",v)}finally{P.value=!1}},z=async()=>{if(confirm("Êtes-vous sûr de vouloir publier cet événement ?"))try{n.value.status="active",alert("Événement publié avec succès !")}catch{alert("Erreur lors de la publication")}},h=()=>{c.ticket_types.push({name:"",description:"",price:"",quantity:"",is_active:!0})},a=v=>{confirm("Êtes-vous sûr de vouloir supprimer ce type de billet ?")&&c.ticket_types.splice(v,1)},U=v=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[v]||v,_=v=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[v]||"bg-gray-100 text-gray-800";return W(()=>{p()}),(v,o)=>{const V=Q("router-link");return d(),l("div",ma,[e("div",ca,[t.value?(d(),l("div",ga,[...o[11]||(o[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):m.value?(d(),l("div",ba,[e("div",fa,[x($(pe),{class:"w-16 h-16 mx-auto text-red-500"})]),o[13]||(o[13]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Erreur",-1)),e("p",xa,i(m.value),1),x(V,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:R(()=>[...o[12]||(o[12]=[S(" Retour aux événements ",-1)])]),_:1})])):n.value?(d(),l("div",va,[e("div",ya,[e("div",_a,[e("div",ha,[e("button",{onClick:o[0]||(o[0]=u=>v.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[x($(le),{class:"w-6 h-6"})]),e("div",null,[o[14]||(o[14]=e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Modifier l'événement",-1)),e("p",wa,i(n.value.title),1)])]),e("div",ka,[e("span",{class:q(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",_(n.value.status)])},i(U(n.value.status)),3)])])]),e("form",{onSubmit:G(T,["prevent"]),class:"space-y-8"},[e("div",$a,[e("div",Ca,[e("div",Aa,[o[24]||(o[24]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",ja,[e("div",Pa,[o[15]||(o[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement",-1)),y(e("input",{"onUpdate:modelValue":o[1]||(o[1]=u=>c.title=u),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[C,c.title]])]),e("div",za,[o[16]||(o[16]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=u=>c.description=u),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[C,c.description]])]),e("div",null,[o[17]||(o[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Date et heure",-1)),y(e("input",{"onUpdate:modelValue":o[3]||(o[3]=u=>c.event_date=u),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[C,c.event_date]])]),e("div",null,[o[19]||(o[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie",-1)),y(e("select",{"onUpdate:modelValue":o[4]||(o[4]=u=>c.category_name=u),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...o[18]||(o[18]=[ie('<option value="" data-v-8168cf35>Sélectionner une catégorie</option><option value="Musique" data-v-8168cf35>Musique</option><option value="Culture" data-v-8168cf35>Culture</option><option value="Gastronomie" data-v-8168cf35>Gastronomie</option><option value="Sport" data-v-8168cf35>Sport</option><option value="Business" data-v-8168cf35>Business</option><option value="Autres" data-v-8168cf35>Autres</option>',7)])],512),[[se,c.category_name]])]),e("div",null,[o[20]||(o[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu",-1)),y(e("input",{"onUpdate:modelValue":o[5]||(o[5]=u=>c.venue_name=u),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom du lieu"},null,512),[[C,c.venue_name]])]),e("div",null,[o[21]||(o[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Adresse",-1)),y(e("input",{"onUpdate:modelValue":o[6]||(o[6]=u=>c.venue_address=u),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Adresse complète"},null,512),[[C,c.venue_address]])]),e("div",null,[o[22]||(o[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Capacité maximale",-1)),y(e("input",{"onUpdate:modelValue":o[7]||(o[7]=u=>c.max_attendees=u),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nombre de places (optionnel)"},null,512),[[C,c.max_attendees]])]),e("div",null,[o[23]||(o[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"URL de l'image",-1)),y(e("input",{"onUpdate:modelValue":o[8]||(o[8]=u=>c.image_url=u),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"https://exemple.com/image.jpg"},null,512),[[C,c.image_url]])])])]),e("div",Ea,[e("div",Sa,[o[26]||(o[26]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:h,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[x($(te),{class:"w-4 h-4 inline mr-2"}),o[25]||(o[25]=S(" Ajouter un type ",-1))])]),c.ticket_types.length===0?(d(),l("div",Ta,[x($(ee),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),o[27]||(o[27]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),o[28]||(o[28]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(d(),l("div",Va,[(d(!0),l(N,null,X(c.ticket_types,(u,r)=>(d(),l("div",{key:r,class:"border border-gray-200 rounded-primea p-4"},[e("div",Ma,[e("h3",qa,"Type de billet "+i(r+1),1),e("button",{type:"button",onClick:k=>a(r),class:"text-red-600 hover:text-red-800"},[x($(ge),{class:"w-4 h-4"})],8,Da)]),e("div",Fa,[e("div",null,[o[29]||(o[29]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom",-1)),y(e("input",{"onUpdate:modelValue":k=>u.name=k,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,Ua),[[C,u.name]])]),e("div",null,[o[30]||(o[30]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF)",-1)),y(e("input",{"onUpdate:modelValue":k=>u.price=k,type:"number",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,Ba),[[C,u.price]])]),e("div",null,[o[31]||(o[31]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Quantité",-1)),y(e("input",{"onUpdate:modelValue":k=>u.quantity=k,type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100 (optionnel)"},null,8,Ra),[[C,u.quantity]])]),e("div",Oa,[e("label",Na,[y(e("input",{"onUpdate:modelValue":k=>u.is_active=k,type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,8,Ia),[[H,u.is_active]]),o[32]||(o[32]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Actif",-1))])]),e("div",Xa,[o[33]||(o[33]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":k=>u.description=k,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Description du billet..."},null,8,La),[[C,u.description]])])])]))),128))]))])]),e("div",Ga,[e("div",Ha,[o[38]||(o[38]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",Za,[e("div",null,[e("label",Ja,[y(e("input",{"onUpdate:modelValue":o[9]||(o[9]=u=>c.is_public=u),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[H,c.is_public]]),o[34]||(o[34]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement public",-1))]),o[35]||(o[35]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Visible dans la liste publique des événements",-1))]),e("div",null,[e("label",Qa,[y(e("input",{"onUpdate:modelValue":o[10]||(o[10]=u=>c.sales_active=u),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[H,c.sales_active]]),o[36]||(o[36]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Ventes actives",-1))]),o[37]||(o[37]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Permettre l'achat de billets",-1))])])]),e("div",Wa,[o[41]||(o[41]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Ka,[e("button",{type:"submit",disabled:P.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},i(P.value?"Enregistrement...":"Enregistrer les modifications"),9,Ya),x(V,{to:{name:"organizer-event-detail",params:{slug:n.value.slug}},class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:R(()=>[...o[39]||(o[39]=[S(" Annuler ",-1)])]),_:1},8,["to"]),n.value.status==="draft"?(d(),l("button",{key:0,type:"button",onClick:z,class:"w-full bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[x($(me),{class:"w-4 h-4 inline mr-2"}),o[40]||(o[40]=S(" Publier l'événement ",-1))])):D("",!0)])]),c.image_url?(d(),l("div",er,[o[42]||(o[42]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Aperçu de l'image",-1)),e("img",{src:c.image_url,alt:c.title,class:"w-full h-48 object-cover rounded-primea"},null,8,tr)])):D("",!0)])])],32)])):D("",!0)])])}}},or=Z(sr,[["__scopeId","data-v-8168cf35"]]),ll=Object.freeze(Object.defineProperty({__proto__:null,default:or},Symbol.toStringTag,{value:"Module"})),ar={class:"event-create min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},rr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},nr={class:"mb-8"},ir={class:"flex items-center justify-between"},lr={class:"flex items-center space-x-4"},dr={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ur={class:"lg:col-span-2 space-y-6"},pr={class:"bg-white rounded-primea shadow-primea p-6"},mr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},cr={class:"md:col-span-2"},gr={class:"md:col-span-2"},br={class:"bg-white rounded-primea shadow-primea p-6"},fr={class:"flex items-center justify-between mb-6"},xr={key:0,class:"text-center py-8 text-gray-500"},vr={key:1,class:"space-y-4"},yr={class:"flex justify-between items-start mb-4"},_r={class:"font-semibold text-gray-900 font-primea"},hr=["onClick"],wr={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},kr=["onUpdate:modelValue"],$r=["onUpdate:modelValue"],Cr=["onUpdate:modelValue"],Ar={class:"flex items-center"},jr={class:"flex items-center space-x-2"},Pr=["onUpdate:modelValue"],zr={class:"md:col-span-2"},Er=["onUpdate:modelValue"],Sr={class:"space-y-6"},Tr={class:"bg-white rounded-primea shadow-primea p-6"},Vr={class:"space-y-4"},Mr={class:"flex items-center space-x-2"},qr={class:"flex items-center space-x-2"},Dr={class:"bg-white rounded-primea shadow-primea p-6"},Fr={class:"space-y-3"},Ur=["disabled"],Br={key:0,class:"bg-white rounded-primea shadow-primea p-6"},Rr=["src","alt"],Or={class:"bg-white rounded-primea shadow-primea p-6"},Nr={class:"space-y-2 text-sm"},Ir={class:"flex justify-between"},Xr={class:"font-medium font-primea"},Lr={class:"flex justify-between"},Gr={class:"font-medium font-primea"},Hr={key:0,class:"flex justify-between"},Zr={class:"font-medium font-primea"},Jr={key:1,class:"flex justify-between"},Qr={class:"font-medium font-primea"},Wr={__name:"EventCreate",setup(f){const s=oe(),w=j(!1);j([]),j([]),j(!1);const t=I({title:"",description:"",event_date:"",category_name:"",venue_name:"",venue_address:"",max_attendees:"",image_url:"",is_public:!0,sales_active:!0,status:"draft",ticket_types:[]}),P=L(()=>t.ticket_types.reduce((h,a)=>h+(parseInt(a.quantity)||0),0)),m=L(()=>{if(t.ticket_types.length===0)return 0;const h=t.ticket_types.map(a=>parseInt(a.price)||0).filter(a=>a>0);return h.length>0?Math.min(...h):0}),n=L(()=>{if(t.ticket_types.length===0)return 0;const h=t.ticket_types.map(a=>parseInt(a.price)||0);return h.length>0?Math.max(...h):0}),c=()=>{t.ticket_types.push({name:"",description:"",price:"",quantity:"",is_active:!0})},p=h=>{confirm("Êtes-vous sûr de vouloir supprimer ce type de billet ?")&&t.ticket_types.splice(h,1)},T=async()=>{if(t.ticket_types.length===0){alert("Veuillez ajouter au moins un type de billet");return}if(!t.title||!t.event_date||!t.venue_name){alert("Veuillez remplir tous les champs obligatoires");return}w.value=!0;try{await new Promise(a=>setTimeout(a,1500));const h=t.title.toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g,"-").slice(0,50);alert("Événement créé avec succès !"),s.push(`/organizer/events/${h}`)}catch(h){alert("Erreur lors de la création de l'événement"),console.error("Erreur:",h)}finally{w.value=!1}},z=h=>new Intl.NumberFormat("fr-FR").format(h);return(h,a)=>{const U=Q("router-link");return d(),l("div",ar,[e("div",rr,[e("div",nr,[e("div",ir,[e("div",lr,[e("button",{onClick:a[0]||(a[0]=_=>h.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[x($(le),{class:"w-6 h-6"})]),a[12]||(a[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Créer un événement"),e("p",{class:"text-gray-600 font-primea mt-1"},"Configurez tous les détails de votre événement")],-1))])])]),e("form",{onSubmit:G(T,["prevent"]),class:"space-y-8"},[e("div",dr,[e("div",ur,[e("div",pr,[a[22]||(a[22]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",mr,[e("div",cr,[a[13]||(a[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement",-1)),y(e("input",{"onUpdate:modelValue":a[1]||(a[1]=_=>t.title=_),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[C,t.title]])]),e("div",gr,[a[14]||(a[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=_=>t.description=_),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[C,t.description]])]),e("div",null,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Date et heure",-1)),y(e("input",{"onUpdate:modelValue":a[3]||(a[3]=_=>t.event_date=_),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[C,t.event_date]])]),e("div",null,[a[17]||(a[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie",-1)),y(e("select",{"onUpdate:modelValue":a[4]||(a[4]=_=>t.category_name=_),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...a[16]||(a[16]=[ie('<option value="" data-v-e3b1e03e>Sélectionner une catégorie</option><option value="Musique" data-v-e3b1e03e>Musique</option><option value="Culture" data-v-e3b1e03e>Culture</option><option value="Gastronomie" data-v-e3b1e03e>Gastronomie</option><option value="Sport" data-v-e3b1e03e>Sport</option><option value="Business" data-v-e3b1e03e>Business</option><option value="Autres" data-v-e3b1e03e>Autres</option>',7)])],512),[[se,t.category_name]])]),e("div",null,[a[18]||(a[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu",-1)),y(e("input",{"onUpdate:modelValue":a[5]||(a[5]=_=>t.venue_name=_),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom du lieu"},null,512),[[C,t.venue_name]])]),e("div",null,[a[19]||(a[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Adresse",-1)),y(e("input",{"onUpdate:modelValue":a[6]||(a[6]=_=>t.venue_address=_),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Adresse complète"},null,512),[[C,t.venue_address]])]),e("div",null,[a[20]||(a[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Capacité maximale",-1)),y(e("input",{"onUpdate:modelValue":a[7]||(a[7]=_=>t.max_attendees=_),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nombre de places (optionnel)"},null,512),[[C,t.max_attendees]])]),e("div",null,[a[21]||(a[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"URL de l'image",-1)),y(e("input",{"onUpdate:modelValue":a[8]||(a[8]=_=>t.image_url=_),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"https://exemple.com/image.jpg"},null,512),[[C,t.image_url]])])])]),e("div",br,[e("div",fr,[a[24]||(a[24]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:c,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[x($(te),{class:"w-4 h-4 inline mr-2"}),a[23]||(a[23]=S(" Ajouter un type ",-1))])]),t.ticket_types.length===0?(d(),l("div",xr,[x($(ee),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),a[25]||(a[25]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),a[26]||(a[26]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(d(),l("div",vr,[(d(!0),l(N,null,X(t.ticket_types,(_,v)=>(d(),l("div",{key:v,class:"border border-gray-200 rounded-primea p-4"},[e("div",yr,[e("h3",_r,"Type de billet "+i(v+1),1),e("button",{type:"button",onClick:o=>p(v),class:"text-red-600 hover:text-red-800"},[x($(ge),{class:"w-4 h-4"})],8,hr)]),e("div",wr,[e("div",null,[a[27]||(a[27]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom",-1)),y(e("input",{"onUpdate:modelValue":o=>_.name=o,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,kr),[[C,_.name]])]),e("div",null,[a[28]||(a[28]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF)",-1)),y(e("input",{"onUpdate:modelValue":o=>_.price=o,type:"number",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,$r),[[C,_.price]])]),e("div",null,[a[29]||(a[29]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Quantité",-1)),y(e("input",{"onUpdate:modelValue":o=>_.quantity=o,type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100 (optionnel)"},null,8,Cr),[[C,_.quantity]])]),e("div",Ar,[e("label",jr,[y(e("input",{"onUpdate:modelValue":o=>_.is_active=o,type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,8,Pr),[[H,_.is_active]]),a[30]||(a[30]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Actif",-1))])]),e("div",zr,[a[31]||(a[31]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":o=>_.description=o,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Description du billet..."},null,8,Er),[[C,_.description]])])])]))),128))]))])]),e("div",Sr,[e("div",Tr,[a[39]||(a[39]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",Vr,[e("div",null,[e("label",Mr,[y(e("input",{"onUpdate:modelValue":a[9]||(a[9]=_=>t.is_public=_),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[H,t.is_public]]),a[32]||(a[32]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement public",-1))]),a[33]||(a[33]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Visible dans la liste publique des événements",-1))]),e("div",null,[e("label",qr,[y(e("input",{"onUpdate:modelValue":a[10]||(a[10]=_=>t.sales_active=_),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[H,t.sales_active]]),a[34]||(a[34]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Ventes actives",-1))]),a[35]||(a[35]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Permettre l'achat de billets",-1))]),e("div",null,[a[37]||(a[37]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Statut",-1)),y(e("select",{"onUpdate:modelValue":a[11]||(a[11]=_=>t.status=_),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...a[36]||(a[36]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1)])],512),[[se,t.status]]),a[38]||(a[38]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Les brouillons ne sont pas visibles par le public",-1))])])]),e("div",Dr,[a[41]||(a[41]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Fr,[e("button",{type:"submit",disabled:w.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},i(w.value?"Création en cours...":"Créer l'événement"),9,Ur),x(U,{to:"/organizer/dashboard",class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:R(()=>[...a[40]||(a[40]=[S(" Annuler ",-1)])]),_:1})])]),t.image_url?(d(),l("div",Br,[a[42]||(a[42]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Aperçu de l'image",-1)),e("img",{src:t.image_url,alt:t.title,class:"w-full h-48 object-cover rounded-primea"},null,8,Rr)])):D("",!0),e("div",Or,[a[47]||(a[47]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Résumé",-1)),e("div",Nr,[e("div",Ir,[a[43]||(a[43]=e("span",{class:"text-gray-600 font-primea"},"Types de billets:",-1)),e("span",Xr,i(t.ticket_types.length),1)]),e("div",Lr,[a[44]||(a[44]=e("span",{class:"text-gray-600 font-primea"},"Capacité totale:",-1)),e("span",Gr,i(P.value||"Illimitée"),1)]),m.value>0?(d(),l("div",Hr,[a[45]||(a[45]=e("span",{class:"text-gray-600 font-primea"},"Prix minimum:",-1)),e("span",Zr,i(z(m.value))+" XAF",1)])):D("",!0),n.value>0?(d(),l("div",Jr,[a[46]||(a[46]=e("span",{class:"text-gray-600 font-primea"},"Prix maximum:",-1)),e("span",Qr,i(z(n.value))+" XAF",1)])):D("",!0)])])])])],32)])])}}},Kr=Z(Wr,[["__scopeId","data-v-e3b1e03e"]]),dl=Object.freeze(Object.defineProperty({__proto__:null,default:Kr},Symbol.toStringTag,{value:"Module"})),Yr={name:"BalanceManagement",setup(){const f=j(!1),s=j(!1),w=j(!1),t=j(!1),P=j(!1),m=j([]),n=j([]),c=I({pending_payouts:0,total_payouts:0}),p=I({gateway:"",available_balance:0,amount:"",phone_number:""}),T=I({gateway:"",auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),z=L(()=>m.value.reduce((b,M)=>b+M.balance,0)),h=async()=>{f.value=!0;try{const M=await(await fetch("/api/v1/organizer/balances",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();M.success&&(m.value=M.data.balances)}catch(b){console.error("Erreur chargement soldes:",b)}finally{f.value=!1}},a=async()=>{try{const M=await(await fetch("/api/v1/organizer/payouts?limit=10",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();M.success&&(n.value=M.data.payouts.data||M.data.payouts,c.pending_payouts=n.value.filter(ae=>["pending","processing"].includes(ae.status)).length,c.total_payouts=n.value.reduce((ae,fe)=>ae+fe.amount,0))}catch(b){console.error("Erreur chargement payouts récents:",b)}},U=b=>{Object.assign(p,{gateway:b.gateway,available_balance:b.balance,amount:"",phone_number:b.payout_phone_number||""}),t.value=!0},_=async()=>{s.value=!0;try{const M=await(await fetch("/api/v1/organizer/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)})).json();M.success?(alert("Demande de payout envoyée avec succès"),t.value=!1,h(),a()):alert(M.message||"Erreur lors de la demande")}catch(b){console.error("Erreur demande payout:",b),alert("Erreur technique")}finally{s.value=!1}},v=b=>{Object.assign(T,{gateway:b.gateway,auto_payout_enabled:b.auto_payout_enabled,auto_payout_threshold:b.auto_payout_threshold,payout_phone_number:b.payout_phone_number||""}),P.value=!0},o=async()=>{w.value=!0;try{const M=await(await fetch("/api/v1/organizer/auto-payout-config",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(T)})).json();M.success?(alert("Configuration mise à jour avec succès"),P.value=!1,h()):alert(M.message||"Erreur lors de la mise à jour")}catch(b){console.error("Erreur sauvegarde config:",b),alert("Erreur technique")}finally{w.value=!1}},V=b=>n.value.filter(M=>M.gateway===b).slice(0,3),u=b=>{alert(`Détails du payout #${b.reference}
Montant: ${r(b.amount)} XAF
Statut: ${E(b.status)}`)},r=b=>new Intl.NumberFormat("fr-FR").format(b),k=b=>new Date(b).toLocaleDateString("fr-FR"),A=b=>new Date(b).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),O=b=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[b]||b,B=b=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[b]||"bg-gray-100 text-gray-800",E=b=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[b]||b,g=b=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[b]||"bg-gray-100 text-gray-800";return W(()=>{h(),a()}),{loading:f,requestingPayout:s,savingConfig:w,showPayoutModal:t,showConfigModal:P,balances:m,recentPayouts:n,stats:c,payoutForm:p,configForm:T,totalBalance:z,loadBalances:h,loadRecentPayouts:a,requestPayout:U,submitPayoutRequest:_,configureAutoPayout:v,saveAutoPayoutConfig:o,getRecentPayouts:V,viewPayoutDetails:u,formatAmount:r,formatDate:k,formatDateTime:A,getGatewayName:O,getGatewayBadgeClass:B,getPayoutStatusName:E,getPayoutStatusClass:g}}},en={class:"balance-management min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},tn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},sn={class:"mb-8"},on={class:"flex items-center justify-between"},an={key:0,class:"flex justify-center items-center h-64"},rn={key:1},nn={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},ln={class:"bg-white rounded-lg shadow p-6"},dn={class:"flex items-center"},un={class:"ml-4"},pn={class:"text-2xl font-bold text-green-600"},mn={class:"bg-white rounded-lg shadow p-6"},cn={class:"flex items-center"},gn={class:"ml-4"},bn={class:"text-2xl font-bold text-yellow-600"},fn={class:"bg-white rounded-lg shadow p-6"},xn={class:"flex items-center"},vn={class:"ml-4"},yn={class:"text-2xl font-bold text-blue-600"},_n={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},hn={class:"flex items-center justify-between mb-4"},wn={class:"flex items-center"},kn={class:"text-lg font-semibold text-gray-900"},$n={class:"text-right"},Cn={class:"text-2xl font-bold text-green-600"},An={class:"mb-4 p-3 bg-gray-50 rounded-lg"},jn={class:"flex items-center justify-between mb-2"},Pn={key:0,class:"text-sm text-gray-600"},zn={key:0},En={class:"space-y-3"},Sn=["onClick","disabled"],Tn=["onClick"],Vn={class:"mt-6 pt-6 border-t"},Mn={key:0,class:"text-sm text-gray-500"},qn={key:1,class:"space-y-2"},Dn={class:"font-medium"},Fn={class:"text-gray-500 ml-2"},Un={class:"bg-white rounded-lg shadow"},Bn={class:"p-6 border-b"},Rn={class:"flex justify-between items-center"},On={key:0,class:"p-8 text-center text-gray-500"},Nn={key:1,class:"overflow-x-auto"},In={class:"w-full"},Xn={class:"divide-y divide-gray-200"},Ln={class:"px-6 py-4 text-sm font-mono text-gray-900"},Gn={class:"px-6 py-4 text-sm"},Hn={class:"px-6 py-4 text-sm font-medium text-gray-900"},Zn={class:"px-6 py-4 text-sm"},Jn={class:"px-6 py-4 text-sm"},Qn={class:"px-6 py-4 text-sm text-gray-500"},Wn={class:"px-6 py-4 text-sm"},Kn=["onClick"],Yn={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ei={class:"bg-white rounded-lg p-6 w-full max-w-md"},ti={class:"space-y-4"},si=["value"],oi=["value"],ai=["max"],ri={class:"flex justify-end space-x-3 mt-6"},ni=["disabled"],ii={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},li={class:"bg-white rounded-lg p-6 w-full max-w-md"},di={class:"text-lg font-bold mb-4"},ui={class:"space-y-4"},pi={class:"flex items-center space-x-2"},mi={key:0},ci={class:"flex justify-end space-x-3 mt-6"},gi=["disabled"];function bi(f,s,w,t,P,m){return d(),l("div",en,[e("div",tn,[e("div",sn,[e("div",on,[s[12]||(s[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Soldes & Payouts"),e("p",{class:"text-gray-600"},"Consultez vos soldes et gérez vos demandes de payout")],-1)),e("button",{onClick:s[0]||(s[0]=n=>f.$router.push("/organizer/payouts/history")),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...s[11]||(s[11]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),S(" Historique Payouts ",-1)])])])]),t.loading?(d(),l("div",an,[...s[13]||(s[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(d(),l("div",rn,[e("div",nn,[e("div",ln,[e("div",dn,[s[15]||(s[15]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",un,[s[14]||(s[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",pn,i(t.formatAmount(t.totalBalance))+" XAF",1)])])]),e("div",mn,[e("div",cn,[s[17]||(s[17]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",gn,[s[16]||(s[16]=e("p",{class:"text-sm text-gray-600"},"Payouts en Cours",-1)),e("p",bn,i(t.stats.pending_payouts||0),1)])])]),e("div",fn,[e("div",xn,[s[19]||(s[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",vn,[s[18]||(s[18]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",yn,i(t.formatAmount(t.stats.total_payouts||0))+" XAF",1)])])])]),e("div",_n,[(d(!0),l(N,null,X(t.balances,n=>(d(),l("div",{key:n.gateway,class:"bg-white rounded-lg shadow p-6"},[e("div",hn,[e("div",wn,[e("div",{class:q(["p-2 rounded-lg mr-4",t.getGatewayBadgeClass(n.gateway)])},[...s[20]||(s[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("h3",kn,i(t.getGatewayName(n.gateway)),1),s[21]||(s[21]=e("p",{class:"text-sm text-gray-600"},"Solde disponible",-1))])]),e("div",$n,[e("p",Cn,i(t.formatAmount(n.balance))+" XAF",1)])]),e("div",An,[e("div",jn,[s[22]||(s[22]=e("span",{class:"text-sm font-medium text-gray-700"},"Payout Automatique",-1)),e("span",{class:q(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",n.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},i(n.auto_payout_enabled?"Activé":"Désactivé"),3)]),n.auto_payout_enabled?(d(),l("div",Pn,[e("p",null,"Seuil: "+i(t.formatAmount(n.auto_payout_threshold))+" XAF",1),n.payout_phone_number?(d(),l("p",zn,"Téléphone: "+i(n.payout_phone_number),1)):D("",!0)])):D("",!0)]),e("div",En,[e("button",{onClick:c=>t.requestPayout(n),disabled:n.balance<1e3,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[s[23]||(s[23]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),S(" "+i(n.balance<1e3?"Solde insuffisant (min 1000 XAF)":"Demander un Payout"),1)],8,Sn),e("button",{onClick:c=>t.configureAutoPayout(n),class:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700"},[...s[24]||(s[24]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),S(" Configurer Auto-Payout ",-1)])],8,Tn)]),e("div",Vn,[s[25]||(s[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Dernières transactions",-1)),t.getRecentPayouts(n.gateway).length===0?(d(),l("div",Mn," Aucune transaction récente ")):(d(),l("div",qn,[(d(!0),l(N,null,X(t.getRecentPayouts(n.gateway),c=>(d(),l("div",{key:c.id,class:"flex justify-between items-center text-sm"},[e("div",null,[e("span",Dn,i(t.formatAmount(c.amount))+" XAF",1),e("span",Fn,i(t.formatDate(c.created_at)),1)]),e("span",{class:q(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",t.getPayoutStatusClass(c.status)])},i(t.getPayoutStatusName(c.status)),3)]))),128))]))])]))),128))]),e("div",Un,[e("div",Bn,[e("div",Rn,[s[26]||(s[26]=e("h2",{class:"text-xl font-bold"},"Payouts Récents",-1)),e("button",{onClick:s[1]||(s[1]=n=>f.$router.push("/organizer/payouts/history")),class:"text-blue-600 hover:text-blue-800 text-sm"},"Voir tout")])]),t.recentPayouts.length===0?(d(),l("div",On," Aucun payout récent ")):(d(),l("div",Nn,[e("table",In,[s[27]||(s[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",Xn,[(d(!0),l(N,null,X(t.recentPayouts,n=>(d(),l("tr",{key:n.id},[e("td",Ln,"#"+i(n.reference),1),e("td",Gn,[e("span",{class:q(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",t.getGatewayBadgeClass(n.gateway)])},i(t.getGatewayName(n.gateway)),3)]),e("td",Hn,i(t.formatAmount(n.amount))+" XAF",1),e("td",Zn,[e("span",{class:q(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",t.getPayoutStatusClass(n.status)])},i(t.getPayoutStatusName(n.status)),3)]),e("td",Jn,[e("span",{class:q(["inline-flex px-2 py-1 text-xs rounded-full",n.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},i(n.is_automatic?"Auto":"Manuel"),3)]),e("td",Qn,i(t.formatDateTime(n.created_at)),1),e("td",Wn,[e("button",{onClick:c=>t.viewPayoutDetails(n),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,Kn)])]))),128))])])]))])])),t.showPayoutModal?(d(),l("div",Yn,[e("div",ei,[s[34]||(s[34]=e("h3",{class:"text-lg font-bold mb-4"},"Demande de Payout",-1)),e("form",{onSubmit:s[5]||(s[5]=G((...n)=>t.submitPayoutRequest&&t.submitPayoutRequest(...n),["prevent"]))},[e("div",ti,[e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:t.getGatewayName(t.payoutForm.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,si)]),e("div",null,[s[29]||(s[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Disponible",-1)),e("input",{value:t.formatAmount(t.payoutForm.available_balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,oi)]),e("div",null,[s[30]||(s[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant à retirer (XAF)",-1)),y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=n=>t.payoutForm.amount=n),type:"number",min:1e3,max:t.payoutForm.available_balance,required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,ai),[[C,t.payoutForm.amount,void 0,{number:!0}]]),s[31]||(s[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum: 1,000 XAF",-1))]),e("div",null,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),y(e("input",{"onUpdate:modelValue":s[3]||(s[3]=n=>t.payoutForm.phone_number=n),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[C,t.payoutForm.phone_number]]),s[33]||(s[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro sans indicatif pays",-1))])]),e("div",ri,[e("button",{type:"button",onClick:s[4]||(s[4]=n=>t.showPayoutModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:t.requestingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},i(t.requestingPayout?"Demande en cours...":"Demander le Payout"),9,ni)])],32)])])):D("",!0),t.showConfigModal?(d(),l("div",ii,[e("div",li,[e("h3",di,"Configuration Auto-Payout - "+i(t.getGatewayName(t.configForm.gateway)),1),e("form",{onSubmit:s[10]||(s[10]=G((...n)=>t.saveAutoPayoutConfig&&t.saveAutoPayoutConfig(...n),["prevent"]))},[e("div",ui,[e("div",null,[e("label",pi,[y(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=n=>t.configForm.auto_payout_enabled=n),class:"rounded border-gray-300"},null,512),[[H,t.configForm.auto_payout_enabled]]),s[35]||(s[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),t.configForm.auto_payout_enabled?(d(),l("div",mi,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),y(e("input",{"onUpdate:modelValue":s[7]||(s[7]=n=>t.configForm.auto_payout_threshold=n),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[C,t.configForm.auto_payout_threshold,void 0,{number:!0}]]),s[37]||(s[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):D("",!0),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),y(e("input",{"onUpdate:modelValue":s[8]||(s[8]=n=>t.configForm.payout_phone_number=n),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[C,t.configForm.payout_phone_number]]),s[39]||(s[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts automatiques",-1))])]),e("div",ci,[e("button",{type:"button",onClick:s[9]||(s[9]=n=>t.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:t.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},i(t.savingConfig?"Enregistrement...":"Enregistrer"),9,gi)])],32)])])):D("",!0)])])}const fi=Z(Yr,[["render",bi],["__scopeId","data-v-e6c5fcd5"]]),ul=Object.freeze(Object.defineProperty({__proto__:null,default:fi},Symbol.toStringTag,{value:"Module"})),xi={class:"organizer-profile min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},vi={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},yi={key:0,class:"flex justify-center items-center h-64"},_i={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},hi={class:"bg-white rounded-primea shadow-primea p-6"},wi={class:"flex items-center justify-between mb-6"},ki=["disabled"],$i=["disabled"],Ci=["disabled"],Ai={key:0,class:"flex space-x-3 pt-4"},ji=["disabled"],Pi={class:"bg-white rounded-primea shadow-primea p-6"},zi={class:"flex items-center justify-between mb-6"},Ei=["disabled"],Si=["disabled"],Ti=["disabled"],Vi=["disabled"],Mi=["disabled"],qi={key:0,class:"flex space-x-3 pt-4"},Di=["disabled"],Fi={class:"bg-white rounded-primea shadow-primea p-6"},Ui=["disabled"],Bi={class:"bg-white rounded-primea shadow-primea p-6"},Ri={class:"space-y-4"},Oi={class:"flex items-center justify-between p-3 bg-green-50 rounded-primea"},Ni={class:"flex items-center space-x-3"},Ii={class:"text-xs text-green-600 font-primea"},Xi={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-primea"},Li={class:"flex items-center space-x-3"},Gi={class:"text-xs text-blue-600 font-primea"},Hi={class:"grid grid-cols-2 gap-4 pt-4"},Zi={class:"text-center p-3 border rounded-primea"},Ji={class:"text-2xl font-bold text-primea-blue font-primea"},Qi={class:"text-center p-3 border rounded-primea"},Wi={class:"text-2xl font-bold text-primea-yellow font-primea"},Ki={__name:"OrganizerProfile",setup(f){be();const s=j(!1),w=j(!1),t=j(!1),P=j(!1),m=j(!1),n=j(!1),c=j(null),p=j(null),T=j({events:0,tickets:0}),z=I({name:"",email:"",phone:""}),h=I({name:"",description:"",website_url:"",contact_email:"",contact_phone:""}),a=I({current_password:"",password:"",password_confirmation:""}),U=I({}),_=I({}),v=()=>{w.value||Object.assign(U,z),w.value=!w.value},o=()=>{t.value||Object.assign(_,h),t.value=!t.value},V=()=>{Object.assign(z,U),w.value=!1},u=()=>{Object.assign(h,_),t.value=!1},r=async()=>{P.value=!0;try{console.log("Mise à jour des informations personnelles:",z),await new Promise(E=>setTimeout(E,1e3)),w.value=!1}catch(E){console.error("Erreur lors de la mise à jour:",E)}finally{P.value=!1}},k=async()=>{m.value=!0;try{console.log("Mise à jour de l'organisation:",h),await new Promise(E=>setTimeout(E,1e3)),t.value=!1}catch(E){console.error("Erreur lors de la mise à jour:",E)}finally{m.value=!1}},A=async()=>{if(a.password!==a.password_confirmation){alert("Les mots de passe ne correspondent pas");return}n.value=!0;try{console.log("Changement de mot de passe"),await new Promise(E=>setTimeout(E,1e3)),Object.assign(a,{current_password:"",password:"",password_confirmation:""})}catch(E){console.error("Erreur lors du changement de mot de passe:",E)}finally{n.value=!1}},O=E=>E?new Date(E).toLocaleDateString("fr-FR"):"Non disponible",B=async()=>{s.value=!0;try{c.value={name:"Marie Nzougou",email:"marie@example.com",phone:"+225 07 12 34 56 78",email_verified_at:"2024-01-15T10:30:00Z"},p.value={name:"Mon Organisation",description:"Organisation spécialisée dans l'événementiel",website_url:"https://monorganisation.com",contact_email:"contact@monorganisation.com",contact_phone:"+225 07 12 34 56 79",verified_at:"2024-01-20T14:00:00Z"},T.value={events:12,tickets:345},Object.assign(z,{name:c.value.name,email:c.value.email,phone:c.value.phone}),Object.assign(h,{name:p.value.name,description:p.value.description,website_url:p.value.website_url,contact_email:p.value.contact_email,contact_phone:p.value.contact_phone})}catch(E){console.error("Erreur lors du chargement du profil:",E)}finally{s.value=!1}};return W(()=>{B()}),(E,g)=>(d(),l("div",xi,[e("div",vi,[g[31]||(g[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon Profil Organisateur"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez vos informations personnelles et celles de votre organisation")],-1)),s.value?(d(),l("div",yi,[...g[11]||(g[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):(d(),l("div",_i,[e("div",hi,[e("div",wi,[g[12]||(g[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Informations Personnelles",-1)),e("button",{onClick:v,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[x($(ne),{class:"w-5 h-5"})])]),e("form",{onSubmit:G(r,["prevent"]),class:"space-y-4"},[e("div",null,[g[13]||(g[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom complet",-1)),y(e("input",{"onUpdate:modelValue":g[0]||(g[0]=b=>z.name=b),type:"text",disabled:!w.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Votre nom complet"},null,8,ki),[[C,z.name]])]),e("div",null,[g[14]||(g[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email",-1)),y(e("input",{"onUpdate:modelValue":g[1]||(g[1]=b=>z.email=b),type:"email",disabled:!w.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"votre@email.com"},null,8,$i),[[C,z.email]])]),e("div",null,[g[15]||(g[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone",-1)),y(e("input",{"onUpdate:modelValue":g[2]||(g[2]=b=>z.phone=b),type:"tel",disabled:!w.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,Ci),[[C,z.phone]])]),w.value?(d(),l("div",Ai,[e("button",{type:"submit",disabled:P.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},i(P.value?"Enregistrement...":"Enregistrer"),9,ji),e("button",{type:"button",onClick:V,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):D("",!0)],32)]),e("div",Pi,[e("div",zi,[g[16]||(g[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Mon Organisation",-1)),e("button",{onClick:o,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[x($(ne),{class:"w-5 h-5"})])]),e("form",{onSubmit:G(k,["prevent"]),class:"space-y-4"},[e("div",null,[g[17]||(g[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom de l'organisation",-1)),y(e("input",{"onUpdate:modelValue":g[3]||(g[3]=b=>h.name=b),type:"text",disabled:!t.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Nom de votre organisation"},null,8,Ei),[[C,h.name]])]),e("div",null,[g[18]||(g[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":g[4]||(g[4]=b=>h.description=b),disabled:!t.value,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea resize-none",placeholder:"Décrivez votre organisation..."},null,8,Si),[[C,h.description]])]),e("div",null,[g[19]||(g[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Site web",-1)),y(e("input",{"onUpdate:modelValue":g[5]||(g[5]=b=>h.website_url=b),type:"url",disabled:!t.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"https://votresite.com"},null,8,Ti),[[C,h.website_url]])]),e("div",null,[g[20]||(g[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email de contact",-1)),y(e("input",{"onUpdate:modelValue":g[6]||(g[6]=b=>h.contact_email=b),type:"email",disabled:!t.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"contact@organisation.com"},null,8,Vi),[[C,h.contact_email]])]),e("div",null,[g[21]||(g[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone de contact",-1)),y(e("input",{"onUpdate:modelValue":g[7]||(g[7]=b=>h.contact_phone=b),type:"tel",disabled:!t.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,Mi),[[C,h.contact_phone]])]),t.value?(d(),l("div",qi,[e("button",{type:"submit",disabled:m.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},i(m.value?"Enregistrement...":"Enregistrer"),9,Di),e("button",{type:"button",onClick:u,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):D("",!0)],32)]),e("div",Fi,[g[25]||(g[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Sécurité",-1)),e("form",{onSubmit:G(A,["prevent"]),class:"space-y-4"},[e("div",null,[g[22]||(g[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Mot de passe actuel",-1)),y(e("input",{"onUpdate:modelValue":g[8]||(g[8]=b=>a.current_password=b),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Votre mot de passe actuel"},null,512),[[C,a.current_password]])]),e("div",null,[g[23]||(g[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nouveau mot de passe",-1)),y(e("input",{"onUpdate:modelValue":g[9]||(g[9]=b=>a.password=b),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nouveau mot de passe"},null,512),[[C,a.password]])]),e("div",null,[g[24]||(g[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Confirmer le mot de passe",-1)),y(e("input",{"onUpdate:modelValue":g[10]||(g[10]=b=>a.password_confirmation=b),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[C,a.password_confirmation]])]),e("button",{type:"submit",disabled:n.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},i(n.value?"Mise à jour...":"Changer le mot de passe"),9,Ui)],32)]),e("div",Bi,[g[30]||(g[30]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Statut du Compte",-1)),e("div",Ri,[e("div",Oi,[e("div",Ni,[x($(Ae),{class:"w-5 h-5 text-green-600"}),g[26]||(g[26]=e("span",{class:"text-sm font-medium text-green-800 font-primea"},"Compte vérifié",-1))]),e("span",Ii,i(O(c.value?.email_verified_at)),1)]),p.value?.verified_at?(d(),l("div",Xi,[e("div",Li,[x($(je),{class:"w-5 h-5 text-blue-600"}),g[27]||(g[27]=e("span",{class:"text-sm font-medium text-blue-800 font-primea"},"Organisation certifiée",-1))]),e("span",Gi,i(O(p.value.verified_at)),1)])):D("",!0),e("div",Hi,[e("div",Zi,[e("p",Ji,i(T.value.events||0),1),g[28]||(g[28]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements créés",-1))]),e("div",Qi,[e("p",Wi,i(T.value.tickets||0),1),g[29]||(g[29]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1))])])])])]))])]))}},Yi=Z(Ki,[["__scopeId","data-v-88f51db0"]]),pl=Object.freeze(Object.defineProperty({__proto__:null,default:Yi},Symbol.toStringTag,{value:"Module"}));export{ul as B,nl as E,rl as O,F as a,il as b,ll as c,dl as d,pl as e,al as g,ol as t};
