import{r as v,b as l,d as a,e as s,j as w,i as p,f as i,A as n,v as d,n as f,t as c,g as _,h,q as k,N as z}from"./vue-vendor-wiowK_YT.js";import{_ as V,a as C}from"./account-CYVf-4X6.js";import"./vendor-14XLBY50.js";import"./pinia-vendor-xH9DYcoO.js";const M={class:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8"},U={class:"sm:mx-auto sm:w-full sm:max-w-2xl"},X={class:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10"},q={class:"border-b border-gray-200 pb-6"},N={class:"mb-4"},j={key:0,class:"mt-1 text-sm text-red-600"},O={class:"mb-4"},I={key:0,class:"mt-1 text-sm text-red-600"},R={class:"mb-4"},A={key:0,class:"mt-1 text-sm text-red-600"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},E={key:0,class:"mt-1 text-sm text-red-600"},L={class:"pt-4"},S={class:"mb-4"},D={key:0,class:"mt-1 text-sm text-red-600"},T={class:"mb-4"},P={key:0,class:"rounded-md bg-red-50 p-4"},H={class:"flex"},J={class:"ml-3"},W={class:"text-sm text-red-800"},F=["disabled"],G={key:0,class:"flex items-center"},K={key:1},Q={class:"text-center mt-4"},Y={class:"text-sm text-gray-600"},Z={__name:"RegisterOrganizer",setup($){const x=z(),t=v({name:"",email:"",phone:"",password:"",password_confirmation:"",organization_name:"",description:"",is_organizer:!0}),o=v({}),u=v(""),b=v(!1),g=async()=>{o.value={},u.value="",b.value=!0;try{await fetch("/sanctum/csrf-cookie",{credentials:"same-origin"});const m=await fetch("/api/register",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(t.value)}),e=await m.json();if(!m.ok){m.status===422&&e.errors?(o.value=e.errors,u.value=Object.values(e.errors)[0][0]):u.value=e.message||"Une erreur est survenue lors de l'inscription",b.value=!1;return}e.token&&C.saveAuth(e.token,e.user),x.push({name:"organizer-dashboard",query:{message:"Inscription réussie ! Veuillez vérifier votre email pour confirmer votre compte."}})}catch(m){console.error("Erreur lors de l'inscription:",m),u.value="Une erreur est survenue. Veuillez réessayer.",b.value=!1}};return(m,e)=>{const y=k("router-link");return a(),l("div",M,[s("div",U,[e[21]||(e[21]=s("div",{class:"text-center mb-8"},[s("h2",{class:"text-3xl font-extrabold text-blue-950"}," Inscription Organisateur "),s("p",{class:"mt-2 text-sm text-gray-600"}," Créez votre compte pour organiser et gérer vos événements ")],-1)),s("div",X,[s("form",{onSubmit:w(g,["prevent"]),class:"space-y-6"},[s("div",q,[e[12]||(e[12]=s("h3",{class:"text-lg font-medium text-blue-950 mb-4"}," Informations Personnelles ",-1)),s("div",N,[e[7]||(e[7]=s("label",{for:"name",class:"block text-sm font-medium text-gray-700"},[n(" Nom complet "),s("span",{class:"text-red-500"},"*")],-1)),i(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>t.value.name=r),type:"text",required:"",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":o.value.name}])},null,2),[[d,t.value.name]]),o.value.name?(a(),l("p",j,c(o.value.name),1)):p("",!0)]),s("div",O,[e[8]||(e[8]=s("label",{for:"email",class:"block text-sm font-medium text-gray-700"}," Adresse email ",-1)),i(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=r=>t.value.email=r),type:"email",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":o.value.email}])},null,2),[[d,t.value.email]]),o.value.email?(a(),l("p",I,c(o.value.email),1)):p("",!0)]),s("div",R,[e[9]||(e[9]=s("label",{for:"phone",class:"block text-sm font-medium text-gray-700"},[n(" Numéro de téléphone "),s("span",{class:"text-red-500"},"*")],-1)),i(s("input",{id:"phone","onUpdate:modelValue":e[2]||(e[2]=r=>t.value.phone=r),type:"tel",required:"",placeholder:"Ex: 6XXXXXXXX",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":o.value.phone}])},null,2),[[d,t.value.phone]]),o.value.phone?(a(),l("p",A,c(o.value.phone),1)):p("",!0)]),s("div",B,[s("div",null,[e[10]||(e[10]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700"},[n(" Mot de passe "),s("span",{class:"text-red-500"},"*")],-1)),i(s("input",{id:"password","onUpdate:modelValue":e[3]||(e[3]=r=>t.value.password=r),type:"password",required:"",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":o.value.password}])},null,2),[[d,t.value.password]]),o.value.password?(a(),l("p",E,c(o.value.password),1)):p("",!0)]),s("div",null,[e[11]||(e[11]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700"},[n(" Confirmer mot de passe "),s("span",{class:"text-red-500"},"*")],-1)),i(s("input",{id:"password_confirmation","onUpdate:modelValue":e[4]||(e[4]=r=>t.value.password_confirmation=r),type:"password",required:"",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950"},null,512),[[d,t.value.password_confirmation]])])])]),s("div",L,[e[16]||(e[16]=s("h3",{class:"text-lg font-medium text-blue-950 mb-4"}," Informations de l'Organisation ",-1)),s("div",S,[e[13]||(e[13]=s("label",{for:"organization_name",class:"block text-sm font-medium text-gray-700"},[n(" Nom de l'organisation "),s("span",{class:"text-red-500"},"*")],-1)),i(s("input",{id:"organization_name","onUpdate:modelValue":e[5]||(e[5]=r=>t.value.organization_name=r),type:"text",required:"",placeholder:"Ex: Ma Compagnie, Mon Entreprise, etc.",class:f(["mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",{"border-red-500":o.value.organization_name}])},null,2),[[d,t.value.organization_name]]),o.value.organization_name?(a(),l("p",D,c(o.value.organization_name),1)):p("",!0),e[14]||(e[14]=s("p",{class:"mt-1 text-xs text-gray-500"}," Ce nom sera affiché sur vos événements ",-1))]),s("div",T,[e[15]||(e[15]=s("label",{for:"description",class:"block text-sm font-medium text-gray-700"}," Description de l'organisation (optionnel) ",-1)),i(s("textarea",{id:"description","onUpdate:modelValue":e[6]||(e[6]=r=>t.value.description=r),rows:"3",class:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-950 focus:border-blue-950",placeholder:"Présentez brièvement votre organisation..."},null,512),[[d,t.value.description]])])]),u.value?(a(),l("div",P,[s("div",H,[e[17]||(e[17]=s("div",{class:"flex-shrink-0"},[s("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[s("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),s("div",J,[s("p",W,c(u.value),1)])])])):p("",!0),s("div",null,[s("button",{type:"submit",disabled:b.value,class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-950 hover:bg-blue-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-950 disabled:opacity-50 disabled:cursor-not-allowed"},[b.value?(a(),l("span",G,[...e[18]||(e[18]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),n(" Inscription en cours... ",-1)])])):(a(),l("span",K,"Créer mon compte organisateur"))],8,F)]),s("div",Q,[s("p",Y,[e[20]||(e[20]=n(" Vous avez déjà un compte ? ",-1)),_(y,{to:"/login",class:"font-medium text-blue-950 hover:text-yellow-500"},{default:h(()=>[...e[19]||(e[19]=[n(" Se connecter ",-1)])]),_:1})])])],32)])])])}}},re=V(Z,[["__scopeId","data-v-40aba0dc"]]);export{re as default};
