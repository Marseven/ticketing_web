import{b as C,Y as Q,d as ee,Z as re,j as l,o as d,k as e,t as u,a1 as k,l as b,a2 as me,a3 as ke,g as de,O as ve,w as K,a4 as oe,a as ie,y as xe,N as $e,e as Ce,a5 as Ee,G as O,H as X,q as N,p as B,n as I,D as _,E,F as ne,P as je,X as Ae,_ as Se,J as ce,K as ye,a6 as be,R as fe,T as _e,a7 as Pe,L as Ve,a8 as ze,u as he,W as se,a9 as pe,$ as ue,C as De,S as Te}from"./vue-vendor-CDZB1Wme.js";import{_ as ae,u as we}from"./account-SYOFlVBk.js";import{a as le,S as U}from"./vendor-BvANJOFB.js";const R=le.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json",Accept:"application/json"}});R.interceptors.request.use(async v=>{const o=localStorage.getItem("auth_token")||localStorage.getItem("token");o&&(v.headers.Authorization=`Bearer ${o}`);const j=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");return j&&(v.headers["X-CSRF-TOKEN"]=j),v.headers["X-Requested-With"]="XMLHttpRequest",v},v=>Promise.reject(v));R.interceptors.response.use(v=>v,v=>(v.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(v)));const Xl={getTicket(v){return R.get(`/tickets/${v}`)},retrieveTickets(v){return R.get(`/tickets/retrieve/${v}`)},validateTicket(v,o="validate"){return R.post("/tickets/validate",{qr_code:v,action:o})},searchTickets(v){const{reference:o,phone:j,email:r}=v;return o?this.getTicket(o):r||j?new Promise((A,c)=>{setTimeout(()=>{r?.includes("test")||j?.includes("123")||o?.includes("TKT")?A({data:{tickets:[{id:1,code:"TKT-2024-ABC123",status:"issued",event:{id:1,title:"L'OISEAU RARE",slug:"oiseau-rare",image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",venue_name:"Entre Nous Bar"},ticket_type:{id:1,name:"Standard",description:"Accès standard"},buyer:{name:"John Doe",email:r||"john@example.com"},issued_at:"27/07/2025 10:00:00",used_at:null,schedule:{starts_at:"27/07/2025 20:00:00",ends_at:"27/07/2025 23:00:00",door_time:"27/07/2025 19:30:00"}}]}}):c(new Error("Aucun ticket trouvé avec ces informations"))},1500)}):Promise.reject(new Error("Veuillez fournir au moins un critère de recherche"))}},Ll={createGuestOrder(v){return le.post("/api/guest/orders",v,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestOrder(v){return le.get(`/api/guest/orders/${v}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestTicket(v){return le.get(`/api/guest/tickets/${v}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},retrieveGuestTickets(v){return le.get(`/api/guest/tickets/retrieve/${encodeURIComponent(v)}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})}},H={getDashboardStats(){return R.get("/organizer/dashboard/stats")},getRecentEvents(){return R.get("/organizer/events/recent")},getNotifications(){return R.get("/organizer/notifications")},getEvents(v={}){return R.get("/organizer/events",{params:v})},createEvent(v){return R.post("/organizer/events",v)},updateEvent(v,o){return R.put(`/organizer/events/${v}`,o)},getEvent(v){return R.get(`/organizer/events/${v}`)},getEventStats(v){return R.get(`/organizer/events/${v}/stats`)},getBalance(){return R.get("/organizer/balance")},getPaymentHistory(){return R.get("/organizer/payments")},getProfile(){return R.get("/organizer/profile")},updateProfile(v){return R.put("/organizer/profile",v)},uploadAvatar(v){return R.post("/organizer/profile/avatar",v,{headers:{"Content-Type":"multipart/form-data"}})},getCategories(){return R.get("/categories")},getVenues(){return R.get("/venues")}},Ie={class:"organizer-dashboard min-h-screen"},Ue={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Be={class:"mb-8"},Fe={class:"flex items-center justify-between"},Me={class:"flex items-center space-x-4"},qe={class:"text-right"},Re={class:"text-sm font-semibold text-primea-blue font-primea"},Oe={key:0,class:"w-12 h-12 rounded-full overflow-hidden"},Ne=["src","alt"],Xe={key:1,class:"w-12 h-12 bg-primea-blue text-white rounded-full flex items-center justify-center"},Le={class:"text-lg font-bold font-primea"},Ge={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},He={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-blue"},We={class:"flex items-center"},Ke={class:"p-2 bg-primea-blue/10 rounded-lg"},Je={class:"ml-4"},Qe={class:"text-2xl font-bold text-primea-blue font-primea"},Ze={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-green-500"},Ye={class:"flex items-center"},et={class:"p-2 bg-green-100 rounded-lg"},tt={class:"ml-4"},st={class:"text-2xl font-bold text-green-600 font-primea"},ot={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-yellow"},rt={class:"flex items-center"},at={class:"p-2 bg-primea-yellow/10 rounded-lg"},nt={class:"ml-4"},it={class:"text-2xl font-bold text-primea-yellow font-primea"},lt={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-purple-500"},dt={class:"flex items-center"},ut={class:"p-2 bg-purple-100 rounded-lg"},mt={class:"ml-4"},pt={class:"text-2xl font-bold text-purple-600 font-primea"},ct={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},gt={class:"lg:col-span-2"},ft={class:"bg-white rounded-primea shadow-primea p-6"},bt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vt={class:"bg-white rounded-primea shadow-primea p-6"},xt={class:"space-y-4"},yt={key:0,class:"text-center text-gray-500 py-8"},_t={class:"text-sm font-medium font-primea"},ht={class:"text-xs text-gray-600 mt-1"},wt={class:"text-xs text-gray-400 mt-2"},kt={class:"bg-white rounded-primea shadow-primea overflow-hidden"},$t={class:"p-6 border-b border-gray-200"},Ct={class:"flex items-center justify-between"},Et={key:0,class:"p-8 text-center text-gray-500"},jt={key:1,class:"overflow-x-auto"},At={class:"w-full"},St={class:"divide-y divide-gray-200"},Pt={class:"px-6 py-4"},Vt={class:"text-sm font-medium text-gray-900 font-primea"},zt={class:"text-sm text-gray-500"},Dt={class:"px-6 py-4 text-sm text-gray-900 font-primea"},Tt={class:"px-6 py-4"},It={class:"px-6 py-4 text-sm text-gray-900 font-primea"},Ut={class:"px-6 py-4 text-sm"},Bt={__name:"OrganizerDashboard",setup(v){const o=we(),j=C(!1),r=Q({total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),A=C([]),c=C([]),i=ee(()=>{const S=o.user;return S?.name?S.name.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):"U"}),$=ee(()=>o.user?.avatar_url||null),a=async()=>{j.value=!0;try{const[S,f,q]=await Promise.all([H.getDashboardStats(),H.getRecentEvents(),H.getNotifications()]);Object.assign(r,S.data.data||{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),A.value=f.data.data||[],c.value=q.data.data||[]}catch(S){console.error("Erreur lors du chargement du dashboard:",S),Object.assign(r,{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),A.value=[],c.value=[]}finally{j.value=!1}},P=S=>new Intl.NumberFormat("fr-FR").format(S),D=S=>new Date(S).toLocaleDateString("fr-FR"),p=S=>new Date(S).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=S=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[S]||S,W=S=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[S]||"bg-gray-100 text-gray-800",L=S=>({success:"border-green-500",warning:"border-yellow-500",error:"border-red-500",info:"border-blue-500"})[S]||"border-gray-300";return re(()=>{a()}),(S,f)=>{const q=ie("router-link");return d(),l("div",Ie,[e("div",Ue,[e("div",Be,[e("div",Fe,[f[1]||(f[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea mb-2"},"Tableau de Bord Organisateur"),e("p",{class:"text-gray-600 font-primea"},"Bienvenue dans votre espace de gestion d'événements")],-1)),e("div",Me,[e("div",qe,[f[0]||(f[0]=e("p",{class:"text-sm text-gray-500 font-primea"},"Dernière connexion",-1)),e("p",Re,u(D(new Date)),1)]),$.value?(d(),l("div",Oe,[e("img",{src:$.value,alt:k(o).user?.name,class:"w-full h-full object-cover"},null,8,Ne)])):(d(),l("div",Xe,[e("span",Le,u(i.value),1)]))])])]),e("div",Ge,[e("div",He,[e("div",We,[e("div",Ke,[b(k(me),{class:"w-6 h-6 text-primea-blue"})]),e("div",Je,[f[2]||(f[2]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Total",-1)),e("p",Qe,u(r.total_events),1)])])]),e("div",Ze,[e("div",Ye,[e("div",et,[b(k(ke),{class:"w-6 h-6 text-green-600"})]),e("div",tt,[f[3]||(f[3]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Actifs",-1)),e("p",st,u(r.active_events),1)])])]),e("div",ot,[e("div",rt,[e("div",at,[b(k(de),{class:"w-6 h-6 text-primea-yellow"})]),e("div",nt,[f[4]||(f[4]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets Vendus",-1)),e("p",it,u(r.tickets_sold),1)])])]),e("div",lt,[e("div",dt,[e("div",ut,[b(k(ve),{class:"w-6 h-6 text-purple-600"})]),e("div",mt,[f[5]||(f[5]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",pt,u(P(r.total_revenue))+" XAF",1)])])])]),e("div",ct,[e("div",gt,[e("div",ft,[f[10]||(f[10]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Actions Rapides",-1)),e("div",bt,[b(q,{to:{name:"organizer-event-create"},class:"flex items-center p-4 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:K(()=>[b(k(oe),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[6]||(f[6]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Créer un Événement"),e("p",{class:"text-sm opacity-90"},"Nouveau projet d'événement")],-1))]),_:1}),b(q,{to:{name:"organizer-events"},class:"flex items-center p-4 border-2 border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 group"},{default:K(()=>[b(k(xe),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[7]||(f[7]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-white"},"Gérer les Événements"),e("p",{class:"text-sm opacity-70 group-hover:text-white group-hover:opacity-90"},"Voir et modifier")],-1))]),_:1}),b(q,{to:{name:"organizer-balance"},class:"flex items-center p-4 border-2 border-primea-yellow text-primea-yellow rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:K(()=>[b(k($e),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[8]||(f[8]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-primea-blue"},"Gestion Financière"),e("p",{class:"text-sm opacity-70 group-hover:text-primea-blue group-hover:opacity-90"},"Soldes et payouts")],-1))]),_:1}),b(q,{to:{name:"organizer-profile"},class:"flex items-center p-4 border-2 border-gray-400 text-gray-600 rounded-primea hover:bg-gray-400 hover:text-white transition-all duration-200 group"},{default:K(()=>[b(k(Ce),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[9]||(f[9]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Mon Profil"),e("p",{class:"text-sm opacity-70"},"Informations personnelles")],-1))]),_:1})])])]),e("div",vt,[f[12]||(f[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Notifications",-1)),e("div",xt,[c.value.length===0?(d(),l("div",yt,[b(k(Ee),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),f[11]||(f[11]=e("p",{class:"font-primea"},"Aucune notification",-1))])):(d(!0),l(O,{key:1},X(c.value,T=>(d(),l("div",{key:T.id,class:N(["p-3 bg-gray-50 rounded-primea border-l-4",L(T.type)])},[e("p",_t,u(T.title),1),e("p",ht,u(T.message),1),e("p",wt,u(p(T.created_at)),1)],2))),128))])])]),e("div",kt,[e("div",$t,[e("div",Ct,[f[14]||(f[14]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Événements Récents",-1)),b(q,{to:{name:"organizer-events"},class:"text-primea-blue hover:text-primea-yellow transition-colors font-primea text-sm"},{default:K(()=>[...f[13]||(f[13]=[B(" Voir tous ",-1)])]),_:1})])]),A.value.length===0?(d(),l("div",Et,[b(k(me),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f[16]||(f[16]=e("p",{class:"font-primea text-lg"},"Aucun événement créé",-1)),f[17]||(f[17]=e("p",{class:"font-primea text-sm mt-2"},"Commencez par créer votre premier événement",-1)),b(q,{to:{name:"organizer-event-create"},class:"inline-flex items-center mt-4 px-4 py-2 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:K(()=>[b(k(oe),{class:"w-4 h-4 mr-2"}),f[15]||(f[15]=B(" Créer un événement ",-1))]),_:1})])):(d(),l("div",jt,[e("table",At,[f[19]||(f[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Actions")])],-1)),e("tbody",St,[(d(!0),l(O,null,X(A.value,T=>(d(),l("tr",{key:T.id,class:"hover:bg-gray-50"},[e("td",Pt,[e("div",null,[e("p",Vt,u(T.title),1),e("p",zt,u(T.venue_name),1)])]),e("td",Dt,u(D(T.event_date)),1),e("td",Tt,[e("span",{class:N(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",W(T.status)])},u(F(T.status)),3)]),e("td",It,u(T.tickets_sold||0),1),e("td",Ut,[b(q,{to:{name:"organizer-event-detail",params:{slug:T.slug}},class:"text-primea-blue hover:text-primea-yellow font-primea"},{default:K(()=>[...f[18]||(f[18]=[B(" Gérer ",-1)])]),_:1},8,["to"])])]))),128))])])]))])])])}}},Ft=ae(Bt,[["__scopeId","data-v-1685f411"]]),Gl=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),Mt={name:"OrganizerEvents",components:{PlusIcon:oe},setup(){const v=ce(),o=C(""),j=C(""),r=C("grid"),A=C(!1),c=C([]),i=Q({current:1,total:1,perPage:15}),$=async()=>{A.value=!0;try{const V=(await H.getEvents({page:i.current,status:j.value,search:o.value})).data.data.events;c.value=V.data.map(g=>({...g,tickets_sold:g.tickets?.filter(t=>["issued","used"].includes(t.status)).length||0,total_tickets:g.ticket_types?.reduce((t,s)=>t+s.capacity,0)||0,revenue:g.tickets?.filter(t=>["issued","used"].includes(t.status)).reduce((t,s)=>t+(s.ticket_type?.price||0),0)||0,venue:g.venue?.name||"",date:g.event_date||g.schedules?.[0]?.starts_at,isFavorite:!1})),i.current=V.current_page,i.total=V.last_page,i.perPage=V.per_page}catch(x){console.error("Erreur chargement événements:",x),U.fire({icon:"error",title:"Erreur",text:"Impossible de charger les événements"})}finally{A.value=!1}},a=ee(()=>{let x=[...c.value];if(o.value){const V=o.value.toLowerCase();x=x.filter(g=>g.title.toLowerCase().includes(V)||g.venue.toLowerCase().includes(V))}return j.value&&(x=x.filter(V=>V.status===j.value)),x}),P=ee(()=>{const x=c.value.filter(s=>s.is_active&&s.status!=="cancelled").length,V=c.value.filter(s=>!s.is_active).length,g=c.value.reduce((s,m)=>s+(m.tickets_sold||0),0),t=c.value.reduce((s,m)=>s+(m.revenue||0),0);return{published:x,draft:V,totalTicketsSold:g,totalRevenue:t}}),D=x=>new Intl.NumberFormat("fr-FR").format(x),p=(x,V="full")=>{const g=new Date(x);return V==="short"?g.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):g.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},F=x=>x.is_active?x.status==="cancelled"?"bg-red-100 text-red-800":new Date(x.date)<new Date?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",W=x=>x.is_active?x.status==="cancelled"?"Annulé":new Date(x.date)<new Date?"Terminé":"Actif":"Brouillon",L=x=>{x.isFavorite=!x.isFavorite},S=async x=>{try{const V={title:`${x.title} (Copie)`,description:x.description,event_date:x.date,venue_id:x.venue_id,category_id:x.category_id,is_active:!1};await H.createEvent(V),await $(),U.fire({icon:"success",title:"Succès",text:"Événement dupliqué avec succès"})}catch{U.fire({icon:"error",title:"Erreur",text:"Impossible de dupliquer l'événement"})}},f=x=>{v.push({name:"organizer-event-edit",params:{slug:x.slug}})},q=async x=>{if((await U.fire({title:"Êtes-vous sûr ?",text:`Voulez-vous vraiment supprimer l'événement "${x.title}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{await $(),U.fire("Supprimé !","L'événement a été supprimé.","success")}catch{U.fire({icon:"error",title:"Erreur",text:"Impossible de supprimer l'événement"})}};Se([o,j],()=>{i.current=1,$()},{debounce:300});const T=x=>{i.current=x,$()},J=(x,V="400")=>{const g=x.image_url||x.image;return g?g.startsWith("http")||g.startsWith("/")?g:`/storage/events/${g}`:`https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=${V}&h=${V}&fit=crop&crop=center`},Z=x=>{console.log("Erreur de chargement d'image:",x.target.src),x.target.src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center"},Y=x=>{console.log("Image chargée avec succès:",x.target.src)};return re(()=>{$()}),{searchQuery:o,statusFilter:j,viewMode:r,loading:A,events:c,filteredEvents:a,stats:P,pagination:i,formatPrice:D,formatEventDate:p,getStatusClass:F,getStatusText:W,toggleFavorite:L,duplicateEvent:S,editEvent:f,deleteEvent:q,loadEvents:$,changePage:T,getEventImageUrl:J,handleImageError:Z,handleImageLoad:Y}}},qt={class:"organizer-events min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Rt={class:"bg-white shadow-sm border-b border-gray-200"},Ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Nt={class:"flex items-center justify-between"},Xt={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},Lt={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Gt={class:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6"},Ht={class:"flex items-center space-x-4"},Wt={class:"relative"},Kt={class:"flex items-center space-x-4"},Jt={class:"text-sm text-gray-600"},Qt={class:"flex bg-gray-100 rounded-lg p-1"},Zt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Yt={class:"text-center"},es={class:"text-2xl font-bold text-blue-600"},ts={class:"text-center"},ss={class:"text-2xl font-bold text-yellow-600"},os={class:"text-center"},rs={class:"text-2xl font-bold text-green-600"},as={class:"text-center"},ns={class:"text-2xl font-bold text-purple-600"},is={key:0},ls={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ds={class:"relative"},us=["src","alt"],ms={class:"absolute top-4 left-4"},ps={class:"absolute top-4 right-4"},cs=["onClick"],gs={class:"p-6"},fs={class:"text-lg font-bold text-gray-800 mb-2"},bs={class:"text-gray-600 text-sm mb-4"},vs={class:"flex items-center justify-between mb-4"},xs={class:"text-sm text-gray-600 font-primea"},ys={class:"font-medium font-primea"},_s={class:"text-sm font-bold text-green-600 font-primea"},hs={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},ws={class:"flex space-x-2"},ks=["onClick"],$s={key:1,class:"bg-white rounded-lg shadow-md overflow-hidden"},Cs={class:"w-full"},Es={class:"bg-white divide-y divide-gray-200"},js={class:"px-6 py-4 whitespace-nowrap"},As={class:"flex items-center"},Ss=["src","alt"],Ps={class:"text-sm font-medium text-gray-900"},Vs={class:"text-sm text-gray-500"},zs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},Ds={class:"px-6 py-4 whitespace-nowrap"},Ts={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},Is={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 font-primea"},Us={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},Bs=["onClick"],Fs=["onClick"],Ms={key:1,class:"text-center py-16"},qs={class:"text-gray-600 mb-6"},Rs={key:0},Os={key:1},Ns={key:2,class:"mt-8 flex justify-center"},Xs={class:"flex items-center space-x-2"},Ls=["disabled"],Gs=["onClick"],Hs={key:1,class:"px-2 text-gray-500"},Ws=["disabled"];function Ks(v,o,j,r,A,c){const i=ie("PlusIcon"),$=ie("router-link");return d(),l("div",qt,[e("div",Rt,[e("div",Ot,[e("div",Nt,[o[11]||(o[11]=e("div",null,[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mes Événements"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez tous vos événements en un seul endroit")],-1)),b($,{to:{name:"organizer-event-create"},class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 shadow-primea"},{default:K(()=>[b(i,{class:"w-4 h-4 inline mr-2"}),o[10]||(o[10]=B(" Nouvel événement ",-1))]),_:1})])])]),e("div",Xt,[e("div",Lt,[e("div",Gt,[e("div",Ht,[e("div",Wt,[o[12]||(o[12]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),_(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=a=>r.searchQuery=a),placeholder:"Rechercher un événement...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[E,r.searchQuery]])]),_(e("select",{"onUpdate:modelValue":o[1]||(o[1]=a=>r.statusFilter=a),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...o[13]||(o[13]=[je('<option value="" data-v-e3f12453>Tous les statuts</option><option value="draft" data-v-e3f12453>Brouillons</option><option value="published" data-v-e3f12453>Publiés</option><option value="completed" data-v-e3f12453>Terminés</option><option value="cancelled" data-v-e3f12453>Annulés</option>',5)])],512),[[ne,r.statusFilter]])]),e("div",Kt,[e("div",Jt,u(r.filteredEvents.length)+" événement"+u(r.filteredEvents.length>1?"s":""),1),e("div",Qt,[e("button",{onClick:o[2]||(o[2]=a=>r.viewMode="grid"),class:N(["px-3 py-2 rounded-lg transition-colors",r.viewMode==="grid"?"bg-white shadow-sm":""])},[...o[14]||(o[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:o[3]||(o[3]=a=>r.viewMode="list"),class:N(["px-3 py-2 rounded-lg transition-colors",r.viewMode==="list"?"bg-white shadow-sm":""])},[...o[15]||(o[15]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])])]),e("div",Zt,[e("div",Yt,[e("p",es,u(r.stats.published),1),o[16]||(o[16]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1))]),e("div",ts,[e("p",ss,u(r.stats.draft),1),o[17]||(o[17]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1))]),e("div",os,[e("p",rs,u(r.stats.totalTicketsSold),1),o[18]||(o[18]=e("p",{class:"text-sm text-gray-600"},"Tickets vendus",-1))]),e("div",as,[e("p",ns,u(r.formatPrice(r.stats.totalRevenue))+" XAF",1),o[19]||(o[19]=e("p",{class:"text-sm text-gray-600"},"Revenus",-1))])])]),r.filteredEvents.length>0?(d(),l("div",is,[r.viewMode==="grid"?(d(),l("div",ls,[(d(!0),l(O,null,X(r.filteredEvents,a=>(d(),l("div",{key:a.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",ds,[e("img",{src:r.getEventImageUrl(a),alt:a.title,class:"w-full h-48 object-cover",onError:o[4]||(o[4]=(...P)=>r.handleImageError&&r.handleImageError(...P)),onLoad:o[5]||(o[5]=(...P)=>r.handleImageLoad&&r.handleImageLoad(...P))},null,40,us),e("div",ms,[e("span",{class:N(["px-3 py-1 rounded-full text-xs font-semibold",r.getStatusClass(a.status)])},u(r.getStatusText(a.status)),3)]),e("div",ps,[e("button",{onClick:P=>r.toggleFavorite(a),class:"bg-white/90 p-2 rounded-full hover:bg-white transition-colors"},[(d(),l("svg",{class:N(["w-4 h-4",a.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...o[20]||(o[20]=[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])],2))],8,cs)])]),e("div",gs,[e("h3",fs,u(a.title),1),e("p",bs,u(r.formatEventDate(a.date)),1),e("div",vs,[e("div",xs,[e("span",ys,u(a.tickets_sold||0),1),B(" / "+u(a.total_tickets||0)+" tickets vendus ",1)]),e("div",_s,u(r.formatPrice(a.revenue||0))+" XAF ",1)]),e("div",hs,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Ae({width:`${Math.min((a.ticketsSold||0)/(a.totalTickets||100)*100,100)}%`})},null,4)]),e("div",ws,[b($,{to:{name:"organizer-event-detail",params:{slug:a.slug}},class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors"},{default:K(()=>[...o[21]||(o[21]=[B(" Voir détails ",-1)])]),_:1},8,["to"]),e("button",{onClick:P=>r.duplicateEvent(a),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"}," Dupliquer ",8,ks)])])]))),128))])):(d(),l("div",$s,[e("table",Cs,[o[23]||(o[23]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ventes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Revenus"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Es,[(d(!0),l(O,null,X(r.filteredEvents,a=>(d(),l("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",js,[e("div",As,[e("img",{src:r.getEventImageUrl(a,"60"),alt:a.title,class:"w-12 h-12 object-cover rounded-lg mr-4",onError:o[6]||(o[6]=(...P)=>r.handleImageError&&r.handleImageError(...P)),onLoad:o[7]||(o[7]=(...P)=>r.handleImageLoad&&r.handleImageLoad(...P))},null,40,Ss),e("div",null,[e("div",Ps,u(a.title),1),e("div",Vs,u(a.venue),1)])])]),e("td",zs,u(r.formatEventDate(a.date,"short")),1),e("td",Ds,[e("span",{class:N(["px-2 py-1 rounded-full text-xs font-medium font-primea",r.getStatusClass(a)])},u(r.getStatusText(a)),3)]),e("td",Ts,u(a.tickets_sold||0)+" / "+u(a.total_tickets||0),1),e("td",Is,u(r.formatPrice(a.revenue||0))+" XAF ",1),e("td",Us,[b($,{to:{name:"organizer-event-detail",params:{slug:a.slug}},class:"text-blue-600 hover:text-blue-900"},{default:K(()=>[...o[22]||(o[22]=[B(" Voir ",-1)])]),_:1},8,["to"]),e("button",{onClick:P=>r.editEvent(a),class:"text-yellow-600 hover:text-yellow-900"}," Modifier ",8,Bs),e("button",{onClick:P=>r.deleteEvent(a),class:"text-red-600 hover:text-red-900"}," Supprimer ",8,Fs)])]))),128))])])]))])):(d(),l("div",Ms,[o[25]||(o[25]=e("div",{class:"inline-block p-6 bg-gray-100 rounded-full mb-6"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),o[26]||(o[26]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Aucun événement trouvé",-1)),e("p",qs,[r.searchQuery||r.statusFilter?(d(),l("span",Rs," Aucun événement ne correspond à vos critères de recherche. ")):(d(),l("span",Os," Commencez par créer votre premier événement ! "))]),b($,{to:"/organizer/events/create",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-block"},{default:K(()=>[...o[24]||(o[24]=[B(" + Créer mon premier événement ",-1)])]),_:1})])),r.events.length>0&&r.pagination.total>1?(d(),l("div",Ns,[e("nav",Xs,[e("button",{onClick:o[8]||(o[8]=a=>r.changePage(r.pagination.current-1)),disabled:r.pagination.current===1,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Précédent ",8,Ls),(d(!0),l(O,null,X(r.pagination.total,a=>(d(),l(O,{key:a},[a===1||a===r.pagination.total||a>=r.pagination.current-1&&a<=r.pagination.current+1?(d(),l("button",{key:0,onClick:P=>r.changePage(a),class:N(["px-3 py-2 text-sm font-medium rounded-lg font-primea",a===r.pagination.current?"bg-primea-blue text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"])},u(a),11,Gs)):a===r.pagination.current-2||a===r.pagination.current+2?(d(),l("span",Hs," ... ")):I("",!0)],64))),128)),e("button",{onClick:o[9]||(o[9]=a=>r.changePage(r.pagination.current+1)),disabled:r.pagination.current===r.pagination.total,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Suivant ",8,Ws)])])):I("",!0)])])}const Js=ae(Mt,[["render",Ks],["__scopeId","data-v-e3f12453"]]),Hl=Object.freeze(Object.defineProperty({__proto__:null,default:Js},Symbol.toStringTag,{value:"Module"})),Qs={class:"event-detail min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Zs={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ys={key:0,class:"flex justify-center items-center h-64"},eo={key:1,class:"text-center py-16"},to={class:"mb-4"},so={class:"text-gray-600 mb-6"},oo={key:2},ro={class:"mb-8"},ao={class:"flex items-center justify-between"},no={class:"flex items-center space-x-4"},io={class:"text-3xl font-bold text-primea-blue font-primea"},lo={class:"flex items-center space-x-3"},uo={class:"flex space-x-2"},mo={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},po={class:"bg-white rounded-primea shadow-primea p-6"},co={class:"flex items-center"},go={class:"p-2 bg-blue-100 rounded-lg"},fo={class:"ml-4"},bo={class:"text-2xl font-bold text-blue-600 font-primea"},vo={class:"bg-white rounded-primea shadow-primea p-6"},xo={class:"flex items-center"},yo={class:"p-2 bg-green-100 rounded-lg"},_o={class:"ml-4"},ho={class:"text-2xl font-bold text-green-600 font-primea"},wo={class:"bg-white rounded-primea shadow-primea p-6"},ko={class:"flex items-center"},$o={class:"p-2 bg-yellow-100 rounded-lg"},Co={class:"ml-4"},Eo={class:"text-2xl font-bold text-yellow-600 font-primea"},jo={class:"bg-white rounded-primea shadow-primea p-6"},Ao={class:"flex items-center"},So={class:"p-2 bg-purple-100 rounded-lg"},Po={class:"ml-4"},Vo={class:"text-lg font-bold text-purple-600 font-primea"},zo={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Do={class:"lg:col-span-2 space-y-6"},To={class:"bg-white rounded-primea shadow-primea p-6"},Io={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Uo={class:"mt-1 text-gray-900 font-primea"},Bo={class:"mt-1 text-gray-900 font-primea"},Fo={class:"mt-1 text-gray-900 font-primea"},Mo={class:"md:col-span-2"},qo={class:"mt-1 text-gray-900 font-primea leading-relaxed"},Ro={class:"bg-white rounded-primea shadow-primea p-6"},Oo={key:0,class:"space-y-4"},No={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Xo={class:"mt-1 text-gray-900 font-primea"},Lo={class:"mt-1 text-gray-900 font-primea"},Go={class:"mt-1 text-gray-900 font-primea"},Ho={key:1,class:"text-center py-8 text-gray-500"},Wo={class:"bg-white rounded-primea shadow-primea p-6"},Ko={key:0,class:"space-y-4"},Jo={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-start"},Qo={class:"md:col-span-2"},Zo={class:"flex items-center justify-between mb-2"},Yo={class:"font-semibold text-gray-900 font-primea"},er={class:"text-gray-600 text-sm font-primea"},tr={class:"text-center"},sr={class:"text-lg font-bold text-primea-blue font-primea"},or={class:"text-center"},rr={class:"text-sm font-primea"},ar={class:"font-medium text-gray-900"},nr={class:"font-medium text-gray-900"},ir={class:"text-xs text-gray-500 mt-1"},lr={key:1,class:"text-center py-8 text-gray-500"},dr={class:"bg-white rounded-primea shadow-primea p-6"},ur={key:0,class:"overflow-x-auto"},mr={class:"w-full"},pr={class:"divide-y divide-gray-200"},cr={class:"px-4 py-3 text-sm text-gray-900 font-primea"},gr={class:"px-4 py-3 text-sm text-gray-900 font-primea"},fr={class:"px-4 py-3 text-sm font-medium text-gray-900 font-primea"},br={class:"px-4 py-3 text-sm text-gray-500 font-primea"},vr={key:1,class:"text-center py-8 text-gray-500"},xr={class:"space-y-6"},yr={class:"bg-white rounded-primea shadow-primea p-6"},_r={class:"space-y-3"},hr={key:0,class:"bg-white rounded-primea shadow-primea p-6"},wr=["src","alt"],kr={class:"bg-white rounded-primea shadow-primea p-6"},$r={class:"space-y-3"},Cr={class:"flex items-center justify-between"},Er={class:"flex items-center justify-between"},jr={class:"flex items-center justify-between"},Ar={class:"text-sm text-gray-600 font-primea"},Sr={__name:"EventDetail",setup(v){const o=he(),j=ce(),r=C(!0),A=C(null),c=C(null),i=C([]),$=async()=>{r.value=!0,A.value=null;try{let t=o.params.slug,s;if(/^\d+$/.test(t))s=(await H.getEvent(t)).data.data;else try{const y=await H.getEvents();if(s=(y.data.data.events.data||y.data.data.events).find(ge=>ge.slug===t),!s)throw new Error(`Événement avec le slug "${t}" non trouvé`)}catch{throw new Error(`Événement avec le slug "${t}" non trouvé`)}if(!s)throw new Error("Événement introuvable");c.value={...s,venue_name:s.venue?.name||"Lieu non spécifié",venue_address:s.venue?.address||"",category_name:s.category?.name||"Non spécifiée",tickets_sold:s.tickets?.filter(y=>["issued","used"].includes(y.status)).length||0,total_revenue:s.tickets?.filter(y=>["issued","used"].includes(y.status)).reduce((y,M)=>y+(M.ticket_type?.price||0),0)||0,is_public:s.is_active||!1,sales_active:s.is_active||!1,ticket_types:s.ticket_types||s.ticketTypes||[]};const m=s.ticket_types||s.ticketTypes||[];m.length>0&&(c.value.ticket_types=m.map(y=>({...y,sold:s.tickets?.filter(M=>M.ticket_type_id===y.id&&["issued","used"].includes(M.status)).length||0}))),c.value.tickets_sold>0?i.value=[{id:1,customer_name:"Kofi Asante",ticket_quantity:2,total_amount:c.value.ticket_types?.[0]?.price*2||5e4,created_at:new Date(Date.now()-864e5).toISOString()},{id:2,customer_name:"Aminata Traore",ticket_quantity:1,total_amount:c.value.ticket_types?.[0]?.price||25e3,created_at:new Date(Date.now()-1728e5).toISOString()}]:i.value=[]}catch(t){console.error("Erreur lors du chargement de l'événement:",t),t.response?.status===404?A.value=`Événement avec l'identifiant "${o.params.slug}" non trouvé`:t.message?A.value=t.message:A.value="Erreur lors du chargement de l'événement"}finally{r.value=!1}},a=()=>{j.push({name:"organizer-event-edit",params:{slug:c.value.slug}})},P=async()=>{if((await U.fire({title:"Publier l'événement",text:"Êtes-vous sûr de vouloir publier cet événement ?",icon:"question",showCancelButton:!0,confirmButtonColor:"#272d63",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, publier",cancelButtonText:"Annuler"})).isConfirmed)try{await H.updateEvent(c.value.id,{status:"published",is_active:!0}),c.value.status="published",c.value.is_active=!0,U.fire({title:"Succès !",text:"Événement publié avec succès !",icon:"success",confirmButtonColor:"#272d63"})}catch(s){console.error("Erreur publication:",s),U.fire({title:"Erreur",text:"Erreur lors de la publication de l'événement",icon:"error",confirmButtonColor:"#272d63"})}},D=async()=>{const t=`${window.location.origin}/events/${c.value.slug}`;try{await navigator.clipboard.writeText(t),U.fire({title:"Lien copié !",text:"Le lien de l'événement a été copié dans le presse-papiers",icon:"success",timer:2e3,showConfirmButton:!1})}catch{U.fire({title:"Lien de l'événement",html:`<input type="text" value="${t}" class="w-full p-2 border rounded" readonly onclick="this.select()">`,showConfirmButton:!1,showCloseButton:!0})}},p=()=>{const t=`/events/${c.value.slug}`;window.open(t,"_blank")},F=()=>{U.fire({title:"Export des données",text:"Fonctionnalité d'export en cours de développement",icon:"info",confirmButtonColor:"#272d63"})},W=t=>new Intl.NumberFormat("fr-FR").format(t),L=t=>new Date(t).toLocaleDateString("fr-FR"),S=t=>new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=t=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[t]||t,q=t=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[t]||"bg-gray-100 text-gray-800",T=t=>{const s=t.capacity??t.available_quantity??t.max_quantity??t.quantity;return s==null?"Illimité":typeof s=="number"?new Intl.NumberFormat("fr-FR").format(s):s},J=t=>{const s=t.sold||0,m=t.capacity??t.available_quantity??t.max_quantity??t.quantity;return m==null||m<=0?0:Math.round(s/m*100)},Z=t=>{console.log("Erreur de chargement d'image:",t.target.src),t.target.src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center"},Y=t=>{console.log("Image chargée avec succès:",t.target.src)},x=()=>{if(!c.value||!c.value.ticket_types)return"Non définie";const t=c.value.ticket_types.reduce((s,m)=>{const y=m.capacity||m.available_quantity||m.max_quantity||m.quantity||0;return s+(typeof y=="number"?y:0)},0);return t>0?new Intl.NumberFormat("fr-FR").format(t):"Non définie"},V=()=>{if(!c.value)return"Non définie";if(c.value.event_date&&c.value.event_date!=="Invalid Date")return L(c.value.event_date);if(c.value.schedules&&c.value.schedules.length>0){const t=c.value.schedules[0];if(t.starts_at)return L(t.starts_at)}return"Non définie"},g=()=>{if(!c.value)return"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center";const t=c.value.image_url||c.value.image;return t?t.startsWith("http")||t.startsWith("/")?t:`/storage/events/${t}`:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center"};return re(()=>{$()}),(t,s)=>{const m=ie("router-link");return d(),l("div",Qs,[e("div",Zs,[r.value?(d(),l("div",Ys,[...s[1]||(s[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):A.value?(d(),l("div",eo,[e("div",to,[b(k(ye),{class:"w-16 h-16 mx-auto text-red-500"})]),s[3]||(s[3]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Événement introuvable",-1)),e("p",so,u(A.value),1),b(m,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:K(()=>[...s[2]||(s[2]=[B(" Retour aux événements ",-1)])]),_:1})])):c.value?(d(),l("div",oo,[e("div",ro,[e("div",ao,[e("div",no,[e("button",{onClick:s[0]||(s[0]=y=>t.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(k(be),{class:"w-6 h-6"})]),e("div",null,[e("h1",io,u(c.value.title),1),s[4]||(s[4]=e("p",{class:"text-gray-600 font-primea mt-1"},"Gestion de l'événement",-1))])]),e("div",lo,[e("span",{class:N(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",q(c.value.status)])},u(f(c.value.status)),3),e("div",uo,[e("button",{onClick:a,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(k(fe),{class:"w-4 h-4 inline mr-2"}),s[5]||(s[5]=B(" Modifier ",-1))]),c.value.status==="draft"?(d(),l("button",{key:0,onClick:P,class:"bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[b(k(_e),{class:"w-4 h-4 inline mr-2"}),s[6]||(s[6]=B(" Publier ",-1))])):I("",!0)])])])]),e("div",mo,[e("div",po,[e("div",co,[e("div",go,[b(k(de),{class:"w-6 h-6 text-blue-600"})]),e("div",fo,[s[7]||(s[7]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1)),e("p",bo,u(c.value.tickets_sold||0),1)])])]),e("div",vo,[e("div",xo,[e("div",yo,[b(k(ve),{class:"w-6 h-6 text-green-600"})]),e("div",_o,[s[8]||(s[8]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",ho,u(W(c.value.total_revenue||0))+" XAF",1)])])]),e("div",wo,[e("div",ko,[e("div",$o,[b(k(Pe),{class:"w-6 h-6 text-yellow-600"})]),e("div",Co,[s[9]||(s[9]=e("p",{class:"text-sm text-gray-600 font-primea"},"Capacité",-1)),e("p",Eo,u(x()),1)])])]),e("div",jo,[e("div",Ao,[e("div",So,[b(k(me),{class:"w-6 h-6 text-purple-600"})]),e("div",Po,[s[10]||(s[10]=e("p",{class:"text-sm text-gray-600 font-primea"},"Date",-1)),e("p",Vo,u(V()),1)])])])]),e("div",zo,[e("div",Do,[e("div",To,[s[15]||(s[15]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations générales",-1)),e("div",Io,[e("div",null,[s[11]||(s[11]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Titre",-1)),e("p",Uo,u(c.value.title),1)]),e("div",null,[s[12]||(s[12]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Lieu",-1)),e("p",Bo,u(c.value.venue_name),1)]),e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Catégorie",-1)),e("p",Fo,u(c.value.category_name||"Non spécifiée"),1)]),e("div",Mo,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Description",-1)),e("p",qo,u(c.value.description||"Aucune description"),1)])])]),e("div",Ro,[s[20]||(s[20]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Programmation",-1)),c.value.schedules&&c.value.schedules.length>0?(d(),l("div",Oo,[(d(!0),l(O,null,X(c.value.schedules,y=>(d(),l("div",{key:y.id,class:"border border-gray-200 rounded-primea p-4"},[e("div",No,[e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Début",-1)),e("p",Xo,u(S(y.starts_at)),1)]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Fin",-1)),e("p",Lo,u(S(y.ends_at)),1)]),e("div",null,[s[18]||(s[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Ouverture des portes",-1)),e("p",Go,u(y.door_time?S(y.door_time):"Non spécifiée"),1)])])]))),128))])):(d(),l("div",Ho,[b(k(me),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),s[19]||(s[19]=e("p",{class:"font-primea"},"Aucune programmation définie",-1))]))]),e("div",Wo,[s[25]||(s[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Types de billets",-1)),c.value.ticket_types&&c.value.ticket_types.length>0?(d(),l("div",Ko,[(d(!0),l(O,null,X(c.value.ticket_types,y=>(d(),l("div",{key:y.id,class:"border border-gray-200 rounded-primea p-4"},[e("div",Jo,[e("div",Qo,[e("div",Zo,[e("h3",Yo,u(y.name),1),e("span",{class:N(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",y.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},u(y.is_active?"Actif":"Inactif"),3)]),e("p",er,u(y.description||"Aucune description"),1)]),e("div",tr,[s[21]||(s[21]=e("label",{class:"block text-xs text-gray-500 font-primea mb-1"},"Prix",-1)),e("span",sr,u(W(y.price))+" XAF ",1)]),e("div",or,[s[23]||(s[23]=e("label",{class:"block text-xs text-gray-500 font-primea mb-1"},"Disponibilité",-1)),e("div",rr,[e("span",ar,u(y.sold||0),1),s[22]||(s[22]=e("span",{class:"text-gray-500"}," / ",-1)),e("span",nr,u(T(y)),1)]),e("div",ir,u(J(y))+"% vendus ",1)])])]))),128))])):(d(),l("div",lr,[b(k(de),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),s[24]||(s[24]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1))]))]),e("div",dr,[s[28]||(s[28]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Commandes récentes",-1)),i.value.length>0?(d(),l("div",ur,[e("table",mr,[s[26]||(s[26]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Client"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Montant"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date")])],-1)),e("tbody",pr,[(d(!0),l(O,null,X(i.value,y=>(d(),l("tr",{key:y.id},[e("td",cr,u(y.customer_name),1),e("td",gr,u(y.ticket_quantity),1),e("td",fr,u(W(y.total_amount))+" XAF",1),e("td",br,u(L(y.created_at)),1)]))),128))])])])):(d(),l("div",vr,[b(k(Ve),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),s[27]||(s[27]=e("p",{class:"font-primea"},"Aucune commande pour cet événement",-1))]))])]),e("div",xr,[e("div",yr,[s[32]||(s[32]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions rapides",-1)),e("div",_r,[e("button",{onClick:D,class:"w-full flex items-center justify-center px-4 py-2 border border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 font-primea"},[b(k(ze),{class:"w-4 h-4 mr-2"}),s[29]||(s[29]=B(" Partager l'événement ",-1))]),e("button",{onClick:p,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[b(k(xe),{class:"w-4 h-4 mr-2"}),s[30]||(s[30]=B(" Voir la page publique ",-1))]),e("button",{onClick:F,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[...s[31]||(s[31]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),B(" Exporter les données ",-1)])])])]),c.value?(d(),l("div",hr,[s[33]||(s[33]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Image de l'événement",-1)),e("img",{src:g(),alt:c.value.title,class:"w-full h-48 object-cover rounded-primea",onError:Z,onLoad:Y},null,40,wr)])):I("",!0),e("div",kr,[s[37]||(s[37]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",$r,[e("div",Cr,[s[34]||(s[34]=e("span",{class:"text-sm text-gray-700 font-primea"},"Événement public",-1)),e("span",{class:N(["text-sm font-medium",c.value.is_public?"text-green-600":"text-red-600"])},u(c.value.is_public?"Oui":"Non"),3)]),e("div",Er,[s[35]||(s[35]=e("span",{class:"text-sm text-gray-700 font-primea"},"Ventes actives",-1)),e("span",{class:N(["text-sm font-medium",c.value.sales_active?"text-green-600":"text-red-600"])},u(c.value.sales_active?"Oui":"Non"),3)]),e("div",jr,[s[36]||(s[36]=e("span",{class:"text-sm text-gray-700 font-primea"},"Créé le",-1)),e("span",Ar,u(L(c.value.created_at)),1)])])])])])])):I("",!0)])])}}},Pr=ae(Sr,[["__scopeId","data-v-1c73c7c7"]]),Wl=Object.freeze(Object.defineProperty({__proto__:null,default:Pr},Symbol.toStringTag,{value:"Module"})),Vr={class:"event-edit min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},zr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Dr={key:0,class:"flex justify-center items-center h-64"},Tr={key:1,class:"text-center py-16"},Ir={class:"mb-4"},Ur={class:"text-gray-600 mb-6"},Br={key:2},Fr={class:"mb-8"},Mr={class:"flex items-center justify-between"},qr={class:"flex items-center space-x-4"},Rr={class:"text-gray-600 font-primea mt-1"},Or={class:"flex items-center space-x-3"},Nr={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Xr={class:"lg:col-span-2 space-y-6"},Lr={class:"bg-white rounded-primea shadow-primea p-6"},Gr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Hr={class:"md:col-span-2"},Wr={class:"md:col-span-2"},Kr=["value"],Jr={key:0},Qr=["value"],Zr={key:1,class:"space-y-2"},Yr={class:"md:col-span-2"},ea={class:"border-2 border-dashed border-gray-300 rounded-primea p-4 text-center"},ta={key:0,class:"mb-4"},sa=["src"],oa={key:1},ra={class:"bg-white rounded-primea shadow-primea p-6"},aa={class:"flex items-center justify-between mb-6"},na={class:"space-y-4"},ia=["onUpdate:modelValue"],la=["onUpdate:modelValue"],da=["onUpdate:modelValue"],ua={class:"flex items-end"},ma=["onClick"],pa={class:"bg-white rounded-primea shadow-primea p-6"},ca={class:"flex items-center justify-between mb-6"},ga={key:0,class:"text-center py-8 text-gray-500"},fa={key:1,class:"space-y-4"},ba=["onUpdate:modelValue"],va=["onUpdate:modelValue"],xa=["onUpdate:modelValue"],ya=["onUpdate:modelValue"],_a={class:"flex items-center space-x-2"},ha={class:"flex items-center space-x-2"},wa=["onUpdate:modelValue"],ka=["onClick"],$a={class:"space-y-6"},Ca={class:"bg-white rounded-primea shadow-primea p-6"},Ea={class:"space-y-4"},ja={class:"flex items-center space-x-2"},Aa={class:"bg-white rounded-primea shadow-primea p-6"},Sa={class:"space-y-3"},Pa=["disabled"],Va={key:0,class:"bg-white rounded-primea shadow-primea p-6"},za=["src","alt"],Da={__name:"EventEdit",setup(v){const o=he(),j=ce(),r=C(!0),A=C(!1),c=C(null),i=C(null),$=C([]),a=C([]),P=C(!1),D=C(null),p=Q({title:"",description:"",category_id:"",venue_id:"",new_venue_name:"",new_venue_city:"",new_venue_address:"",image_url:"",image_preview:"",is_active:!1,schedules:[{starts_at:"",ends_at:"",door_time:""}],ticket_types:[]}),F=async()=>{try{const h=await H.getCategories();$.value=h.data.categories||[]}catch(h){console.error("Erreur chargement catégories:",h)}},W=async()=>{try{const h=await H.getVenues();a.value=h.data.venues||h.data.data||[]}catch(h){console.error("Erreur chargement lieux:",h)}},L=async()=>{r.value=!0,c.value=null;try{let h=o.params.slug,n;if(/^\d+$/.test(h))n=(await H.getEvent(h)).data.data;else try{const z=await H.getEvents();if(n=(z.data.data.events.data||z.data.data.events).find(te=>te.slug===h),!n)throw new Error(`Événement avec le slug "${h}" non trouvé`)}catch{throw new Error(`Événement avec le slug "${h}" non trouvé`)}if(!n)throw new Error("Événement introuvable");i.value={...n,venue_name:n.venue?.name||n.venue_name||"",venue_address:n.venue?.address||n.venue_address||"",category_name:n.category?.name||n.category_name||""},Object.assign(p,{title:i.value.title||"",description:i.value.description||"",category_id:i.value.category_id||"",venue_id:i.value.venue_id||"",new_venue_name:"",new_venue_city:"",new_venue_address:"",image_url:i.value.image_url||"",image_preview:i.value.image_url||"",is_active:i.value.is_active??!1,schedules:i.value.schedules&&i.value.schedules.length>0?i.value.schedules.map(z=>({starts_at:z.starts_at?new Date(z.starts_at).toISOString().slice(0,16):"",ends_at:z.ends_at?new Date(z.ends_at).toISOString().slice(0,16):"",door_time:z.door_time?new Date(z.door_time).toISOString().slice(0,16):""})):[{starts_at:"",ends_at:"",door_time:""}],ticket_types:(i.value.ticket_types||i.value.ticketTypes||[]).map(z=>({id:z.id,name:z.name||"",description:z.description||"",price:z.price||0,capacity:z.capacity||z.available_quantity||z.max_quantity||z.quantity||0,is_active:z.is_active??z.status==="active"}))})}catch(h){console.error("Erreur lors du chargement de l'événement:",h),h.response?.status===404?c.value=`Événement avec l'identifiant "${o.params.slug}" non trouvé`:h.message?c.value=h.message:c.value="Erreur lors du chargement de l'événement"}finally{r.value=!1}},S=async()=>{A.value=!0;try{if(!i.value)throw new Error("Aucun événement à mettre à jour");const h={title:p.title,description:p.description,category_id:p.category_id,venue_id:p.venue_id||null,new_venue_name:p.venue_id==="new"?p.new_venue_name:null,new_venue_city:p.venue_id==="new"?p.new_venue_city:null,new_venue_address:p.venue_id==="new"?p.new_venue_address:null,image_url:p.image_url,is_active:p.is_active,schedules:p.schedules,ticket_types:p.ticket_types.map(n=>({id:n.id||null,name:n.name,description:n.description,price:n.price,capacity:n.capacity,is_active:n.is_active}))};await H.updateEvent(i.value.id,h),await U.fire({title:"Succès !",text:"Événement mis à jour avec succès !",icon:"success",confirmButtonColor:"#272d63"}),j.push({name:"organizer-event-detail",params:{slug:i.value.slug}})}catch(h){console.error("Erreur lors de la mise à jour:",h),await U.fire({title:"Erreur",text:h.response?.data?.message||"Erreur lors de la mise à jour de l'événement",icon:"error",confirmButtonColor:"#272d63"})}finally{A.value=!1}},f=async()=>{if((await U.fire({title:"Publier l'événement",text:"Êtes-vous sûr de vouloir publier cet événement ?",icon:"question",showCancelButton:!0,confirmButtonColor:"#272d63",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, publier",cancelButtonText:"Annuler"})).isConfirmed)try{await H.updateEvent(i.value.id,{status:"published",is_active:!0}),i.value.status="published",i.value.is_active=!0,await U.fire({title:"Succès !",text:"Événement publié avec succès !",icon:"success",confirmButtonColor:"#272d63"})}catch(n){console.error("Erreur publication:",n),await U.fire({title:"Erreur",text:"Erreur lors de la publication de l'événement",icon:"error",confirmButtonColor:"#272d63"})}},q=()=>{p.ticket_types.push({name:"",description:"",price:"",capacity:"",is_active:!0})},T=async h=>{(await U.fire({title:"Supprimer le type de billet",text:"Êtes-vous sûr de vouloir supprimer ce type de billet ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed&&p.ticket_types.splice(h,1)},J=()=>{p.schedules.push({starts_at:"",ends_at:"",door_time:""})},Z=h=>{p.schedules.length>1&&p.schedules.splice(h,1)},Y=()=>{p.venue_id==="new"&&(P.value=!0)},x=()=>{P.value=!1,p.venue_id="",p.new_venue_name="",p.new_venue_city="",p.new_venue_address=""},V=h=>{const n=h.target.files[0];if(n){const z=new FileReader;z.onload=w=>{p.image_preview=w.target.result},z.readAsDataURL(n)}},g=()=>{p.image_url&&(p.image_preview=p.image_url)},t=()=>{p.image_url="",p.image_preview="",D.value&&(D.value.value="")},s=()=>{if(p.image_preview)return p.image_preview;if(!i.value)return"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center";const h=i.value.image_url||i.value.image;return h?h.startsWith("http")||h.startsWith("/")?h:`/storage/events/${h}`:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center"},m=h=>{console.log("Erreur de chargement d'image:",h.target.src),h.target.src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center"},y=h=>{console.log("Image chargée avec succès:",h.target.src)},M=h=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[h]||h,ge=h=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[h]||"bg-gray-100 text-gray-800";return re(async()=>{await Promise.all([F(),W(),L()])}),(h,n)=>{const z=ie("router-link");return d(),l("div",Vr,[e("div",zr,[r.value?(d(),l("div",Dr,[...n[11]||(n[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):c.value?(d(),l("div",Tr,[e("div",Ir,[b(k(ye),{class:"w-16 h-16 mx-auto text-red-500"})]),n[13]||(n[13]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Erreur",-1)),e("p",Ur,u(c.value),1),b(z,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:K(()=>[...n[12]||(n[12]=[B(" Retour aux événements ",-1)])]),_:1})])):i.value?(d(),l("div",Br,[e("div",Fr,[e("div",Mr,[e("div",qr,[e("button",{onClick:n[0]||(n[0]=w=>h.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(k(be),{class:"w-6 h-6"})]),e("div",null,[n[14]||(n[14]=e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Modifier l'événement",-1)),e("p",Rr,u(i.value.title),1)])]),e("div",Or,[e("span",{class:N(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",ge(i.value.status)])},u(M(i.value.status)),3)])])]),e("form",{onSubmit:se(S,["prevent"]),class:"space-y-8"},[e("div",Nr,[e("div",Xr,[e("div",Lr,[n[24]||(n[24]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",Gr,[e("div",Hr,[n[15]||(n[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement *",-1)),_(e("input",{"onUpdate:modelValue":n[1]||(n[1]=w=>p.title=w),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[E,p.title]])]),e("div",Wr,[n[16]||(n[16]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),_(e("textarea",{"onUpdate:modelValue":n[2]||(n[2]=w=>p.description=w),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[E,p.description]])]),e("div",null,[n[18]||(n[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie *",-1)),_(e("select",{"onUpdate:modelValue":n[3]||(n[3]=w=>p.category_id=w),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[n[17]||(n[17]=e("option",{value:""},"Sélectionner une catégorie",-1)),(d(!0),l(O,null,X($.value,w=>(d(),l("option",{key:w.id,value:w.id},u(w.name),9,Kr))),128))],512),[[ne,p.category_id]])]),e("div",null,[n[21]||(n[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu *",-1)),P.value?I("",!0):(d(),l("div",Jr,[_(e("select",{"onUpdate:modelValue":n[4]||(n[4]=w=>p.venue_id=w),onChange:Y,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[n[19]||(n[19]=e("option",{value:""},"Sélectionner un lieu",-1)),(d(!0),l(O,null,X(a.value,w=>(d(),l("option",{key:w.id,value:w.id},u(w.name)+" - "+u(w.city),9,Qr))),128)),n[20]||(n[20]=e("option",{value:"new"},"+ Ajouter un nouveau lieu",-1))],544),[[ne,p.venue_id]])])),P.value||p.venue_id==="new"?(d(),l("div",Zr,[_(e("input",{"onUpdate:modelValue":n[5]||(n[5]=w=>p.new_venue_name=w),type:"text",placeholder:"Nom du lieu",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[E,p.new_venue_name]]),_(e("input",{"onUpdate:modelValue":n[6]||(n[6]=w=>p.new_venue_city=w),type:"text",placeholder:"Ville",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[E,p.new_venue_city]]),_(e("input",{"onUpdate:modelValue":n[7]||(n[7]=w=>p.new_venue_address=w),type:"text",placeholder:"Adresse",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[E,p.new_venue_address]]),e("button",{type:"button",onClick:x,class:"text-sm text-primea-blue hover:text-primea-yellow font-primea"}," Utiliser un lieu existant ")])):I("",!0)]),e("div",Yr,[n[23]||(n[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Image de l'événement",-1)),e("div",ea,[p.image_preview?(d(),l("div",ta,[e("img",{src:p.image_preview,alt:"Aperçu",class:"max-h-32 mx-auto rounded-primea",onError:m,onLoad:y},null,40,sa),e("button",{type:"button",onClick:t,class:"mt-2 text-sm text-red-600 hover:text-red-800"}," Supprimer l'image ")])):(d(),l("div",oa,[e("input",{ref_key:"imageInput",ref:D,type:"file",accept:"image/*",onChange:V,class:"hidden"},null,544),e("button",{type:"button",onClick:n[8]||(n[8]=w=>h.$refs.imageInput.click()),class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"}," Choisir une image "),n[22]||(n[22]=e("p",{class:"text-sm text-gray-500 mt-2 font-primea"},"ou",-1)),_(e("input",{"onUpdate:modelValue":n[9]||(n[9]=w=>p.image_url=w),type:"url",class:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"URL de l'image (https://exemple.com/image.jpg)",onInput:g},null,544),[[E,p.image_url]])]))])])])]),e("div",ra,[e("div",aa,[n[26]||(n[26]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Programmation",-1)),e("button",{type:"button",onClick:J,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(k(oe),{class:"w-4 h-4 inline mr-2"}),n[25]||(n[25]=B(" Ajouter une séance ",-1))])]),e("div",na,[(d(!0),l(O,null,X(p.schedules,(w,te)=>(d(),l("div",{key:te,class:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[n[27]||(n[27]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de début *",-1)),_(e("input",{"onUpdate:modelValue":G=>w.starts_at=G,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,ia),[[E,w.starts_at]])]),e("div",null,[n[28]||(n[28]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de fin *",-1)),_(e("input",{"onUpdate:modelValue":G=>w.ends_at=G,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,la),[[E,w.ends_at]])]),e("div",null,[n[29]||(n[29]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Ouverture des portes",-1)),_(e("input",{"onUpdate:modelValue":G=>w.door_time=G,type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,da),[[E,w.door_time]])]),e("div",ua,[p.schedules.length>1?(d(),l("button",{key:0,type:"button",onClick:G=>Z(te),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[b(k(pe),{class:"w-4 h-4"})],8,ma)):I("",!0)])]))),128))])]),e("div",pa,[e("div",ca,[n[31]||(n[31]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:q,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(k(oe),{class:"w-4 h-4 inline mr-2"}),n[30]||(n[30]=B(" Ajouter un type ",-1))])]),p.ticket_types.length===0?(d(),l("div",ga,[b(k(de),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),n[32]||(n[32]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),n[33]||(n[33]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(d(),l("div",fa,[(d(!0),l(O,null,X(p.ticket_types,(w,te)=>(d(),l("div",{key:te,class:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[n[34]||(n[34]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom *",-1)),_(e("input",{"onUpdate:modelValue":G=>w.name=G,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,ba),[[E,w.name]])]),e("div",null,[n[35]||(n[35]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF) *",-1)),_(e("input",{"onUpdate:modelValue":G=>w.price=G,type:"number",min:"0",step:"0.01",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,va),[[E,w.price,void 0,{number:!0}]])]),e("div",null,[n[36]||(n[36]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Capacité *",-1)),_(e("input",{"onUpdate:modelValue":G=>w.capacity=G,type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100"},null,8,xa),[[E,w.capacity,void 0,{number:!0}]])]),e("div",null,[n[37]||(n[37]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),_(e("textarea",{"onUpdate:modelValue":G=>w.description=G,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Description du billet..."},null,8,ya),[[E,w.description]])]),e("div",_a,[e("label",ha,[_(e("input",{"onUpdate:modelValue":G=>w.is_active=G,type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,8,wa),[[ue,w.is_active]]),n[38]||(n[38]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Actif",-1))]),e("button",{type:"button",onClick:G=>T(te),class:"text-red-600 hover:text-red-800 p-1"},[b(k(pe),{class:"w-4 h-4"})],8,ka)])]))),128))]))])]),e("div",$a,[e("div",Ca,[n[41]||(n[41]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",Ea,[e("div",null,[e("label",ja,[_(e("input",{"onUpdate:modelValue":n[10]||(n[10]=w=>p.is_active=w),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[ue,p.is_active]]),n[39]||(n[39]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement actif",-1))]),n[40]||(n[40]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Publier l'événement et activer les ventes",-1))])])]),e("div",Aa,[n[44]||(n[44]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Sa,[e("button",{type:"submit",disabled:A.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},u(A.value?"Enregistrement...":"Enregistrer les modifications"),9,Pa),b(z,{to:{name:"organizer-event-detail",params:{slug:i.value?.slug||k(o).params.slug}},class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:K(()=>[...n[42]||(n[42]=[B(" Annuler les modifications ",-1)])]),_:1},8,["to"]),i.value&&!i.value.is_active?(d(),l("button",{key:0,type:"button",onClick:f,class:"w-full bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[b(k(_e),{class:"w-4 h-4 inline mr-2"}),n[43]||(n[43]=B(" Publier l'événement ",-1))])):I("",!0)])]),i.value?(d(),l("div",Va,[n[45]||(n[45]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Image actuelle",-1)),e("img",{src:s(),alt:i.value.title,class:"w-full h-48 object-cover rounded-primea",onError:m,onLoad:y},null,40,za)])):I("",!0)])])],32)])):I("",!0)])])}}},Ta=ae(Da,[["__scopeId","data-v-55ea5b56"]]),Kl=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"})),Ia={class:"event-create min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Ua={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ba={class:"mb-8"},Fa={class:"flex items-center justify-between"},Ma={class:"flex items-center space-x-4"},qa={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ra={class:"lg:col-span-2 space-y-6"},Oa={class:"bg-white rounded-primea shadow-primea p-6"},Na={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Xa={class:"md:col-span-2"},La={class:"md:col-span-2"},Ga=["value"],Ha={key:0},Wa=["value"],Ka={key:1,class:"space-y-2"},Ja={class:"md:col-span-2"},Qa={class:"border-2 border-dashed border-gray-300 rounded-primea p-4 text-center"},Za={key:0,class:"mb-4"},Ya=["src"],en={key:1},tn={class:"bg-white rounded-primea shadow-primea p-6"},sn={class:"flex items-center justify-between mb-6"},on={class:"space-y-4"},rn=["onUpdate:modelValue"],an=["onUpdate:modelValue"],nn={class:"flex items-end"},ln=["onClick"],dn={class:"bg-white rounded-primea shadow-primea p-6"},un={class:"flex items-center justify-between mb-6"},mn={key:0,class:"text-center py-8 text-gray-500"},pn={key:1,class:"space-y-4"},cn=["onUpdate:modelValue"],gn=["onUpdate:modelValue"],fn=["onUpdate:modelValue"],bn=["onUpdate:modelValue"],vn={class:"flex items-end"},xn=["onClick"],yn={class:"space-y-6"},_n={class:"bg-white rounded-primea shadow-primea p-6"},hn={class:"space-y-4"},wn={class:"flex items-center space-x-2"},kn={class:"flex items-center space-x-2"},$n={class:"bg-white rounded-primea shadow-primea p-6"},Cn={class:"space-y-3"},En=["disabled"],jn={key:0,class:"bg-white rounded-primea shadow-primea p-6"},An=["src","alt"],Sn={class:"bg-white rounded-primea shadow-primea p-6"},Pn={class:"space-y-2 text-sm"},Vn={class:"flex justify-between"},zn={class:"font-medium font-primea"},Dn={class:"flex justify-between"},Tn={class:"font-medium font-primea"},In={key:0,class:"flex justify-between"},Un={class:"font-medium font-primea"},Bn={key:1,class:"flex justify-between"},Fn={class:"font-medium font-primea"},Mn={__name:"EventCreate",setup(v){const o=ce(),j=C(!1),r=C([]),A=C([]),c=C(!1),i=C(!1),$=C(null),a=Q({title:"",description:"",category_id:"",venue_id:"",image_url:"",image_preview:"",image_file:null,status:"draft",new_venue_name:"",new_venue_city:"",new_venue_address:"",schedules:[{starts_at:"",ends_at:""}],ticket_types:[{name:"",price:"",capacity:"",description:""}]}),P=ee(()=>a.ticket_types.reduce((g,t)=>g+(parseInt(t.capacity)||0),0)),D=ee(()=>{if(a.ticket_types.length===0)return 0;const g=a.ticket_types.map(t=>parseInt(t.price)||0).filter(t=>t>0);return g.length>0?Math.min(...g):0}),p=ee(()=>{if(a.ticket_types.length===0)return 0;const g=a.ticket_types.map(t=>parseInt(t.price)||0);return g.length>0?Math.max(...g):0}),F=()=>{a.ticket_types.push({name:"",description:"",price:"",capacity:""})},W=()=>{a.schedules.push({starts_at:"",ends_at:""})},L=g=>{a.schedules.length>1&&a.schedules.splice(g,1)},S=()=>{a.venue_id==="new"?i.value=!0:i.value=!1},f=()=>{i.value=!1,a.venue_id="",a.new_venue_name="",a.new_venue_city="",a.new_venue_address=""},q=g=>{const t=g.target.files[0];if(t){a.image_file=t;const s=new FileReader;s.onload=m=>{a.image_preview=m.target.result,a.image_url=""},s.readAsDataURL(t)}},T=()=>{a.image_url&&(a.image_preview=a.image_url,a.image_file=null)},J=()=>{a.image_url="",a.image_preview="",a.image_file=null,$.value&&($.value.value="")},Z=g=>{a.ticket_types.length>1&&a.ticket_types.splice(g,1)},Y=async()=>{if(a.ticket_types.length===0){U.fire({title:"Erreur",text:"Veuillez ajouter au moins un type de billet",icon:"error",confirmButtonColor:"#272d63"});return}if(!a.title){U.fire({title:"Erreur",text:"Veuillez remplir le titre de l'événement",icon:"error",confirmButtonColor:"#272d63"});return}j.value=!0;try{if(!a.category_id){U.fire({title:"Erreur",text:"Veuillez sélectionner une catégorie",icon:"error",confirmButtonColor:"#272d63"});return}if(!a.venue_id&&!a.new_venue_name){U.fire({title:"Erreur",text:"Veuillez sélectionner un lieu ou créer un nouveau lieu",icon:"error",confirmButtonColor:"#272d63"});return}if(a.schedules.some(s=>!s.starts_at||!s.ends_at)){U.fire({title:"Erreur",text:"Veuillez remplir toutes les dates et heures de programmation",icon:"error",confirmButtonColor:"#272d63"});return}const g={title:a.title,description:a.description,category_id:a.category_id,venue_id:a.venue_id!=="new"?a.venue_id:null,venue_name:a.venue_id==="new"?a.new_venue_name:null,venue_city:a.venue_id==="new"?a.new_venue_city:"Abidjan",venue_address:a.venue_id==="new"?a.new_venue_address:null,image_url:a.image_url,is_active:a.status==="published",schedules:a.schedules.map(s=>({starts_at:s.starts_at,ends_at:s.ends_at,door_time:new Date(new Date(s.starts_at).getTime()-1800*1e3).toISOString()})),ticket_types:a.ticket_types.map(s=>({name:s.name,description:s.description,price:parseFloat(s.price),capacity:parseInt(s.capacity),is_active:!0}))},t=await H.createEvent(g);if(t.data.success)U.fire({title:"Succès !",text:"Événement créé avec succès !",icon:"success",confirmButtonColor:"#272d63"}).then(()=>{o.push(`/organizer/events/${t.data.data.id}`)});else throw new Error(t.data.message||"Erreur lors de la création")}catch(g){console.error("Erreur création événement:",g),U.fire({title:"Erreur",text:g.response?.data?.message||"Erreur lors de la création de l'événement",icon:"error",confirmButtonColor:"#272d63"})}finally{j.value=!1}},x=async()=>{c.value=!0;try{const g=await H.getCategories();g.data.success&&(r.value=g.data.categories||g.data.data);const t=await H.getVenues();t.data.success&&(A.value=t.data.venues||t.data.data)}catch(g){console.error("Erreur chargement données initiales:",g)}finally{c.value=!1}},V=g=>new Intl.NumberFormat("fr-FR").format(g);return re(()=>{x()}),(g,t)=>{const s=ie("router-link");return d(),l("div",Ia,[e("div",Ua,[e("div",Ba,[e("div",Fa,[e("div",Ma,[e("button",{onClick:t[0]||(t[0]=m=>g.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(k(be),{class:"w-6 h-6"})]),t[13]||(t[13]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Créer un événement"),e("p",{class:"text-gray-600 font-primea mt-1"},"Configurez tous les détails de votre événement")],-1))])])]),e("form",{onSubmit:se(Y,["prevent"]),class:"space-y-8"},[e("div",qa,[e("div",Ra,[e("div",Oa,[t[23]||(t[23]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",Na,[e("div",Xa,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement",-1)),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=m=>a.title=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[E,a.title]])]),e("div",La,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),_(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=m=>a.description=m),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[E,a.description]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie *",-1)),_(e("select",{"onUpdate:modelValue":t[3]||(t[3]=m=>a.category_id=m),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[t[16]||(t[16]=e("option",{value:""},"Sélectionner une catégorie",-1)),(d(!0),l(O,null,X(r.value,m=>(d(),l("option",{key:m.id,value:m.id},u(m.name),9,Ga))),128))],512),[[ne,a.category_id]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu *",-1)),i.value?I("",!0):(d(),l("div",Ha,[_(e("select",{"onUpdate:modelValue":t[4]||(t[4]=m=>a.venue_id=m),onChange:S,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[t[18]||(t[18]=e("option",{value:""},"Sélectionner un lieu",-1)),(d(!0),l(O,null,X(A.value,m=>(d(),l("option",{key:m.id,value:m.id},u(m.name)+" - "+u(m.city),9,Wa))),128)),t[19]||(t[19]=e("option",{value:"new"},"+ Ajouter un nouveau lieu",-1))],544),[[ne,a.venue_id]])])),i.value||a.venue_id==="new"?(d(),l("div",Ka,[_(e("input",{"onUpdate:modelValue":t[5]||(t[5]=m=>a.new_venue_name=m),type:"text",placeholder:"Nom du lieu",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[E,a.new_venue_name]]),_(e("input",{"onUpdate:modelValue":t[6]||(t[6]=m=>a.new_venue_city=m),type:"text",placeholder:"Ville",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[E,a.new_venue_city]]),_(e("input",{"onUpdate:modelValue":t[7]||(t[7]=m=>a.new_venue_address=m),type:"text",placeholder:"Adresse",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[E,a.new_venue_address]]),e("button",{type:"button",onClick:f,class:"text-sm text-primea-blue hover:text-primea-yellow font-primea"}," Utiliser un lieu existant ")])):I("",!0)]),e("div",Ja,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Image de l'événement",-1)),e("div",Qa,[a.image_preview?(d(),l("div",Za,[e("img",{src:a.image_preview,alt:"Aperçu",class:"max-h-32 mx-auto rounded-primea"},null,8,Ya),e("button",{type:"button",onClick:J,class:"mt-2 text-sm text-red-600 hover:text-red-800"}," Supprimer l'image ")])):(d(),l("div",en,[e("input",{ref_key:"imageInput",ref:$,type:"file",accept:"image/*",onChange:q,class:"hidden"},null,544),e("button",{type:"button",onClick:t[8]||(t[8]=m=>g.$refs.imageInput.click()),class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"}," Choisir une image "),t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 mt-2 font-primea"},"ou",-1)),_(e("input",{"onUpdate:modelValue":t[9]||(t[9]=m=>a.image_url=m),type:"url",class:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"URL de l'image (https://exemple.com/image.jpg)",onInput:T},null,544),[[E,a.image_url]])]))])])])]),e("div",tn,[e("div",sn,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Programmation",-1)),e("button",{type:"button",onClick:W,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(k(oe),{class:"w-4 h-4 inline mr-2"}),t[24]||(t[24]=B(" Ajouter une séance ",-1))])]),e("div",on,[(d(!0),l(O,null,X(a.schedules,(m,y)=>(d(),l("div",{key:y,class:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de début *",-1)),_(e("input",{"onUpdate:modelValue":M=>m.starts_at=M,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,rn),[[E,m.starts_at]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de fin *",-1)),_(e("input",{"onUpdate:modelValue":M=>m.ends_at=M,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,an),[[E,m.ends_at]])]),e("div",nn,[a.schedules.length>1?(d(),l("button",{key:0,type:"button",onClick:M=>L(y),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[b(k(pe),{class:"w-4 h-4"})],8,ln)):I("",!0)])]))),128))])]),e("div",dn,[e("div",un,[t[29]||(t[29]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:F,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(k(oe),{class:"w-4 h-4 inline mr-2"}),t[28]||(t[28]=B(" Ajouter un type ",-1))])]),a.ticket_types.length===0?(d(),l("div",mn,[b(k(de),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),t[30]||(t[30]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),t[31]||(t[31]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(d(),l("div",pn,[(d(!0),l(O,null,X(a.ticket_types,(m,y)=>(d(),l("div",{key:y,class:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom *",-1)),_(e("input",{"onUpdate:modelValue":M=>m.name=M,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,cn),[[E,m.name]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF) *",-1)),_(e("input",{"onUpdate:modelValue":M=>m.price=M,type:"number",min:"0",step:"0.01",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,gn),[[E,m.price,void 0,{number:!0}]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Capacité *",-1)),_(e("input",{"onUpdate:modelValue":M=>m.capacity=M,type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100"},null,8,fn),[[E,m.capacity,void 0,{number:!0}]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),_(e("input",{"onUpdate:modelValue":M=>m.description=M,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Description du billet"},null,8,bn),[[E,m.description]])]),e("div",vn,[a.ticket_types.length>1?(d(),l("button",{key:0,type:"button",onClick:M=>Z(y),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[b(k(pe),{class:"w-4 h-4"})],8,xn)):I("",!0)])]))),128))]))])]),e("div",yn,[e("div",_n,[t[43]||(t[43]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",hn,[e("div",null,[e("label",wn,[_(e("input",{"onUpdate:modelValue":t[10]||(t[10]=m=>a.is_public=m),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[ue,a.is_public]]),t[36]||(t[36]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement public",-1))]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Visible dans la liste publique des événements",-1))]),e("div",null,[e("label",kn,[_(e("input",{"onUpdate:modelValue":t[11]||(t[11]=m=>a.sales_active=m),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[ue,a.sales_active]]),t[38]||(t[38]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Ventes actives",-1))]),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Permettre l'achat de billets",-1))]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Statut *",-1)),_(e("select",{"onUpdate:modelValue":t[12]||(t[12]=m=>a.status=m),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...t[40]||(t[40]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1),e("option",{value:"cancelled"},"Annulé",-1)])],512),[[ne,a.status]]),t[42]||(t[42]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Les brouillons ne sont pas visibles par le public",-1))])])]),e("div",$n,[t[45]||(t[45]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Cn,[e("button",{type:"submit",disabled:j.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},u(j.value?"Création en cours...":"Créer l'événement"),9,En),b(s,{to:"/organizer/dashboard",class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:K(()=>[...t[44]||(t[44]=[B(" Annuler ",-1)])]),_:1})])]),a.image_url||a.image_preview?(d(),l("div",jn,[t[46]||(t[46]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Aperçu de l'image",-1)),e("img",{src:a.image_preview||a.image_url,alt:a.title,class:"w-full h-48 object-cover rounded-primea"},null,8,An)])):I("",!0),e("div",Sn,[t[51]||(t[51]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Résumé",-1)),e("div",Pn,[e("div",Vn,[t[47]||(t[47]=e("span",{class:"text-gray-600 font-primea"},"Types de billets:",-1)),e("span",zn,u(a.ticket_types.length),1)]),e("div",Dn,[t[48]||(t[48]=e("span",{class:"text-gray-600 font-primea"},"Capacité totale:",-1)),e("span",Tn,u(P.value||"Illimitée"),1)]),D.value>0?(d(),l("div",In,[t[49]||(t[49]=e("span",{class:"text-gray-600 font-primea"},"Prix minimum:",-1)),e("span",Un,u(V(D.value))+" XAF",1)])):I("",!0),p.value>0?(d(),l("div",Bn,[t[50]||(t[50]=e("span",{class:"text-gray-600 font-primea"},"Prix maximum:",-1)),e("span",Fn,u(V(p.value))+" XAF",1)])):I("",!0)])])])])],32)])])}}},qn=ae(Mn,[["__scopeId","data-v-dbd61bf4"]]),Jl=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"})),Rn={name:"BalanceManagement",setup(){const v=C(!1),o=C(!1),j=C(!1),r=C(!1),A=C(!1),c=C([]),i=C([]),$=Q({pending_payouts:0,total_payouts:0}),a=Q({gateway:"",available_balance:0,amount:"",phone_number:""}),P=Q({gateway:"",auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),D=ee(()=>c.value.reduce((s,m)=>s+m.balance,0)),p=async()=>{v.value=!0;try{const m=await(await fetch("/api/v1/organizer/balances",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();m.success&&(c.value=m.data.balances)}catch(s){console.error("Erreur chargement soldes:",s)}finally{v.value=!1}},F=async()=>{try{const m=await(await fetch("/api/v1/organizer/payouts?limit=10",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();m.success&&(i.value=m.data.payouts.data||m.data.payouts,$.pending_payouts=i.value.filter(y=>["pending","processing"].includes(y.status)).length,$.total_payouts=i.value.reduce((y,M)=>y+M.amount,0))}catch(s){console.error("Erreur chargement payouts récents:",s)}},W=s=>{Object.assign(a,{gateway:s.gateway,available_balance:s.balance,amount:"",phone_number:s.payout_phone_number||""}),r.value=!0},L=async()=>{o.value=!0;try{const m=await(await fetch("/api/v1/organizer/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)})).json();m.success?(alert("Demande de payout envoyée avec succès"),r.value=!1,p(),F()):alert(m.message||"Erreur lors de la demande")}catch(s){console.error("Erreur demande payout:",s),alert("Erreur technique")}finally{o.value=!1}},S=s=>{Object.assign(P,{gateway:s.gateway,auto_payout_enabled:s.auto_payout_enabled,auto_payout_threshold:s.auto_payout_threshold,payout_phone_number:s.payout_phone_number||""}),A.value=!0},f=async()=>{j.value=!0;try{const m=await(await fetch("/api/v1/organizer/auto-payout-config",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(P)})).json();m.success?(alert("Configuration mise à jour avec succès"),A.value=!1,p()):alert(m.message||"Erreur lors de la mise à jour")}catch(s){console.error("Erreur sauvegarde config:",s),alert("Erreur technique")}finally{j.value=!1}},q=s=>i.value.filter(m=>m.gateway===s).slice(0,3),T=s=>{alert(`Détails du payout #${s.reference}
Montant: ${J(s.amount)} XAF
Statut: ${g(s.status)}`)},J=s=>new Intl.NumberFormat("fr-FR").format(s),Z=s=>new Date(s).toLocaleDateString("fr-FR"),Y=s=>new Date(s).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=s=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[s]||s,V=s=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[s]||"bg-gray-100 text-gray-800",g=s=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[s]||s,t=s=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800";return re(()=>{p(),F()}),{loading:v,requestingPayout:o,savingConfig:j,showPayoutModal:r,showConfigModal:A,balances:c,recentPayouts:i,stats:$,payoutForm:a,configForm:P,totalBalance:D,loadBalances:p,loadRecentPayouts:F,requestPayout:W,submitPayoutRequest:L,configureAutoPayout:S,saveAutoPayoutConfig:f,getRecentPayouts:q,viewPayoutDetails:T,formatAmount:J,formatDate:Z,formatDateTime:Y,getGatewayName:x,getGatewayBadgeClass:V,getPayoutStatusName:g,getPayoutStatusClass:t}}},On={class:"balance-management min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Nn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Xn={class:"mb-8"},Ln={class:"flex items-center justify-between"},Gn={key:0,class:"flex justify-center items-center h-64"},Hn={key:1},Wn={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},Kn={class:"bg-white rounded-lg shadow p-6"},Jn={class:"flex items-center"},Qn={class:"ml-4"},Zn={class:"text-2xl font-bold text-green-600"},Yn={class:"bg-white rounded-lg shadow p-6"},ei={class:"flex items-center"},ti={class:"ml-4"},si={class:"text-2xl font-bold text-yellow-600"},oi={class:"bg-white rounded-lg shadow p-6"},ri={class:"flex items-center"},ai={class:"ml-4"},ni={class:"text-2xl font-bold text-blue-600"},ii={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},li={class:"flex items-center justify-between mb-4"},di={class:"flex items-center"},ui={class:"text-lg font-semibold text-gray-900"},mi={class:"text-right"},pi={class:"text-2xl font-bold text-green-600"},ci={class:"mb-4 p-3 bg-gray-50 rounded-lg"},gi={class:"flex items-center justify-between mb-2"},fi={key:0,class:"text-sm text-gray-600"},bi={key:0},vi={class:"space-y-3"},xi=["onClick","disabled"],yi=["onClick"],_i={class:"mt-6 pt-6 border-t"},hi={key:0,class:"text-sm text-gray-500"},wi={key:1,class:"space-y-2"},ki={class:"font-medium"},$i={class:"text-gray-500 ml-2"},Ci={class:"bg-white rounded-lg shadow"},Ei={class:"p-6 border-b"},ji={class:"flex justify-between items-center"},Ai={key:0,class:"p-8 text-center text-gray-500"},Si={key:1,class:"overflow-x-auto"},Pi={class:"w-full"},Vi={class:"divide-y divide-gray-200"},zi={class:"px-6 py-4 text-sm font-mono text-gray-900"},Di={class:"px-6 py-4 text-sm"},Ti={class:"px-6 py-4 text-sm font-medium text-gray-900"},Ii={class:"px-6 py-4 text-sm"},Ui={class:"px-6 py-4 text-sm"},Bi={class:"px-6 py-4 text-sm text-gray-500"},Fi={class:"px-6 py-4 text-sm"},Mi=["onClick"],qi={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ri={class:"bg-white rounded-lg p-6 w-full max-w-md"},Oi={class:"space-y-4"},Ni=["value"],Xi=["value"],Li=["max"],Gi={class:"flex justify-end space-x-3 mt-6"},Hi=["disabled"],Wi={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ki={class:"bg-white rounded-lg p-6 w-full max-w-md"},Ji={class:"text-lg font-bold mb-4"},Qi={class:"space-y-4"},Zi={class:"flex items-center space-x-2"},Yi={key:0},el={class:"flex justify-end space-x-3 mt-6"},tl=["disabled"];function sl(v,o,j,r,A,c){return d(),l("div",On,[e("div",Nn,[e("div",Xn,[e("div",Ln,[o[12]||(o[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Soldes & Payouts"),e("p",{class:"text-gray-600"},"Consultez vos soldes et gérez vos demandes de payout")],-1)),e("button",{onClick:o[0]||(o[0]=i=>v.$router.push("/organizer/payouts/history")),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...o[11]||(o[11]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),B(" Historique Payouts ",-1)])])])]),r.loading?(d(),l("div",Gn,[...o[13]||(o[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(d(),l("div",Hn,[e("div",Wn,[e("div",Kn,[e("div",Jn,[o[15]||(o[15]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Qn,[o[14]||(o[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",Zn,u(r.formatAmount(r.totalBalance))+" XAF",1)])])]),e("div",Yn,[e("div",ei,[o[17]||(o[17]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ti,[o[16]||(o[16]=e("p",{class:"text-sm text-gray-600"},"Payouts en Cours",-1)),e("p",si,u(r.stats.pending_payouts||0),1)])])]),e("div",oi,[e("div",ri,[o[19]||(o[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",ai,[o[18]||(o[18]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",ni,u(r.formatAmount(r.stats.total_payouts||0))+" XAF",1)])])])]),e("div",ii,[(d(!0),l(O,null,X(r.balances,i=>(d(),l("div",{key:i.gateway,class:"bg-white rounded-lg shadow p-6"},[e("div",li,[e("div",di,[e("div",{class:N(["p-2 rounded-lg mr-4",r.getGatewayBadgeClass(i.gateway)])},[...o[20]||(o[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("h3",ui,u(r.getGatewayName(i.gateway)),1),o[21]||(o[21]=e("p",{class:"text-sm text-gray-600"},"Solde disponible",-1))])]),e("div",mi,[e("p",pi,u(r.formatAmount(i.balance))+" XAF",1)])]),e("div",ci,[e("div",gi,[o[22]||(o[22]=e("span",{class:"text-sm font-medium text-gray-700"},"Payout Automatique",-1)),e("span",{class:N(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",i.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},u(i.auto_payout_enabled?"Activé":"Désactivé"),3)]),i.auto_payout_enabled?(d(),l("div",fi,[e("p",null,"Seuil: "+u(r.formatAmount(i.auto_payout_threshold))+" XAF",1),i.payout_phone_number?(d(),l("p",bi,"Téléphone: "+u(i.payout_phone_number),1)):I("",!0)])):I("",!0)]),e("div",vi,[e("button",{onClick:$=>r.requestPayout(i),disabled:i.balance<1e3,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o[23]||(o[23]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),B(" "+u(i.balance<1e3?"Solde insuffisant (min 1000 XAF)":"Demander un Payout"),1)],8,xi),e("button",{onClick:$=>r.configureAutoPayout(i),class:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700"},[...o[24]||(o[24]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),B(" Configurer Auto-Payout ",-1)])],8,yi)]),e("div",_i,[o[25]||(o[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Dernières transactions",-1)),r.getRecentPayouts(i.gateway).length===0?(d(),l("div",hi," Aucune transaction récente ")):(d(),l("div",wi,[(d(!0),l(O,null,X(r.getRecentPayouts(i.gateway),$=>(d(),l("div",{key:$.id,class:"flex justify-between items-center text-sm"},[e("div",null,[e("span",ki,u(r.formatAmount($.amount))+" XAF",1),e("span",$i,u(r.formatDate($.created_at)),1)]),e("span",{class:N(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.getPayoutStatusClass($.status)])},u(r.getPayoutStatusName($.status)),3)]))),128))]))])]))),128))]),e("div",Ci,[e("div",Ei,[e("div",ji,[o[26]||(o[26]=e("h2",{class:"text-xl font-bold"},"Payouts Récents",-1)),e("button",{onClick:o[1]||(o[1]=i=>v.$router.push("/organizer/payouts/history")),class:"text-blue-600 hover:text-blue-800 text-sm"},"Voir tout")])]),r.recentPayouts.length===0?(d(),l("div",Ai," Aucun payout récent ")):(d(),l("div",Si,[e("table",Pi,[o[27]||(o[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",Vi,[(d(!0),l(O,null,X(r.recentPayouts,i=>(d(),l("tr",{key:i.id},[e("td",zi,"#"+u(i.reference),1),e("td",Di,[e("span",{class:N(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.getGatewayBadgeClass(i.gateway)])},u(r.getGatewayName(i.gateway)),3)]),e("td",Ti,u(r.formatAmount(i.amount))+" XAF",1),e("td",Ii,[e("span",{class:N(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.getPayoutStatusClass(i.status)])},u(r.getPayoutStatusName(i.status)),3)]),e("td",Ui,[e("span",{class:N(["inline-flex px-2 py-1 text-xs rounded-full",i.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},u(i.is_automatic?"Auto":"Manuel"),3)]),e("td",Bi,u(r.formatDateTime(i.created_at)),1),e("td",Fi,[e("button",{onClick:$=>r.viewPayoutDetails(i),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,Mi)])]))),128))])])]))])])),r.showPayoutModal?(d(),l("div",qi,[e("div",Ri,[o[34]||(o[34]=e("h3",{class:"text-lg font-bold mb-4"},"Demande de Payout",-1)),e("form",{onSubmit:o[5]||(o[5]=se((...i)=>r.submitPayoutRequest&&r.submitPayoutRequest(...i),["prevent"]))},[e("div",Oi,[e("div",null,[o[28]||(o[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:r.getGatewayName(r.payoutForm.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,Ni)]),e("div",null,[o[29]||(o[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Disponible",-1)),e("input",{value:r.formatAmount(r.payoutForm.available_balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,Xi)]),e("div",null,[o[30]||(o[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant à retirer (XAF)",-1)),_(e("input",{"onUpdate:modelValue":o[2]||(o[2]=i=>r.payoutForm.amount=i),type:"number",min:1e3,max:r.payoutForm.available_balance,required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Li),[[E,r.payoutForm.amount,void 0,{number:!0}]]),o[31]||(o[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum: 1,000 XAF",-1))]),e("div",null,[o[32]||(o[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),_(e("input",{"onUpdate:modelValue":o[3]||(o[3]=i=>r.payoutForm.phone_number=i),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[E,r.payoutForm.phone_number]]),o[33]||(o[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro sans indicatif pays",-1))])]),e("div",Gi,[e("button",{type:"button",onClick:o[4]||(o[4]=i=>r.showPayoutModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:r.requestingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},u(r.requestingPayout?"Demande en cours...":"Demander le Payout"),9,Hi)])],32)])])):I("",!0),r.showConfigModal?(d(),l("div",Wi,[e("div",Ki,[e("h3",Ji,"Configuration Auto-Payout - "+u(r.getGatewayName(r.configForm.gateway)),1),e("form",{onSubmit:o[10]||(o[10]=se((...i)=>r.saveAutoPayoutConfig&&r.saveAutoPayoutConfig(...i),["prevent"]))},[e("div",Qi,[e("div",null,[e("label",Zi,[_(e("input",{type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=i=>r.configForm.auto_payout_enabled=i),class:"rounded border-gray-300"},null,512),[[ue,r.configForm.auto_payout_enabled]]),o[35]||(o[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),r.configForm.auto_payout_enabled?(d(),l("div",Yi,[o[36]||(o[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),_(e("input",{"onUpdate:modelValue":o[7]||(o[7]=i=>r.configForm.auto_payout_threshold=i),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[E,r.configForm.auto_payout_threshold,void 0,{number:!0}]]),o[37]||(o[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):I("",!0),e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),_(e("input",{"onUpdate:modelValue":o[8]||(o[8]=i=>r.configForm.payout_phone_number=i),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[E,r.configForm.payout_phone_number]]),o[39]||(o[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts automatiques",-1))])]),e("div",el,[e("button",{type:"button",onClick:o[9]||(o[9]=i=>r.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:r.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},u(r.savingConfig?"Enregistrement...":"Enregistrer"),9,tl)])],32)])])):I("",!0)])])}const ol=ae(Rn,[["render",sl],["__scopeId","data-v-e6c5fcd5"]]),Ql=Object.freeze(Object.defineProperty({__proto__:null,default:ol},Symbol.toStringTag,{value:"Module"})),rl={class:"organizer-profile min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},al={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},nl={key:0,class:"flex justify-center items-center h-64"},il={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ll={class:"bg-white rounded-primea shadow-primea p-6"},dl={class:"flex items-center justify-between mb-6"},ul=["disabled"],ml=["disabled"],pl=["disabled"],cl={key:0,class:"flex space-x-3 pt-4"},gl=["disabled"],fl={class:"bg-white rounded-primea shadow-primea p-6"},bl={class:"flex items-center justify-between mb-6"},vl=["disabled"],xl=["disabled"],yl=["disabled"],_l=["disabled"],hl=["disabled"],wl={key:0,class:"flex space-x-3 pt-4"},kl=["disabled"],$l={class:"bg-white rounded-primea shadow-primea p-6"},Cl=["disabled"],El={class:"bg-white rounded-primea shadow-primea p-6"},jl={class:"space-y-4"},Al={class:"flex items-center justify-between p-3 bg-green-50 rounded-primea"},Sl={class:"flex items-center space-x-3"},Pl={class:"text-xs text-green-600 font-primea"},Vl={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-primea"},zl={class:"flex items-center space-x-3"},Dl={class:"text-xs text-blue-600 font-primea"},Tl={class:"grid grid-cols-2 gap-4 pt-4"},Il={class:"text-center p-3 border rounded-primea"},Ul={class:"text-2xl font-bold text-primea-blue font-primea"},Bl={class:"text-center p-3 border rounded-primea"},Fl={class:"text-2xl font-bold text-primea-yellow font-primea"},Ml={__name:"OrganizerProfile",setup(v){we();const o=C(!1),j=C(!1),r=C(!1),A=C(!1),c=C(!1),i=C(!1),$=C(null),a=C(null),P=C({events:0,tickets:0}),D=Q({name:"",email:"",phone:""}),p=Q({name:"",description:"",website_url:"",contact_email:"",contact_phone:""}),F=Q({current_password:"",password:"",password_confirmation:""}),W=Q({}),L=Q({}),S=()=>{j.value||Object.assign(W,D),j.value=!j.value},f=()=>{r.value||Object.assign(L,p),r.value=!r.value},q=()=>{Object.assign(D,W),j.value=!1},T=()=>{Object.assign(p,L),r.value=!1},J=async()=>{A.value=!0;try{console.log("Mise à jour des informations personnelles:",D),await new Promise(g=>setTimeout(g,1e3)),j.value=!1}catch(g){console.error("Erreur lors de la mise à jour:",g)}finally{A.value=!1}},Z=async()=>{c.value=!0;try{console.log("Mise à jour de l'organisation:",p),await new Promise(g=>setTimeout(g,1e3)),r.value=!1}catch(g){console.error("Erreur lors de la mise à jour:",g)}finally{c.value=!1}},Y=async()=>{if(F.password!==F.password_confirmation){alert("Les mots de passe ne correspondent pas");return}i.value=!0;try{console.log("Changement de mot de passe"),await new Promise(g=>setTimeout(g,1e3)),Object.assign(F,{current_password:"",password:"",password_confirmation:""})}catch(g){console.error("Erreur lors du changement de mot de passe:",g)}finally{i.value=!1}},x=g=>g?new Date(g).toLocaleDateString("fr-FR"):"Non disponible",V=async()=>{o.value=!0;try{$.value={name:"Marie Nzougou",email:"marie@example.com",phone:"+225 07 12 34 56 78",email_verified_at:"2024-01-15T10:30:00Z"},a.value={name:"Mon Organisation",description:"Organisation spécialisée dans l'événementiel",website_url:"https://monorganisation.com",contact_email:"contact@monorganisation.com",contact_phone:"+225 07 12 34 56 79",verified_at:"2024-01-20T14:00:00Z"},P.value={events:12,tickets:345},Object.assign(D,{name:$.value.name,email:$.value.email,phone:$.value.phone}),Object.assign(p,{name:a.value.name,description:a.value.description,website_url:a.value.website_url,contact_email:a.value.contact_email,contact_phone:a.value.contact_phone})}catch(g){console.error("Erreur lors du chargement du profil:",g)}finally{o.value=!1}};return re(()=>{V()}),(g,t)=>(d(),l("div",rl,[e("div",al,[t[31]||(t[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon Profil Organisateur"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez vos informations personnelles et celles de votre organisation")],-1)),o.value?(d(),l("div",nl,[...t[11]||(t[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):(d(),l("div",il,[e("div",ll,[e("div",dl,[t[12]||(t[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Informations Personnelles",-1)),e("button",{onClick:S,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(k(fe),{class:"w-5 h-5"})])]),e("form",{onSubmit:se(J,["prevent"]),class:"space-y-4"},[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom complet",-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>D.name=s),type:"text",disabled:!j.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Votre nom complet"},null,8,ul),[[E,D.name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email",-1)),_(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>D.email=s),type:"email",disabled:!j.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"votre@email.com"},null,8,ml),[[E,D.email]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone",-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>D.phone=s),type:"tel",disabled:!j.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,pl),[[E,D.phone]])]),j.value?(d(),l("div",cl,[e("button",{type:"submit",disabled:A.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},u(A.value?"Enregistrement...":"Enregistrer"),9,gl),e("button",{type:"button",onClick:q,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):I("",!0)],32)]),e("div",fl,[e("div",bl,[t[16]||(t[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Mon Organisation",-1)),e("button",{onClick:f,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(k(fe),{class:"w-5 h-5"})])]),e("form",{onSubmit:se(Z,["prevent"]),class:"space-y-4"},[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom de l'organisation",-1)),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>p.name=s),type:"text",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Nom de votre organisation"},null,8,vl),[[E,p.name]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),_(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>p.description=s),disabled:!r.value,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea resize-none",placeholder:"Décrivez votre organisation..."},null,8,xl),[[E,p.description]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Site web",-1)),_(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>p.website_url=s),type:"url",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"https://votresite.com"},null,8,yl),[[E,p.website_url]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email de contact",-1)),_(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>p.contact_email=s),type:"email",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"contact@organisation.com"},null,8,_l),[[E,p.contact_email]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone de contact",-1)),_(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>p.contact_phone=s),type:"tel",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,hl),[[E,p.contact_phone]])]),r.value?(d(),l("div",wl,[e("button",{type:"submit",disabled:c.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},u(c.value?"Enregistrement...":"Enregistrer"),9,kl),e("button",{type:"button",onClick:T,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):I("",!0)],32)]),e("div",$l,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Sécurité",-1)),e("form",{onSubmit:se(Y,["prevent"]),class:"space-y-4"},[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Mot de passe actuel",-1)),_(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>F.current_password=s),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Votre mot de passe actuel"},null,512),[[E,F.current_password]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nouveau mot de passe",-1)),_(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>F.password=s),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nouveau mot de passe"},null,512),[[E,F.password]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Confirmer le mot de passe",-1)),_(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>F.password_confirmation=s),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[E,F.password_confirmation]])]),e("button",{type:"submit",disabled:i.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},u(i.value?"Mise à jour...":"Changer le mot de passe"),9,Cl)],32)]),e("div",El,[t[30]||(t[30]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Statut du Compte",-1)),e("div",jl,[e("div",Al,[e("div",Sl,[b(k(De),{class:"w-5 h-5 text-green-600"}),t[26]||(t[26]=e("span",{class:"text-sm font-medium text-green-800 font-primea"},"Compte vérifié",-1))]),e("span",Pl,u(x($.value?.email_verified_at)),1)]),a.value?.verified_at?(d(),l("div",Vl,[e("div",zl,[b(k(Te),{class:"w-5 h-5 text-blue-600"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium text-blue-800 font-primea"},"Organisation certifiée",-1))]),e("span",Dl,u(x(a.value.verified_at)),1)])):I("",!0),e("div",Tl,[e("div",Il,[e("p",Ul,u(P.value.events||0),1),t[28]||(t[28]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements créés",-1))]),e("div",Bl,[e("p",Fl,u(P.value.tickets||0),1),t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1))])])])])]))])]))}},ql=ae(Ml,[["__scopeId","data-v-88f51db0"]]),Zl=Object.freeze(Object.defineProperty({__proto__:null,default:ql},Symbol.toStringTag,{value:"Module"}));export{Ql as B,Hl as E,Gl as O,R as a,Wl as b,Kl as c,Jl as d,Zl as e,Ll as g,Xl as t};
