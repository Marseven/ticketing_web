import{b as $,Y as Q,d as ee,Z as re,j as u,o as m,k as e,t as p,a1 as h,l as b,a2 as me,a3 as we,g as de,O as be,w as K,a4 as oe,a as ie,y as ve,N as ke,e as $e,a5 as Ce,G as q,H as N,q as O,p as B,n as T,D as y,E as C,F as ne,P as Ee,X as je,_ as Ae,J as ce,K as xe,a6 as fe,R as ge,T as ye,a7 as Se,L as Pe,a8 as Ve,u as _e,W as se,a9 as pe,$ as ue,C as ze,S as De}from"./vue-vendor-CDZB1Wme.js";import{_ as ae,u as he}from"./account-SYOFlVBk.js";import{a as le,S as I}from"./vendor-BvANJOFB.js";const M=le.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json",Accept:"application/json"}});M.interceptors.request.use(async v=>{const s=localStorage.getItem("auth_token")||localStorage.getItem("token");s&&(v.headers.Authorization=`Bearer ${s}`);const E=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");return E&&(v.headers["X-CSRF-TOKEN"]=E),v.headers["X-Requested-With"]="XMLHttpRequest",v},v=>Promise.reject(v));M.interceptors.response.use(v=>v,v=>(v.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(v)));const Nl={getTicket(v){return M.get(`/tickets/${v}`)},retrieveTickets(v){return M.get(`/tickets/retrieve/${v}`)},validateTicket(v,s="validate"){return M.post("/tickets/validate",{qr_code:v,action:s})},searchTickets(v){const{reference:s,phone:E,email:o}=v;return s?this.getTicket(s):o||E?new Promise((j,g)=>{setTimeout(()=>{o?.includes("test")||E?.includes("123")||s?.includes("TKT")?j({data:{tickets:[{id:1,code:"TKT-2024-ABC123",status:"issued",event:{id:1,title:"L'OISEAU RARE",slug:"oiseau-rare",image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",venue_name:"Entre Nous Bar"},ticket_type:{id:1,name:"Standard",description:"Accès standard"},buyer:{name:"John Doe",email:o||"john@example.com"},issued_at:"27/07/2025 10:00:00",used_at:null,schedule:{starts_at:"27/07/2025 20:00:00",ends_at:"27/07/2025 23:00:00",door_time:"27/07/2025 19:30:00"}}]}}):g(new Error("Aucun ticket trouvé avec ces informations"))},1500)}):Promise.reject(new Error("Veuillez fournir au moins un critère de recherche"))}},Xl={createGuestOrder(v){return le.post("/api/guest/orders",v,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestOrder(v){return le.get(`/api/guest/orders/${v}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestTicket(v){return le.get(`/api/guest/tickets/${v}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},retrieveGuestTickets(v){return le.get(`/api/guest/tickets/retrieve/${encodeURIComponent(v)}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})}},H={getDashboardStats(){return M.get("/organizer/dashboard/stats")},getRecentEvents(){return M.get("/organizer/events/recent")},getNotifications(){return M.get("/organizer/notifications")},getEvents(v={}){return M.get("/organizer/events",{params:v})},createEvent(v){return M.post("/organizer/events",v)},updateEvent(v,s){return M.put(`/organizer/events/${v}`,s)},getEvent(v){return M.get(`/organizer/events/${v}`)},getEventStats(v){return M.get(`/organizer/events/${v}/stats`)},getBalance(){return M.get("/organizer/balance")},getPaymentHistory(){return M.get("/organizer/payments")},getProfile(){return M.get("/organizer/profile")},updateProfile(v){return M.put("/organizer/profile",v)},uploadAvatar(v){return M.post("/organizer/profile/avatar",v,{headers:{"Content-Type":"multipart/form-data"}})},getCategories(){return M.get("/categories")},getVenues(){return M.get("/venues")}},Te={class:"organizer-dashboard min-h-screen"},Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Be={class:"mb-8"},Fe={class:"flex items-center justify-between"},Ue={class:"flex items-center space-x-4"},Me={class:"text-right"},qe={class:"text-sm font-semibold text-primea-blue font-primea"},Re={key:0,class:"w-12 h-12 rounded-full overflow-hidden"},Oe=["src","alt"],Ne={key:1,class:"w-12 h-12 bg-primea-blue text-white rounded-full flex items-center justify-center"},Xe={class:"text-lg font-bold font-primea"},Le={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Ge={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-blue"},He={class:"flex items-center"},We={class:"p-2 bg-primea-blue/10 rounded-lg"},Ke={class:"ml-4"},Je={class:"text-2xl font-bold text-primea-blue font-primea"},Qe={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-green-500"},Ze={class:"flex items-center"},Ye={class:"p-2 bg-green-100 rounded-lg"},et={class:"ml-4"},tt={class:"text-2xl font-bold text-green-600 font-primea"},st={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-yellow"},ot={class:"flex items-center"},rt={class:"p-2 bg-primea-yellow/10 rounded-lg"},at={class:"ml-4"},nt={class:"text-2xl font-bold text-primea-yellow font-primea"},it={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-purple-500"},lt={class:"flex items-center"},dt={class:"p-2 bg-purple-100 rounded-lg"},ut={class:"ml-4"},mt={class:"text-2xl font-bold text-purple-600 font-primea"},pt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},ct={class:"lg:col-span-2"},gt={class:"bg-white rounded-primea shadow-primea p-6"},ft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},bt={class:"bg-white rounded-primea shadow-primea p-6"},vt={class:"space-y-4"},xt={key:0,class:"text-center text-gray-500 py-8"},yt={class:"text-sm font-medium font-primea"},_t={class:"text-xs text-gray-600 mt-1"},ht={class:"text-xs text-gray-400 mt-2"},wt={class:"bg-white rounded-primea shadow-primea overflow-hidden"},kt={class:"p-6 border-b border-gray-200"},$t={class:"flex items-center justify-between"},Ct={key:0,class:"p-8 text-center text-gray-500"},Et={key:1,class:"overflow-x-auto"},jt={class:"w-full"},At={class:"divide-y divide-gray-200"},St={class:"px-6 py-4"},Pt={class:"text-sm font-medium text-gray-900 font-primea"},Vt={class:"text-sm text-gray-500"},zt={class:"px-6 py-4 text-sm text-gray-900 font-primea"},Dt={class:"px-6 py-4"},Tt={class:"px-6 py-4 text-sm text-gray-900 font-primea"},It={class:"px-6 py-4 text-sm"},Bt={__name:"OrganizerDashboard",setup(v){const s=he(),E=$(!1),o=Q({total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),j=$([]),g=$([]),d=ee(()=>{const A=s.user;return A?.name?A.name.split(" ").map(f=>f[0]).join("").toUpperCase().slice(0,2):"U"}),k=ee(()=>s.user?.avatar_url||null),r=async()=>{E.value=!0;try{const[A,f,U]=await Promise.all([H.getDashboardStats(),H.getRecentEvents(),H.getNotifications()]);Object.assign(o,A.data.data||{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),j.value=f.data.data||[],g.value=U.data.data||[]}catch(A){console.error("Erreur lors du chargement du dashboard:",A),Object.assign(o,{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),j.value=[],g.value=[]}finally{E.value=!1}},S=A=>new Intl.NumberFormat("fr-FR").format(A),z=A=>new Date(A).toLocaleDateString("fr-FR"),c=A=>new Date(A).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=A=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[A]||A,W=A=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[A]||"bg-gray-100 text-gray-800",X=A=>({success:"border-green-500",warning:"border-yellow-500",error:"border-red-500",info:"border-blue-500"})[A]||"border-gray-300";return re(()=>{r()}),(A,f)=>{const U=ie("router-link");return m(),u("div",Te,[e("div",Ie,[e("div",Be,[e("div",Fe,[f[1]||(f[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea mb-2"},"Tableau de Bord Organisateur"),e("p",{class:"text-gray-600 font-primea"},"Bienvenue dans votre espace de gestion d'événements")],-1)),e("div",Ue,[e("div",Me,[f[0]||(f[0]=e("p",{class:"text-sm text-gray-500 font-primea"},"Dernière connexion",-1)),e("p",qe,p(z(new Date)),1)]),k.value?(m(),u("div",Re,[e("img",{src:k.value,alt:h(s).user?.name,class:"w-full h-full object-cover"},null,8,Oe)])):(m(),u("div",Ne,[e("span",Xe,p(d.value),1)]))])])]),e("div",Le,[e("div",Ge,[e("div",He,[e("div",We,[b(h(me),{class:"w-6 h-6 text-primea-blue"})]),e("div",Ke,[f[2]||(f[2]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Total",-1)),e("p",Je,p(o.total_events),1)])])]),e("div",Qe,[e("div",Ze,[e("div",Ye,[b(h(we),{class:"w-6 h-6 text-green-600"})]),e("div",et,[f[3]||(f[3]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Actifs",-1)),e("p",tt,p(o.active_events),1)])])]),e("div",st,[e("div",ot,[e("div",rt,[b(h(de),{class:"w-6 h-6 text-primea-yellow"})]),e("div",at,[f[4]||(f[4]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets Vendus",-1)),e("p",nt,p(o.tickets_sold),1)])])]),e("div",it,[e("div",lt,[e("div",dt,[b(h(be),{class:"w-6 h-6 text-purple-600"})]),e("div",ut,[f[5]||(f[5]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",mt,p(S(o.total_revenue))+" XAF",1)])])])]),e("div",pt,[e("div",ct,[e("div",gt,[f[10]||(f[10]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Actions Rapides",-1)),e("div",ft,[b(U,{to:{name:"organizer-event-create"},class:"flex items-center p-4 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:K(()=>[b(h(oe),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[6]||(f[6]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Créer un Événement"),e("p",{class:"text-sm opacity-90"},"Nouveau projet d'événement")],-1))]),_:1}),b(U,{to:{name:"organizer-events"},class:"flex items-center p-4 border-2 border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 group"},{default:K(()=>[b(h(ve),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[7]||(f[7]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-white"},"Gérer les Événements"),e("p",{class:"text-sm opacity-70 group-hover:text-white group-hover:opacity-90"},"Voir et modifier")],-1))]),_:1}),b(U,{to:{name:"organizer-balance"},class:"flex items-center p-4 border-2 border-primea-yellow text-primea-yellow rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:K(()=>[b(h(ke),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[8]||(f[8]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-primea-blue"},"Gestion Financière"),e("p",{class:"text-sm opacity-70 group-hover:text-primea-blue group-hover:opacity-90"},"Soldes et payouts")],-1))]),_:1}),b(U,{to:{name:"organizer-profile"},class:"flex items-center p-4 border-2 border-gray-400 text-gray-600 rounded-primea hover:bg-gray-400 hover:text-white transition-all duration-200 group"},{default:K(()=>[b(h($e),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),f[9]||(f[9]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Mon Profil"),e("p",{class:"text-sm opacity-70"},"Informations personnelles")],-1))]),_:1})])])]),e("div",bt,[f[12]||(f[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Notifications",-1)),e("div",vt,[g.value.length===0?(m(),u("div",xt,[b(h(Ce),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),f[11]||(f[11]=e("p",{class:"font-primea"},"Aucune notification",-1))])):(m(!0),u(q,{key:1},N(g.value,D=>(m(),u("div",{key:D.id,class:O(["p-3 bg-gray-50 rounded-primea border-l-4",X(D.type)])},[e("p",yt,p(D.title),1),e("p",_t,p(D.message),1),e("p",ht,p(c(D.created_at)),1)],2))),128))])])]),e("div",wt,[e("div",kt,[e("div",$t,[f[14]||(f[14]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Événements Récents",-1)),b(U,{to:{name:"organizer-events"},class:"text-primea-blue hover:text-primea-yellow transition-colors font-primea text-sm"},{default:K(()=>[...f[13]||(f[13]=[B(" Voir tous ",-1)])]),_:1})])]),j.value.length===0?(m(),u("div",Ct,[b(h(me),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),f[16]||(f[16]=e("p",{class:"font-primea text-lg"},"Aucun événement créé",-1)),f[17]||(f[17]=e("p",{class:"font-primea text-sm mt-2"},"Commencez par créer votre premier événement",-1)),b(U,{to:{name:"organizer-event-create"},class:"inline-flex items-center mt-4 px-4 py-2 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:K(()=>[b(h(oe),{class:"w-4 h-4 mr-2"}),f[15]||(f[15]=B(" Créer un événement ",-1))]),_:1})])):(m(),u("div",Et,[e("table",jt,[f[19]||(f[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Actions")])],-1)),e("tbody",At,[(m(!0),u(q,null,N(j.value,D=>(m(),u("tr",{key:D.id,class:"hover:bg-gray-50"},[e("td",St,[e("div",null,[e("p",Pt,p(D.title),1),e("p",Vt,p(D.venue_name),1)])]),e("td",zt,p(z(D.event_date)),1),e("td",Dt,[e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",W(D.status)])},p(F(D.status)),3)]),e("td",Tt,p(D.tickets_sold||0),1),e("td",It,[b(U,{to:{name:"organizer-event-detail",params:{slug:D.slug}},class:"text-primea-blue hover:text-primea-yellow font-primea"},{default:K(()=>[...f[18]||(f[18]=[B(" Gérer ",-1)])]),_:1},8,["to"])])]))),128))])])]))])])])}}},Ft=ae(Bt,[["__scopeId","data-v-1685f411"]]),Ll=Object.freeze(Object.defineProperty({__proto__:null,default:Ft},Symbol.toStringTag,{value:"Module"})),Ut={name:"OrganizerEvents",components:{PlusIcon:oe},setup(){const v=ce(),s=$(""),E=$(""),o=$("grid"),j=$(!1),g=$([]),d=Q({current:1,total:1,perPage:15}),k=async()=>{j.value=!0;try{const P=(await H.getEvents({page:d.current,status:E.value,search:s.value})).data.data.events;g.value=P.data.map(a=>({...a,tickets_sold:a.tickets?.filter(t=>["issued","used"].includes(t.status)).length||0,total_tickets:a.ticket_types?.reduce((t,l)=>t+l.capacity,0)||0,revenue:a.tickets?.filter(t=>["issued","used"].includes(t.status)).reduce((t,l)=>t+(l.ticket_type?.price||0),0)||0,venue:a.venue?.name||"",date:a.event_date||a.schedules?.[0]?.starts_at,isFavorite:!1})),d.current=P.current_page,d.total=P.last_page,d.perPage=P.per_page}catch(x){console.error("Erreur chargement événements:",x),I.fire({icon:"error",title:"Erreur",text:"Impossible de charger les événements"})}finally{j.value=!1}},r=ee(()=>{let x=[...g.value];if(s.value){const P=s.value.toLowerCase();x=x.filter(a=>a.title.toLowerCase().includes(P)||a.venue.toLowerCase().includes(P))}return E.value&&(x=x.filter(P=>P.status===E.value)),x}),S=ee(()=>{const x=g.value.filter(l=>l.is_active&&l.status!=="cancelled").length,P=g.value.filter(l=>!l.is_active).length,a=g.value.reduce((l,i)=>l+(i.tickets_sold||0),0),t=g.value.reduce((l,i)=>l+(i.revenue||0),0);return{published:x,draft:P,totalTicketsSold:a,totalRevenue:t}}),z=x=>new Intl.NumberFormat("fr-FR").format(x),c=(x,P="full")=>{const a=new Date(x);return P==="short"?a.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):a.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},F=x=>x.is_active?x.status==="cancelled"?"bg-red-100 text-red-800":new Date(x.date)<new Date?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",W=x=>x.is_active?x.status==="cancelled"?"Annulé":new Date(x.date)<new Date?"Terminé":"Actif":"Brouillon",X=x=>{x.isFavorite=!x.isFavorite},A=async x=>{try{const P={title:`${x.title} (Copie)`,description:x.description,event_date:x.date,venue_id:x.venue_id,category_id:x.category_id,is_active:!1};await H.createEvent(P),await k(),I.fire({icon:"success",title:"Succès",text:"Événement dupliqué avec succès"})}catch{I.fire({icon:"error",title:"Erreur",text:"Impossible de dupliquer l'événement"})}},f=x=>{v.push({name:"organizer-event-edit",params:{slug:x.slug}})},U=async x=>{if((await I.fire({title:"Êtes-vous sûr ?",text:`Voulez-vous vraiment supprimer l'événement "${x.title}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{await k(),I.fire("Supprimé !","L'événement a été supprimé.","success")}catch{I.fire({icon:"error",title:"Erreur",text:"Impossible de supprimer l'événement"})}};Ae([s,E],()=>{d.current=1,k()},{debounce:300});const D=x=>{d.current=x,k()},J=(x,P="400")=>{const a=x.image_url||x.image;return a?a.startsWith("http")||a.startsWith("/")?a:`/storage/events/${a}`:`https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=${P}&h=${P}&fit=crop&crop=center`},Z=x=>{console.log("Erreur de chargement d'image:",x.target.src),x.target.src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400&h=300&fit=crop&crop=center"},Y=x=>{console.log("Image chargée avec succès:",x.target.src)};return re(()=>{k()}),{searchQuery:s,statusFilter:E,viewMode:o,loading:j,events:g,filteredEvents:r,stats:S,pagination:d,formatPrice:z,formatEventDate:c,getStatusClass:F,getStatusText:W,toggleFavorite:X,duplicateEvent:A,editEvent:f,deleteEvent:U,loadEvents:k,changePage:D,getEventImageUrl:J,handleImageError:Z,handleImageLoad:Y}}},Mt={class:"organizer-events min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},qt={class:"bg-white shadow-sm border-b border-gray-200"},Rt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ot={class:"flex items-center justify-between"},Nt={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},Xt={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Lt={class:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6"},Gt={class:"flex items-center space-x-4"},Ht={class:"relative"},Wt={class:"flex items-center space-x-4"},Kt={class:"text-sm text-gray-600"},Jt={class:"flex bg-gray-100 rounded-lg p-1"},Qt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Zt={class:"text-center"},Yt={class:"text-2xl font-bold text-blue-600"},es={class:"text-center"},ts={class:"text-2xl font-bold text-yellow-600"},ss={class:"text-center"},os={class:"text-2xl font-bold text-green-600"},rs={class:"text-center"},as={class:"text-2xl font-bold text-purple-600"},ns={key:0},is={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ls={class:"relative"},ds=["src","alt"],us={class:"absolute top-4 left-4"},ms={class:"absolute top-4 right-4"},ps=["onClick"],cs={class:"p-6"},gs={class:"text-lg font-bold text-gray-800 mb-2"},fs={class:"text-gray-600 text-sm mb-4"},bs={class:"flex items-center justify-between mb-4"},vs={class:"text-sm text-gray-600 font-primea"},xs={class:"font-medium font-primea"},ys={class:"text-sm font-bold text-green-600 font-primea"},_s={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},hs={class:"flex space-x-2"},ws=["onClick"],ks={key:1,class:"bg-white rounded-lg shadow-md overflow-hidden"},$s={class:"w-full"},Cs={class:"bg-white divide-y divide-gray-200"},Es={class:"px-6 py-4 whitespace-nowrap"},js={class:"flex items-center"},As=["src","alt"],Ss={class:"text-sm font-medium text-gray-900"},Ps={class:"text-sm text-gray-500"},Vs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},zs={class:"px-6 py-4 whitespace-nowrap"},Ds={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},Ts={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 font-primea"},Is={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},Bs=["onClick"],Fs=["onClick"],Us={key:1,class:"text-center py-16"},Ms={class:"text-gray-600 mb-6"},qs={key:0},Rs={key:1},Os={key:2,class:"mt-8 flex justify-center"},Ns={class:"flex items-center space-x-2"},Xs=["disabled"],Ls=["onClick"],Gs={key:1,class:"px-2 text-gray-500"},Hs=["disabled"];function Ws(v,s,E,o,j,g){const d=ie("PlusIcon"),k=ie("router-link");return m(),u("div",Mt,[e("div",qt,[e("div",Rt,[e("div",Ot,[s[11]||(s[11]=e("div",null,[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mes Événements"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez tous vos événements en un seul endroit")],-1)),b(k,{to:{name:"organizer-event-create"},class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 shadow-primea"},{default:K(()=>[b(d,{class:"w-4 h-4 inline mr-2"}),s[10]||(s[10]=B(" Nouvel événement ",-1))]),_:1})])])]),e("div",Nt,[e("div",Xt,[e("div",Lt,[e("div",Gt,[e("div",Ht,[s[12]||(s[12]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=r=>o.searchQuery=r),placeholder:"Rechercher un événement...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[C,o.searchQuery]])]),y(e("select",{"onUpdate:modelValue":s[1]||(s[1]=r=>o.statusFilter=r),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...s[13]||(s[13]=[Ee('<option value="" data-v-e3f12453>Tous les statuts</option><option value="draft" data-v-e3f12453>Brouillons</option><option value="published" data-v-e3f12453>Publiés</option><option value="completed" data-v-e3f12453>Terminés</option><option value="cancelled" data-v-e3f12453>Annulés</option>',5)])],512),[[ne,o.statusFilter]])]),e("div",Wt,[e("div",Kt,p(o.filteredEvents.length)+" événement"+p(o.filteredEvents.length>1?"s":""),1),e("div",Jt,[e("button",{onClick:s[2]||(s[2]=r=>o.viewMode="grid"),class:O(["px-3 py-2 rounded-lg transition-colors",o.viewMode==="grid"?"bg-white shadow-sm":""])},[...s[14]||(s[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:s[3]||(s[3]=r=>o.viewMode="list"),class:O(["px-3 py-2 rounded-lg transition-colors",o.viewMode==="list"?"bg-white shadow-sm":""])},[...s[15]||(s[15]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])])]),e("div",Qt,[e("div",Zt,[e("p",Yt,p(o.stats.published),1),s[16]||(s[16]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1))]),e("div",es,[e("p",ts,p(o.stats.draft),1),s[17]||(s[17]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1))]),e("div",ss,[e("p",os,p(o.stats.totalTicketsSold),1),s[18]||(s[18]=e("p",{class:"text-sm text-gray-600"},"Tickets vendus",-1))]),e("div",rs,[e("p",as,p(o.formatPrice(o.stats.totalRevenue))+" XAF",1),s[19]||(s[19]=e("p",{class:"text-sm text-gray-600"},"Revenus",-1))])])]),o.filteredEvents.length>0?(m(),u("div",ns,[o.viewMode==="grid"?(m(),u("div",is,[(m(!0),u(q,null,N(o.filteredEvents,r=>(m(),u("div",{key:r.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",ls,[e("img",{src:o.getEventImageUrl(r),alt:r.title,class:"w-full h-48 object-cover",onError:s[4]||(s[4]=(...S)=>o.handleImageError&&o.handleImageError(...S)),onLoad:s[5]||(s[5]=(...S)=>o.handleImageLoad&&o.handleImageLoad(...S))},null,40,ds),e("div",us,[e("span",{class:O(["px-3 py-1 rounded-full text-xs font-semibold",o.getStatusClass(r.status)])},p(o.getStatusText(r.status)),3)]),e("div",ms,[e("button",{onClick:S=>o.toggleFavorite(r),class:"bg-white/90 p-2 rounded-full hover:bg-white transition-colors"},[(m(),u("svg",{class:O(["w-4 h-4",r.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...s[20]||(s[20]=[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])],2))],8,ps)])]),e("div",cs,[e("h3",gs,p(r.title),1),e("p",fs,p(o.formatEventDate(r.date)),1),e("div",bs,[e("div",vs,[e("span",xs,p(r.tickets_sold||0),1),B(" / "+p(r.total_tickets||0)+" tickets vendus ",1)]),e("div",ys,p(o.formatPrice(r.revenue||0))+" XAF ",1)]),e("div",_s,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:je({width:`${Math.min((r.ticketsSold||0)/(r.totalTickets||100)*100,100)}%`})},null,4)]),e("div",hs,[b(k,{to:{name:"organizer-event-detail",params:{slug:r.slug}},class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors"},{default:K(()=>[...s[21]||(s[21]=[B(" Voir détails ",-1)])]),_:1},8,["to"]),e("button",{onClick:S=>o.duplicateEvent(r),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"}," Dupliquer ",8,ws)])])]))),128))])):(m(),u("div",ks,[e("table",$s,[s[23]||(s[23]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ventes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Revenus"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Cs,[(m(!0),u(q,null,N(o.filteredEvents,r=>(m(),u("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",Es,[e("div",js,[e("img",{src:o.getEventImageUrl(r,"60"),alt:r.title,class:"w-12 h-12 object-cover rounded-lg mr-4",onError:s[6]||(s[6]=(...S)=>o.handleImageError&&o.handleImageError(...S)),onLoad:s[7]||(s[7]=(...S)=>o.handleImageLoad&&o.handleImageLoad(...S))},null,40,As),e("div",null,[e("div",Ss,p(r.title),1),e("div",Ps,p(r.venue),1)])])]),e("td",Vs,p(o.formatEventDate(r.date,"short")),1),e("td",zs,[e("span",{class:O(["px-2 py-1 rounded-full text-xs font-medium font-primea",o.getStatusClass(r)])},p(o.getStatusText(r)),3)]),e("td",Ds,p(r.tickets_sold||0)+" / "+p(r.total_tickets||0),1),e("td",Ts,p(o.formatPrice(r.revenue||0))+" XAF ",1),e("td",Is,[b(k,{to:{name:"organizer-event-detail",params:{slug:r.slug}},class:"text-blue-600 hover:text-blue-900"},{default:K(()=>[...s[22]||(s[22]=[B(" Voir ",-1)])]),_:1},8,["to"]),e("button",{onClick:S=>o.editEvent(r),class:"text-yellow-600 hover:text-yellow-900"}," Modifier ",8,Bs),e("button",{onClick:S=>o.deleteEvent(r),class:"text-red-600 hover:text-red-900"}," Supprimer ",8,Fs)])]))),128))])])]))])):(m(),u("div",Us,[s[25]||(s[25]=e("div",{class:"inline-block p-6 bg-gray-100 rounded-full mb-6"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),s[26]||(s[26]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Aucun événement trouvé",-1)),e("p",Ms,[o.searchQuery||o.statusFilter?(m(),u("span",qs," Aucun événement ne correspond à vos critères de recherche. ")):(m(),u("span",Rs," Commencez par créer votre premier événement ! "))]),b(k,{to:"/organizer/events/create",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-block"},{default:K(()=>[...s[24]||(s[24]=[B(" + Créer mon premier événement ",-1)])]),_:1})])),o.events.length>0&&o.pagination.total>1?(m(),u("div",Os,[e("nav",Ns,[e("button",{onClick:s[8]||(s[8]=r=>o.changePage(o.pagination.current-1)),disabled:o.pagination.current===1,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Précédent ",8,Xs),(m(!0),u(q,null,N(o.pagination.total,r=>(m(),u(q,{key:r},[r===1||r===o.pagination.total||r>=o.pagination.current-1&&r<=o.pagination.current+1?(m(),u("button",{key:0,onClick:S=>o.changePage(r),class:O(["px-3 py-2 text-sm font-medium rounded-lg font-primea",r===o.pagination.current?"bg-primea-blue text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"])},p(r),11,Ls)):r===o.pagination.current-2||r===o.pagination.current+2?(m(),u("span",Gs," ... ")):T("",!0)],64))),128)),e("button",{onClick:s[9]||(s[9]=r=>o.changePage(o.pagination.current+1)),disabled:o.pagination.current===o.pagination.total,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Suivant ",8,Hs)])])):T("",!0)])])}const Ks=ae(Ut,[["render",Ws],["__scopeId","data-v-e3f12453"]]),Gl=Object.freeze(Object.defineProperty({__proto__:null,default:Ks},Symbol.toStringTag,{value:"Module"})),Js={class:"event-detail min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Qs={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Zs={key:0,class:"flex justify-center items-center h-64"},Ys={key:1,class:"text-center py-16"},eo={class:"mb-4"},to={class:"text-gray-600 mb-6"},so={key:2},oo={class:"mb-8"},ro={class:"flex items-center justify-between"},ao={class:"flex items-center space-x-4"},no={class:"text-3xl font-bold text-primea-blue font-primea"},io={class:"flex items-center space-x-3"},lo={class:"flex space-x-2"},uo={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},mo={class:"bg-white rounded-primea shadow-primea p-6"},po={class:"flex items-center"},co={class:"p-2 bg-blue-100 rounded-lg"},go={class:"ml-4"},fo={class:"text-2xl font-bold text-blue-600 font-primea"},bo={class:"bg-white rounded-primea shadow-primea p-6"},vo={class:"flex items-center"},xo={class:"p-2 bg-green-100 rounded-lg"},yo={class:"ml-4"},_o={class:"text-2xl font-bold text-green-600 font-primea"},ho={class:"bg-white rounded-primea shadow-primea p-6"},wo={class:"flex items-center"},ko={class:"p-2 bg-yellow-100 rounded-lg"},$o={class:"ml-4"},Co={class:"text-2xl font-bold text-yellow-600 font-primea"},Eo={class:"bg-white rounded-primea shadow-primea p-6"},jo={class:"flex items-center"},Ao={class:"p-2 bg-purple-100 rounded-lg"},So={class:"ml-4"},Po={class:"text-lg font-bold text-purple-600 font-primea"},Vo={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},zo={class:"lg:col-span-2 space-y-6"},Do={class:"bg-white rounded-primea shadow-primea p-6"},To={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Io={class:"mt-1 text-gray-900 font-primea"},Bo={class:"mt-1 text-gray-900 font-primea"},Fo={class:"mt-1 text-gray-900 font-primea"},Uo={class:"md:col-span-2"},Mo={class:"mt-1 text-gray-900 font-primea leading-relaxed"},qo={class:"bg-white rounded-primea shadow-primea p-6"},Ro={key:0,class:"space-y-4"},Oo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},No={class:"mt-1 text-gray-900 font-primea"},Xo={class:"mt-1 text-gray-900 font-primea"},Lo={class:"mt-1 text-gray-900 font-primea"},Go={key:1,class:"text-center py-8 text-gray-500"},Ho={class:"bg-white rounded-primea shadow-primea p-6"},Wo={key:0,class:"space-y-4"},Ko={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-start"},Jo={class:"md:col-span-2"},Qo={class:"flex items-center justify-between mb-2"},Zo={class:"font-semibold text-gray-900 font-primea"},Yo={class:"text-gray-600 text-sm font-primea"},er={class:"text-center"},tr={class:"text-lg font-bold text-primea-blue font-primea"},sr={class:"text-center"},or={class:"text-sm font-primea"},rr={class:"font-medium text-gray-900"},ar={class:"font-medium text-gray-900"},nr={class:"text-xs text-gray-500 mt-1"},ir={key:1,class:"text-center py-8 text-gray-500"},lr={class:"bg-white rounded-primea shadow-primea p-6"},dr={key:0,class:"overflow-x-auto"},ur={class:"w-full"},mr={class:"divide-y divide-gray-200"},pr={class:"px-4 py-3 text-sm text-gray-900 font-primea"},cr={class:"px-4 py-3 text-sm text-gray-900 font-primea"},gr={class:"px-4 py-3 text-sm font-medium text-gray-900 font-primea"},fr={class:"px-4 py-3 text-sm text-gray-500 font-primea"},br={key:1,class:"text-center py-8 text-gray-500"},vr={class:"space-y-6"},xr={class:"bg-white rounded-primea shadow-primea p-6"},yr={class:"space-y-3"},_r={key:0,class:"bg-white rounded-primea shadow-primea p-6"},hr=["src","alt"],wr={class:"bg-white rounded-primea shadow-primea p-6"},kr={class:"space-y-3"},$r={class:"flex items-center justify-between"},Cr={class:"flex items-center justify-between"},Er={class:"flex items-center justify-between"},jr={class:"text-sm text-gray-600 font-primea"},Ar={__name:"EventDetail",setup(v){const s=_e(),E=ce(),o=$(!0),j=$(null),g=$(null),d=$([]),k=async()=>{o.value=!0,j.value=null;try{let a=s.params.slug,t;if(/^\d+$/.test(a))t=(await H.getEvent(a)).data.data;else try{const i=await H.getEvents();if(t=(i.data.data.events.data||i.data.data.events).find(R=>R.slug===a),!t)throw new Error(`Événement avec le slug "${a}" non trouvé`)}catch{throw new Error(`Événement avec le slug "${a}" non trouvé`)}if(!t)throw new Error("Événement introuvable");g.value={...t,venue_name:t.venue?.name||"Lieu non spécifié",venue_address:t.venue?.address||"",category_name:t.category?.name||"Non spécifiée",tickets_sold:t.tickets?.filter(i=>["issued","used"].includes(i.status)).length||0,total_revenue:t.tickets?.filter(i=>["issued","used"].includes(i.status)).reduce((i,L)=>i+(L.ticket_type?.price||0),0)||0,is_public:t.is_active||!1,sales_active:t.is_active||!1,ticket_types:t.ticket_types||t.ticketTypes||[]};const l=t.ticket_types||t.ticketTypes||[];l.length>0&&(g.value.ticket_types=l.map(i=>({...i,sold:t.tickets?.filter(L=>L.ticket_type_id===i.id&&["issued","used"].includes(L.status)).length||0}))),g.value.tickets_sold>0?d.value=[{id:1,customer_name:"Kofi Asante",ticket_quantity:2,total_amount:g.value.ticket_types?.[0]?.price*2||5e4,created_at:new Date(Date.now()-864e5).toISOString()},{id:2,customer_name:"Aminata Traore",ticket_quantity:1,total_amount:g.value.ticket_types?.[0]?.price||25e3,created_at:new Date(Date.now()-1728e5).toISOString()}]:d.value=[]}catch(a){console.error("Erreur lors du chargement de l'événement:",a),a.response?.status===404?j.value=`Événement avec l'identifiant "${s.params.slug}" non trouvé`:a.message?j.value=a.message:j.value="Erreur lors du chargement de l'événement"}finally{o.value=!1}},r=()=>{E.push({name:"organizer-event-edit",params:{slug:g.value.slug}})},S=async()=>{if((await I.fire({title:"Publier l'événement",text:"Êtes-vous sûr de vouloir publier cet événement ?",icon:"question",showCancelButton:!0,confirmButtonColor:"#272d63",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, publier",cancelButtonText:"Annuler"})).isConfirmed)try{await H.updateEvent(g.value.id,{status:"published",is_active:!0}),g.value.status="published",g.value.is_active=!0,I.fire({title:"Succès !",text:"Événement publié avec succès !",icon:"success",confirmButtonColor:"#272d63"})}catch(t){console.error("Erreur publication:",t),I.fire({title:"Erreur",text:"Erreur lors de la publication de l'événement",icon:"error",confirmButtonColor:"#272d63"})}},z=async()=>{const a=`${window.location.origin}/events/${g.value.slug}`;try{await navigator.clipboard.writeText(a),I.fire({title:"Lien copié !",text:"Le lien de l'événement a été copié dans le presse-papiers",icon:"success",timer:2e3,showConfirmButton:!1})}catch{I.fire({title:"Lien de l'événement",html:`<input type="text" value="${a}" class="w-full p-2 border rounded" readonly onclick="this.select()">`,showConfirmButton:!1,showCloseButton:!0})}},c=()=>{const a=`/events/${g.value.slug}`;window.open(a,"_blank")},F=()=>{I.fire({title:"Export des données",text:"Fonctionnalité d'export en cours de développement",icon:"info",confirmButtonColor:"#272d63"})},W=a=>new Intl.NumberFormat("fr-FR").format(a),X=a=>new Date(a).toLocaleDateString("fr-FR"),A=a=>new Date(a).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),f=a=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[a]||a,U=a=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[a]||"bg-gray-100 text-gray-800",D=a=>{const t=a.capacity??a.available_quantity??a.max_quantity??a.quantity;return t==null?"Illimité":typeof t=="number"?new Intl.NumberFormat("fr-FR").format(t):t},J=a=>{const t=a.sold||0,l=a.capacity??a.available_quantity??a.max_quantity??a.quantity;return l==null||l<=0?0:Math.round(t/l*100)},Z=a=>{console.log("Erreur de chargement d'image:",a.target.src)},Y=a=>{console.log("Image chargée avec succès:",a.target.src)},x=()=>{if(!g.value||!g.value.ticket_types)return"Non définie";const a=g.value.ticket_types.reduce((t,l)=>{const i=l.capacity||l.available_quantity||l.max_quantity||l.quantity||0;return t+(typeof i=="number"?i:0)},0);return a>0?new Intl.NumberFormat("fr-FR").format(a):"Non définie"},P=()=>{if(!g.value)return"Non définie";if(g.value.event_date&&g.value.event_date!=="Invalid Date")return X(g.value.event_date);if(g.value.schedules&&g.value.schedules.length>0){const a=g.value.schedules[0];if(a.starts_at)return X(a.starts_at)}return"Non définie"};return re(()=>{k()}),(a,t)=>{const l=ie("router-link");return m(),u("div",Js,[e("div",Qs,[o.value?(m(),u("div",Zs,[...t[1]||(t[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):j.value?(m(),u("div",Ys,[e("div",eo,[b(h(xe),{class:"w-16 h-16 mx-auto text-red-500"})]),t[3]||(t[3]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Événement introuvable",-1)),e("p",to,p(j.value),1),b(l,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:K(()=>[...t[2]||(t[2]=[B(" Retour aux événements ",-1)])]),_:1})])):g.value?(m(),u("div",so,[e("div",oo,[e("div",ro,[e("div",ao,[e("button",{onClick:t[0]||(t[0]=i=>a.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(h(fe),{class:"w-6 h-6"})]),e("div",null,[e("h1",no,p(g.value.title),1),t[4]||(t[4]=e("p",{class:"text-gray-600 font-primea mt-1"},"Gestion de l'événement",-1))])]),e("div",io,[e("span",{class:O(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",U(g.value.status)])},p(f(g.value.status)),3),e("div",lo,[e("button",{onClick:r,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(h(ge),{class:"w-4 h-4 inline mr-2"}),t[5]||(t[5]=B(" Modifier ",-1))]),g.value.status==="draft"?(m(),u("button",{key:0,onClick:S,class:"bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[b(h(ye),{class:"w-4 h-4 inline mr-2"}),t[6]||(t[6]=B(" Publier ",-1))])):T("",!0)])])])]),e("div",uo,[e("div",mo,[e("div",po,[e("div",co,[b(h(de),{class:"w-6 h-6 text-blue-600"})]),e("div",go,[t[7]||(t[7]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1)),e("p",fo,p(g.value.tickets_sold||0),1)])])]),e("div",bo,[e("div",vo,[e("div",xo,[b(h(be),{class:"w-6 h-6 text-green-600"})]),e("div",yo,[t[8]||(t[8]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",_o,p(W(g.value.total_revenue||0))+" XAF",1)])])]),e("div",ho,[e("div",wo,[e("div",ko,[b(h(Se),{class:"w-6 h-6 text-yellow-600"})]),e("div",$o,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-600 font-primea"},"Capacité",-1)),e("p",Co,p(x()),1)])])]),e("div",Eo,[e("div",jo,[e("div",Ao,[b(h(me),{class:"w-6 h-6 text-purple-600"})]),e("div",So,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-600 font-primea"},"Date",-1)),e("p",Po,p(P()),1)])])])]),e("div",Vo,[e("div",zo,[e("div",Do,[t[15]||(t[15]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations générales",-1)),e("div",To,[e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Titre",-1)),e("p",Io,p(g.value.title),1)]),e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Lieu",-1)),e("p",Bo,p(g.value.venue_name),1)]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Catégorie",-1)),e("p",Fo,p(g.value.category_name||"Non spécifiée"),1)]),e("div",Uo,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Description",-1)),e("p",Mo,p(g.value.description||"Aucune description"),1)])])]),e("div",qo,[t[20]||(t[20]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Programmation",-1)),g.value.schedules&&g.value.schedules.length>0?(m(),u("div",Ro,[(m(!0),u(q,null,N(g.value.schedules,i=>(m(),u("div",{key:i.id,class:"border border-gray-200 rounded-primea p-4"},[e("div",Oo,[e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Début",-1)),e("p",No,p(A(i.starts_at)),1)]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Fin",-1)),e("p",Xo,p(A(i.ends_at)),1)]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Ouverture des portes",-1)),e("p",Lo,p(i.door_time?A(i.door_time):"Non spécifiée"),1)])])]))),128))])):(m(),u("div",Go,[b(h(me),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),t[19]||(t[19]=e("p",{class:"font-primea"},"Aucune programmation définie",-1))]))]),e("div",Ho,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Types de billets",-1)),g.value.ticket_types&&g.value.ticket_types.length>0?(m(),u("div",Wo,[(m(!0),u(q,null,N(g.value.ticket_types,i=>(m(),u("div",{key:i.id,class:"border border-gray-200 rounded-primea p-4"},[e("div",Ko,[e("div",Jo,[e("div",Qo,[e("h3",Zo,p(i.name),1),e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",i.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},p(i.is_active?"Actif":"Inactif"),3)]),e("p",Yo,p(i.description||"Aucune description"),1)]),e("div",er,[t[21]||(t[21]=e("label",{class:"block text-xs text-gray-500 font-primea mb-1"},"Prix",-1)),e("span",tr,p(W(i.price))+" XAF ",1)]),e("div",sr,[t[23]||(t[23]=e("label",{class:"block text-xs text-gray-500 font-primea mb-1"},"Disponibilité",-1)),e("div",or,[e("span",rr,p(i.sold||0),1),t[22]||(t[22]=e("span",{class:"text-gray-500"}," / ",-1)),e("span",ar,p(D(i)),1)]),e("div",nr,p(J(i))+"% vendus ",1)])])]))),128))])):(m(),u("div",ir,[b(h(de),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),t[24]||(t[24]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1))]))]),e("div",lr,[t[28]||(t[28]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Commandes récentes",-1)),d.value.length>0?(m(),u("div",dr,[e("table",ur,[t[26]||(t[26]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Client"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Montant"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date")])],-1)),e("tbody",mr,[(m(!0),u(q,null,N(d.value,i=>(m(),u("tr",{key:i.id},[e("td",pr,p(i.customer_name),1),e("td",cr,p(i.ticket_quantity),1),e("td",gr,p(W(i.total_amount))+" XAF",1),e("td",fr,p(X(i.created_at)),1)]))),128))])])])):(m(),u("div",br,[b(h(Pe),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),t[27]||(t[27]=e("p",{class:"font-primea"},"Aucune commande pour cet événement",-1))]))])]),e("div",vr,[e("div",xr,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions rapides",-1)),e("div",yr,[e("button",{onClick:z,class:"w-full flex items-center justify-center px-4 py-2 border border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 font-primea"},[b(h(Ve),{class:"w-4 h-4 mr-2"}),t[29]||(t[29]=B(" Partager l'événement ",-1))]),e("button",{onClick:c,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[b(h(ve),{class:"w-4 h-4 mr-2"}),t[30]||(t[30]=B(" Voir la page publique ",-1))]),e("button",{onClick:F,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),B(" Exporter les données ",-1)])])])]),g.value&&g.value.image_url?(m(),u("div",_r,[t[33]||(t[33]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Image de l'événement",-1)),e("img",{src:g.value.image_url,alt:g.value.title,class:"w-full h-48 object-cover rounded-primea",onError:Z,onLoad:Y},null,40,hr)])):T("",!0),e("div",wr,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",kr,[e("div",$r,[t[34]||(t[34]=e("span",{class:"text-sm text-gray-700 font-primea"},"Événement public",-1)),e("span",{class:O(["text-sm font-medium",g.value.is_public?"text-green-600":"text-red-600"])},p(g.value.is_public?"Oui":"Non"),3)]),e("div",Cr,[t[35]||(t[35]=e("span",{class:"text-sm text-gray-700 font-primea"},"Ventes actives",-1)),e("span",{class:O(["text-sm font-medium",g.value.sales_active?"text-green-600":"text-red-600"])},p(g.value.sales_active?"Oui":"Non"),3)]),e("div",Er,[t[36]||(t[36]=e("span",{class:"text-sm text-gray-700 font-primea"},"Créé le",-1)),e("span",jr,p(X(g.value.created_at)),1)])])])])])])):T("",!0)])])}}},Sr=ae(Ar,[["__scopeId","data-v-278d3613"]]),Hl=Object.freeze(Object.defineProperty({__proto__:null,default:Sr},Symbol.toStringTag,{value:"Module"})),Pr={class:"event-edit min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Vr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},zr={key:0,class:"flex justify-center items-center h-64"},Dr={key:1,class:"text-center py-16"},Tr={class:"mb-4"},Ir={class:"text-gray-600 mb-6"},Br={key:2},Fr={class:"mb-8"},Ur={class:"flex items-center justify-between"},Mr={class:"flex items-center space-x-4"},qr={class:"text-gray-600 font-primea mt-1"},Rr={class:"flex items-center space-x-3"},Or={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Nr={class:"lg:col-span-2 space-y-6"},Xr={class:"bg-white rounded-primea shadow-primea p-6"},Lr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Gr={class:"md:col-span-2"},Hr={class:"md:col-span-2"},Wr=["value"],Kr={key:0},Jr=["value"],Qr={key:1,class:"space-y-2"},Zr={class:"md:col-span-2"},Yr={class:"border-2 border-dashed border-gray-300 rounded-primea p-4 text-center"},ea={key:0,class:"mb-4"},ta=["src"],sa={key:1},oa={class:"bg-white rounded-primea shadow-primea p-6"},ra={class:"flex items-center justify-between mb-6"},aa={class:"space-y-4"},na=["onUpdate:modelValue"],ia=["onUpdate:modelValue"],la=["onUpdate:modelValue"],da={class:"flex items-end"},ua=["onClick"],ma={class:"bg-white rounded-primea shadow-primea p-6"},pa={class:"flex items-center justify-between mb-6"},ca={key:0,class:"text-center py-8 text-gray-500"},ga={key:1,class:"space-y-4"},fa=["onUpdate:modelValue"],ba=["onUpdate:modelValue"],va=["onUpdate:modelValue"],xa=["onUpdate:modelValue"],ya={class:"flex items-center space-x-2"},_a={class:"flex items-center space-x-2"},ha=["onUpdate:modelValue"],wa=["onClick"],ka={class:"space-y-6"},$a={class:"bg-white rounded-primea shadow-primea p-6"},Ca={class:"space-y-4"},Ea={class:"flex items-center space-x-2"},ja={class:"bg-white rounded-primea shadow-primea p-6"},Aa={class:"space-y-3"},Sa=["disabled"],Pa={key:0,class:"bg-white rounded-primea shadow-primea p-6"},Va=["src","alt"],za={__name:"EventEdit",setup(v){const s=_e(),E=ce(),o=$(!0),j=$(!1),g=$(null),d=$(null),k=$([]),r=$([]),S=$(!1),z=$(null),c=Q({title:"",description:"",category_id:"",venue_id:"",new_venue_name:"",new_venue_city:"",new_venue_address:"",image_url:"",image_preview:"",is_active:!1,schedules:[{starts_at:"",ends_at:"",door_time:""}],ticket_types:[]}),F=async()=>{try{const w=await H.getCategories();k.value=w.data.categories||[]}catch(w){console.error("Erreur chargement catégories:",w)}},W=async()=>{try{const w=await H.getVenues();r.value=w.data.venues||w.data.data||[]}catch(w){console.error("Erreur chargement lieux:",w)}},X=async()=>{o.value=!0,g.value=null;try{let w=s.params.slug,n;if(/^\d+$/.test(w))n=(await H.getEvent(w)).data.data;else try{const V=await H.getEvents();if(n=(V.data.data.events.data||V.data.data.events).find(te=>te.slug===w),!n)throw new Error(`Événement avec le slug "${w}" non trouvé`)}catch{throw new Error(`Événement avec le slug "${w}" non trouvé`)}if(!n)throw new Error("Événement introuvable");d.value={...n,venue_name:n.venue?.name||n.venue_name||"",venue_address:n.venue?.address||n.venue_address||"",category_name:n.category?.name||n.category_name||""},Object.assign(c,{title:d.value.title||"",description:d.value.description||"",category_id:d.value.category_id||"",venue_id:d.value.venue_id||"",new_venue_name:"",new_venue_city:"",new_venue_address:"",image_url:d.value.image_url||"",image_preview:d.value.image_url||"",is_active:d.value.is_active??!1,schedules:d.value.schedules&&d.value.schedules.length>0?d.value.schedules.map(V=>({starts_at:V.starts_at?new Date(V.starts_at).toISOString().slice(0,16):"",ends_at:V.ends_at?new Date(V.ends_at).toISOString().slice(0,16):"",door_time:V.door_time?new Date(V.door_time).toISOString().slice(0,16):""})):[{starts_at:"",ends_at:"",door_time:""}],ticket_types:(d.value.ticket_types||d.value.ticketTypes||[]).map(V=>({id:V.id,name:V.name||"",description:V.description||"",price:V.price||0,capacity:V.capacity||V.available_quantity||V.max_quantity||V.quantity||0,is_active:V.is_active??V.status==="active"}))})}catch(w){console.error("Erreur lors du chargement de l'événement:",w),w.response?.status===404?g.value=`Événement avec l'identifiant "${s.params.slug}" non trouvé`:w.message?g.value=w.message:g.value="Erreur lors du chargement de l'événement"}finally{o.value=!1}},A=async()=>{j.value=!0;try{if(!d.value)throw new Error("Aucun événement à mettre à jour");const w={title:c.title,description:c.description,category_id:c.category_id,venue_id:c.venue_id||null,new_venue_name:c.venue_id==="new"?c.new_venue_name:null,new_venue_city:c.venue_id==="new"?c.new_venue_city:null,new_venue_address:c.venue_id==="new"?c.new_venue_address:null,image_url:c.image_url,is_active:c.is_active,schedules:c.schedules,ticket_types:c.ticket_types.map(n=>({id:n.id||null,name:n.name,description:n.description,price:n.price,capacity:n.capacity,is_active:n.is_active}))};await H.updateEvent(d.value.id,w),await I.fire({title:"Succès !",text:"Événement mis à jour avec succès !",icon:"success",confirmButtonColor:"#272d63"}),E.push({name:"organizer-event-detail",params:{slug:d.value.slug}})}catch(w){console.error("Erreur lors de la mise à jour:",w),await I.fire({title:"Erreur",text:w.response?.data?.message||"Erreur lors de la mise à jour de l'événement",icon:"error",confirmButtonColor:"#272d63"})}finally{j.value=!1}},f=async()=>{if((await I.fire({title:"Publier l'événement",text:"Êtes-vous sûr de vouloir publier cet événement ?",icon:"question",showCancelButton:!0,confirmButtonColor:"#272d63",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, publier",cancelButtonText:"Annuler"})).isConfirmed)try{await H.updateEvent(d.value.id,{status:"published",is_active:!0}),d.value.status="published",d.value.is_active=!0,await I.fire({title:"Succès !",text:"Événement publié avec succès !",icon:"success",confirmButtonColor:"#272d63"})}catch(n){console.error("Erreur publication:",n),await I.fire({title:"Erreur",text:"Erreur lors de la publication de l'événement",icon:"error",confirmButtonColor:"#272d63"})}},U=()=>{c.ticket_types.push({name:"",description:"",price:"",capacity:"",is_active:!0})},D=async w=>{(await I.fire({title:"Supprimer le type de billet",text:"Êtes-vous sûr de vouloir supprimer ce type de billet ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed&&c.ticket_types.splice(w,1)},J=()=>{c.schedules.push({starts_at:"",ends_at:"",door_time:""})},Z=w=>{c.schedules.length>1&&c.schedules.splice(w,1)},Y=()=>{c.venue_id==="new"&&(S.value=!0)},x=()=>{S.value=!1,c.venue_id="",c.new_venue_name="",c.new_venue_city="",c.new_venue_address=""},P=w=>{const n=w.target.files[0];if(n){const V=new FileReader;V.onload=_=>{c.image_preview=_.target.result},V.readAsDataURL(n)}},a=()=>{c.image_url&&(c.image_preview=c.image_url)},t=()=>{c.image_url="",c.image_preview="",z.value&&(z.value.value="")},l=w=>{console.log("Erreur de chargement d'image:",w.target.src)},i=w=>{console.log("Image chargée avec succès:",w.target.src)},L=w=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[w]||w,R=w=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[w]||"bg-gray-100 text-gray-800";return re(async()=>{await Promise.all([F(),W(),X()])}),(w,n)=>{const V=ie("router-link");return m(),u("div",Pr,[e("div",Vr,[o.value?(m(),u("div",zr,[...n[11]||(n[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):g.value?(m(),u("div",Dr,[e("div",Tr,[b(h(xe),{class:"w-16 h-16 mx-auto text-red-500"})]),n[13]||(n[13]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Erreur",-1)),e("p",Ir,p(g.value),1),b(V,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:K(()=>[...n[12]||(n[12]=[B(" Retour aux événements ",-1)])]),_:1})])):d.value?(m(),u("div",Br,[e("div",Fr,[e("div",Ur,[e("div",Mr,[e("button",{onClick:n[0]||(n[0]=_=>w.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(h(fe),{class:"w-6 h-6"})]),e("div",null,[n[14]||(n[14]=e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Modifier l'événement",-1)),e("p",qr,p(d.value.title),1)])]),e("div",Rr,[e("span",{class:O(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",R(d.value.status)])},p(L(d.value.status)),3)])])]),e("form",{onSubmit:se(A,["prevent"]),class:"space-y-8"},[e("div",Or,[e("div",Nr,[e("div",Xr,[n[24]||(n[24]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",Lr,[e("div",Gr,[n[15]||(n[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement *",-1)),y(e("input",{"onUpdate:modelValue":n[1]||(n[1]=_=>c.title=_),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[C,c.title]])]),e("div",Hr,[n[16]||(n[16]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":n[2]||(n[2]=_=>c.description=_),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[C,c.description]])]),e("div",null,[n[18]||(n[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie *",-1)),y(e("select",{"onUpdate:modelValue":n[3]||(n[3]=_=>c.category_id=_),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[n[17]||(n[17]=e("option",{value:""},"Sélectionner une catégorie",-1)),(m(!0),u(q,null,N(k.value,_=>(m(),u("option",{key:_.id,value:_.id},p(_.name),9,Wr))),128))],512),[[ne,c.category_id]])]),e("div",null,[n[21]||(n[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu *",-1)),S.value?T("",!0):(m(),u("div",Kr,[y(e("select",{"onUpdate:modelValue":n[4]||(n[4]=_=>c.venue_id=_),onChange:Y,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[n[19]||(n[19]=e("option",{value:""},"Sélectionner un lieu",-1)),(m(!0),u(q,null,N(r.value,_=>(m(),u("option",{key:_.id,value:_.id},p(_.name)+" - "+p(_.city),9,Jr))),128)),n[20]||(n[20]=e("option",{value:"new"},"+ Ajouter un nouveau lieu",-1))],544),[[ne,c.venue_id]])])),S.value||c.venue_id==="new"?(m(),u("div",Qr,[y(e("input",{"onUpdate:modelValue":n[5]||(n[5]=_=>c.new_venue_name=_),type:"text",placeholder:"Nom du lieu",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[C,c.new_venue_name]]),y(e("input",{"onUpdate:modelValue":n[6]||(n[6]=_=>c.new_venue_city=_),type:"text",placeholder:"Ville",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[C,c.new_venue_city]]),y(e("input",{"onUpdate:modelValue":n[7]||(n[7]=_=>c.new_venue_address=_),type:"text",placeholder:"Adresse",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[C,c.new_venue_address]]),e("button",{type:"button",onClick:x,class:"text-sm text-primea-blue hover:text-primea-yellow font-primea"}," Utiliser un lieu existant ")])):T("",!0)]),e("div",Zr,[n[23]||(n[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Image de l'événement",-1)),e("div",Yr,[c.image_preview?(m(),u("div",ea,[e("img",{src:c.image_preview,alt:"Aperçu",class:"max-h-32 mx-auto rounded-primea",onError:l,onLoad:i},null,40,ta),e("button",{type:"button",onClick:t,class:"mt-2 text-sm text-red-600 hover:text-red-800"}," Supprimer l'image ")])):(m(),u("div",sa,[e("input",{ref_key:"imageInput",ref:z,type:"file",accept:"image/*",onChange:P,class:"hidden"},null,544),e("button",{type:"button",onClick:n[8]||(n[8]=_=>w.$refs.imageInput.click()),class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"}," Choisir une image "),n[22]||(n[22]=e("p",{class:"text-sm text-gray-500 mt-2 font-primea"},"ou",-1)),y(e("input",{"onUpdate:modelValue":n[9]||(n[9]=_=>c.image_url=_),type:"url",class:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"URL de l'image (https://exemple.com/image.jpg)",onInput:a},null,544),[[C,c.image_url]])]))])])])]),e("div",oa,[e("div",ra,[n[26]||(n[26]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Programmation",-1)),e("button",{type:"button",onClick:J,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(h(oe),{class:"w-4 h-4 inline mr-2"}),n[25]||(n[25]=B(" Ajouter une séance ",-1))])]),e("div",aa,[(m(!0),u(q,null,N(c.schedules,(_,te)=>(m(),u("div",{key:te,class:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[n[27]||(n[27]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de début *",-1)),y(e("input",{"onUpdate:modelValue":G=>_.starts_at=G,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,na),[[C,_.starts_at]])]),e("div",null,[n[28]||(n[28]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de fin *",-1)),y(e("input",{"onUpdate:modelValue":G=>_.ends_at=G,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,ia),[[C,_.ends_at]])]),e("div",null,[n[29]||(n[29]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Ouverture des portes",-1)),y(e("input",{"onUpdate:modelValue":G=>_.door_time=G,type:"datetime-local",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,la),[[C,_.door_time]])]),e("div",da,[c.schedules.length>1?(m(),u("button",{key:0,type:"button",onClick:G=>Z(te),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[b(h(pe),{class:"w-4 h-4"})],8,ua)):T("",!0)])]))),128))])]),e("div",ma,[e("div",pa,[n[31]||(n[31]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:U,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(h(oe),{class:"w-4 h-4 inline mr-2"}),n[30]||(n[30]=B(" Ajouter un type ",-1))])]),c.ticket_types.length===0?(m(),u("div",ca,[b(h(de),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),n[32]||(n[32]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),n[33]||(n[33]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(m(),u("div",ga,[(m(!0),u(q,null,N(c.ticket_types,(_,te)=>(m(),u("div",{key:te,class:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[n[34]||(n[34]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom *",-1)),y(e("input",{"onUpdate:modelValue":G=>_.name=G,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,fa),[[C,_.name]])]),e("div",null,[n[35]||(n[35]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF) *",-1)),y(e("input",{"onUpdate:modelValue":G=>_.price=G,type:"number",min:"0",step:"0.01",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,ba),[[C,_.price,void 0,{number:!0}]])]),e("div",null,[n[36]||(n[36]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Capacité *",-1)),y(e("input",{"onUpdate:modelValue":G=>_.capacity=G,type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100"},null,8,va),[[C,_.capacity,void 0,{number:!0}]])]),e("div",null,[n[37]||(n[37]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":G=>_.description=G,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Description du billet..."},null,8,xa),[[C,_.description]])]),e("div",ya,[e("label",_a,[y(e("input",{"onUpdate:modelValue":G=>_.is_active=G,type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,8,ha),[[ue,_.is_active]]),n[38]||(n[38]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Actif",-1))]),e("button",{type:"button",onClick:G=>D(te),class:"text-red-600 hover:text-red-800 p-1"},[b(h(pe),{class:"w-4 h-4"})],8,wa)])]))),128))]))])]),e("div",ka,[e("div",$a,[n[41]||(n[41]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",Ca,[e("div",null,[e("label",Ea,[y(e("input",{"onUpdate:modelValue":n[10]||(n[10]=_=>c.is_active=_),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[ue,c.is_active]]),n[39]||(n[39]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement actif",-1))]),n[40]||(n[40]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Publier l'événement et activer les ventes",-1))])])]),e("div",ja,[n[44]||(n[44]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Aa,[e("button",{type:"submit",disabled:j.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},p(j.value?"Enregistrement...":"Enregistrer les modifications"),9,Sa),b(V,{to:{name:"organizer-event-detail",params:{slug:d.value?.slug||h(s).params.slug}},class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:K(()=>[...n[42]||(n[42]=[B(" Annuler les modifications ",-1)])]),_:1},8,["to"]),d.value&&!d.value.is_active?(m(),u("button",{key:0,type:"button",onClick:f,class:"w-full bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[b(h(ye),{class:"w-4 h-4 inline mr-2"}),n[43]||(n[43]=B(" Publier l'événement ",-1))])):T("",!0)])]),d.value&&d.value.image_url?(m(),u("div",Pa,[n[45]||(n[45]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Image actuelle",-1)),e("img",{src:d.value.image_url,alt:d.value.title,class:"w-full h-48 object-cover rounded-primea",onError:l,onLoad:i},null,40,Va)])):T("",!0)])])],32)])):T("",!0)])])}}},Da=ae(za,[["__scopeId","data-v-2dc4993e"]]),Wl=Object.freeze(Object.defineProperty({__proto__:null,default:Da},Symbol.toStringTag,{value:"Module"})),Ta={class:"event-create min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Ia={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ba={class:"mb-8"},Fa={class:"flex items-center justify-between"},Ua={class:"flex items-center space-x-4"},Ma={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},qa={class:"lg:col-span-2 space-y-6"},Ra={class:"bg-white rounded-primea shadow-primea p-6"},Oa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Na={class:"md:col-span-2"},Xa={class:"md:col-span-2"},La=["value"],Ga={key:0},Ha=["value"],Wa={key:1,class:"space-y-2"},Ka={class:"md:col-span-2"},Ja={class:"border-2 border-dashed border-gray-300 rounded-primea p-4 text-center"},Qa={key:0,class:"mb-4"},Za=["src"],Ya={key:1},en={class:"bg-white rounded-primea shadow-primea p-6"},tn={class:"flex items-center justify-between mb-6"},sn={class:"space-y-4"},on=["onUpdate:modelValue"],rn=["onUpdate:modelValue"],an={class:"flex items-end"},nn=["onClick"],ln={class:"bg-white rounded-primea shadow-primea p-6"},dn={class:"flex items-center justify-between mb-6"},un={key:0,class:"text-center py-8 text-gray-500"},mn={key:1,class:"space-y-4"},pn=["onUpdate:modelValue"],cn=["onUpdate:modelValue"],gn=["onUpdate:modelValue"],fn=["onUpdate:modelValue"],bn={class:"flex items-end"},vn=["onClick"],xn={class:"space-y-6"},yn={class:"bg-white rounded-primea shadow-primea p-6"},_n={class:"space-y-4"},hn={class:"flex items-center space-x-2"},wn={class:"flex items-center space-x-2"},kn={class:"bg-white rounded-primea shadow-primea p-6"},$n={class:"space-y-3"},Cn=["disabled"],En={key:0,class:"bg-white rounded-primea shadow-primea p-6"},jn=["src","alt"],An={class:"bg-white rounded-primea shadow-primea p-6"},Sn={class:"space-y-2 text-sm"},Pn={class:"flex justify-between"},Vn={class:"font-medium font-primea"},zn={class:"flex justify-between"},Dn={class:"font-medium font-primea"},Tn={key:0,class:"flex justify-between"},In={class:"font-medium font-primea"},Bn={key:1,class:"flex justify-between"},Fn={class:"font-medium font-primea"},Un={__name:"EventCreate",setup(v){const s=ce(),E=$(!1),o=$([]),j=$([]),g=$(!1),d=$(!1),k=$(null),r=Q({title:"",description:"",category_id:"",venue_id:"",image_url:"",image_preview:"",image_file:null,status:"draft",new_venue_name:"",new_venue_city:"",new_venue_address:"",schedules:[{starts_at:"",ends_at:""}],ticket_types:[{name:"",price:"",capacity:"",description:""}]}),S=ee(()=>r.ticket_types.reduce((a,t)=>a+(parseInt(t.capacity)||0),0)),z=ee(()=>{if(r.ticket_types.length===0)return 0;const a=r.ticket_types.map(t=>parseInt(t.price)||0).filter(t=>t>0);return a.length>0?Math.min(...a):0}),c=ee(()=>{if(r.ticket_types.length===0)return 0;const a=r.ticket_types.map(t=>parseInt(t.price)||0);return a.length>0?Math.max(...a):0}),F=()=>{r.ticket_types.push({name:"",description:"",price:"",capacity:""})},W=()=>{r.schedules.push({starts_at:"",ends_at:""})},X=a=>{r.schedules.length>1&&r.schedules.splice(a,1)},A=()=>{r.venue_id==="new"?d.value=!0:d.value=!1},f=()=>{d.value=!1,r.venue_id="",r.new_venue_name="",r.new_venue_city="",r.new_venue_address=""},U=a=>{const t=a.target.files[0];if(t){r.image_file=t;const l=new FileReader;l.onload=i=>{r.image_preview=i.target.result,r.image_url=""},l.readAsDataURL(t)}},D=()=>{r.image_url&&(r.image_preview=r.image_url,r.image_file=null)},J=()=>{r.image_url="",r.image_preview="",r.image_file=null,k.value&&(k.value.value="")},Z=a=>{r.ticket_types.length>1&&r.ticket_types.splice(a,1)},Y=async()=>{if(r.ticket_types.length===0){I.fire({title:"Erreur",text:"Veuillez ajouter au moins un type de billet",icon:"error",confirmButtonColor:"#272d63"});return}if(!r.title){I.fire({title:"Erreur",text:"Veuillez remplir le titre de l'événement",icon:"error",confirmButtonColor:"#272d63"});return}E.value=!0;try{if(!r.category_id){I.fire({title:"Erreur",text:"Veuillez sélectionner une catégorie",icon:"error",confirmButtonColor:"#272d63"});return}if(!r.venue_id&&!r.new_venue_name){I.fire({title:"Erreur",text:"Veuillez sélectionner un lieu ou créer un nouveau lieu",icon:"error",confirmButtonColor:"#272d63"});return}if(r.schedules.some(l=>!l.starts_at||!l.ends_at)){I.fire({title:"Erreur",text:"Veuillez remplir toutes les dates et heures de programmation",icon:"error",confirmButtonColor:"#272d63"});return}const a={title:r.title,description:r.description,category_id:r.category_id,venue_id:r.venue_id!=="new"?r.venue_id:null,venue_name:r.venue_id==="new"?r.new_venue_name:null,venue_city:r.venue_id==="new"?r.new_venue_city:"Abidjan",venue_address:r.venue_id==="new"?r.new_venue_address:null,image_url:r.image_url,is_active:r.status==="published",schedules:r.schedules.map(l=>({starts_at:l.starts_at,ends_at:l.ends_at,door_time:new Date(new Date(l.starts_at).getTime()-1800*1e3).toISOString()})),ticket_types:r.ticket_types.map(l=>({name:l.name,description:l.description,price:parseFloat(l.price),capacity:parseInt(l.capacity),is_active:!0}))},t=await H.createEvent(a);if(t.data.success)I.fire({title:"Succès !",text:"Événement créé avec succès !",icon:"success",confirmButtonColor:"#272d63"}).then(()=>{s.push(`/organizer/events/${t.data.data.id}`)});else throw new Error(t.data.message||"Erreur lors de la création")}catch(a){console.error("Erreur création événement:",a),I.fire({title:"Erreur",text:a.response?.data?.message||"Erreur lors de la création de l'événement",icon:"error",confirmButtonColor:"#272d63"})}finally{E.value=!1}},x=async()=>{g.value=!0;try{const a=await H.getCategories();a.data.success&&(o.value=a.data.categories||a.data.data);const t=await H.getVenues();t.data.success&&(j.value=t.data.venues||t.data.data)}catch(a){console.error("Erreur chargement données initiales:",a)}finally{g.value=!1}},P=a=>new Intl.NumberFormat("fr-FR").format(a);return re(()=>{x()}),(a,t)=>{const l=ie("router-link");return m(),u("div",Ta,[e("div",Ia,[e("div",Ba,[e("div",Fa,[e("div",Ua,[e("button",{onClick:t[0]||(t[0]=i=>a.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(h(fe),{class:"w-6 h-6"})]),t[13]||(t[13]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Créer un événement"),e("p",{class:"text-gray-600 font-primea mt-1"},"Configurez tous les détails de votre événement")],-1))])])]),e("form",{onSubmit:se(Y,["prevent"]),class:"space-y-8"},[e("div",Ma,[e("div",qa,[e("div",Ra,[t[23]||(t[23]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",Oa,[e("div",Na,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=i=>r.title=i),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[C,r.title]])]),e("div",Xa,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=i=>r.description=i),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[C,r.description]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie *",-1)),y(e("select",{"onUpdate:modelValue":t[3]||(t[3]=i=>r.category_id=i),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[t[16]||(t[16]=e("option",{value:""},"Sélectionner une catégorie",-1)),(m(!0),u(q,null,N(o.value,i=>(m(),u("option",{key:i.id,value:i.id},p(i.name),9,La))),128))],512),[[ne,r.category_id]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu *",-1)),d.value?T("",!0):(m(),u("div",Ga,[y(e("select",{"onUpdate:modelValue":t[4]||(t[4]=i=>r.venue_id=i),onChange:A,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[t[18]||(t[18]=e("option",{value:""},"Sélectionner un lieu",-1)),(m(!0),u(q,null,N(j.value,i=>(m(),u("option",{key:i.id,value:i.id},p(i.name)+" - "+p(i.city),9,Ha))),128)),t[19]||(t[19]=e("option",{value:"new"},"+ Ajouter un nouveau lieu",-1))],544),[[ne,r.venue_id]])])),d.value||r.venue_id==="new"?(m(),u("div",Wa,[y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=i=>r.new_venue_name=i),type:"text",placeholder:"Nom du lieu",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[C,r.new_venue_name]]),y(e("input",{"onUpdate:modelValue":t[6]||(t[6]=i=>r.new_venue_city=i),type:"text",placeholder:"Ville",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[C,r.new_venue_city]]),y(e("input",{"onUpdate:modelValue":t[7]||(t[7]=i=>r.new_venue_address=i),type:"text",placeholder:"Adresse",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[C,r.new_venue_address]]),e("button",{type:"button",onClick:f,class:"text-sm text-primea-blue hover:text-primea-yellow font-primea"}," Utiliser un lieu existant ")])):T("",!0)]),e("div",Ka,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Image de l'événement",-1)),e("div",Ja,[r.image_preview?(m(),u("div",Qa,[e("img",{src:r.image_preview,alt:"Aperçu",class:"max-h-32 mx-auto rounded-primea"},null,8,Za),e("button",{type:"button",onClick:J,class:"mt-2 text-sm text-red-600 hover:text-red-800"}," Supprimer l'image ")])):(m(),u("div",Ya,[e("input",{ref_key:"imageInput",ref:k,type:"file",accept:"image/*",onChange:U,class:"hidden"},null,544),e("button",{type:"button",onClick:t[8]||(t[8]=i=>a.$refs.imageInput.click()),class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"}," Choisir une image "),t[21]||(t[21]=e("p",{class:"text-sm text-gray-500 mt-2 font-primea"},"ou",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=i=>r.image_url=i),type:"url",class:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"URL de l'image (https://exemple.com/image.jpg)",onInput:D},null,544),[[C,r.image_url]])]))])])])]),e("div",en,[e("div",tn,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Programmation",-1)),e("button",{type:"button",onClick:W,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(h(oe),{class:"w-4 h-4 inline mr-2"}),t[24]||(t[24]=B(" Ajouter une séance ",-1))])]),e("div",sn,[(m(!0),u(q,null,N(r.schedules,(i,L)=>(m(),u("div",{key:L,class:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de début *",-1)),y(e("input",{"onUpdate:modelValue":R=>i.starts_at=R,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,on),[[C,i.starts_at]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de fin *",-1)),y(e("input",{"onUpdate:modelValue":R=>i.ends_at=R,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,rn),[[C,i.ends_at]])]),e("div",an,[r.schedules.length>1?(m(),u("button",{key:0,type:"button",onClick:R=>X(L),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[b(h(pe),{class:"w-4 h-4"})],8,nn)):T("",!0)])]))),128))])]),e("div",ln,[e("div",dn,[t[29]||(t[29]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:F,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[b(h(oe),{class:"w-4 h-4 inline mr-2"}),t[28]||(t[28]=B(" Ajouter un type ",-1))])]),r.ticket_types.length===0?(m(),u("div",un,[b(h(de),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),t[30]||(t[30]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),t[31]||(t[31]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(m(),u("div",mn,[(m(!0),u(q,null,N(r.ticket_types,(i,L)=>(m(),u("div",{key:L,class:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom *",-1)),y(e("input",{"onUpdate:modelValue":R=>i.name=R,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,pn),[[C,i.name]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF) *",-1)),y(e("input",{"onUpdate:modelValue":R=>i.price=R,type:"number",min:"0",step:"0.01",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,cn),[[C,i.price,void 0,{number:!0}]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Capacité *",-1)),y(e("input",{"onUpdate:modelValue":R=>i.capacity=R,type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100"},null,8,gn),[[C,i.capacity,void 0,{number:!0}]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("input",{"onUpdate:modelValue":R=>i.description=R,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Description du billet"},null,8,fn),[[C,i.description]])]),e("div",bn,[r.ticket_types.length>1?(m(),u("button",{key:0,type:"button",onClick:R=>Z(L),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[b(h(pe),{class:"w-4 h-4"})],8,vn)):T("",!0)])]))),128))]))])]),e("div",xn,[e("div",yn,[t[43]||(t[43]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",_n,[e("div",null,[e("label",hn,[y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=i=>r.is_public=i),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[ue,r.is_public]]),t[36]||(t[36]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement public",-1))]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Visible dans la liste publique des événements",-1))]),e("div",null,[e("label",wn,[y(e("input",{"onUpdate:modelValue":t[11]||(t[11]=i=>r.sales_active=i),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[ue,r.sales_active]]),t[38]||(t[38]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Ventes actives",-1))]),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Permettre l'achat de billets",-1))]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Statut *",-1)),y(e("select",{"onUpdate:modelValue":t[12]||(t[12]=i=>r.status=i),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...t[40]||(t[40]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1),e("option",{value:"cancelled"},"Annulé",-1)])],512),[[ne,r.status]]),t[42]||(t[42]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Les brouillons ne sont pas visibles par le public",-1))])])]),e("div",kn,[t[45]||(t[45]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",$n,[e("button",{type:"submit",disabled:E.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},p(E.value?"Création en cours...":"Créer l'événement"),9,Cn),b(l,{to:"/organizer/dashboard",class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:K(()=>[...t[44]||(t[44]=[B(" Annuler ",-1)])]),_:1})])]),r.image_url||r.image_preview?(m(),u("div",En,[t[46]||(t[46]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Aperçu de l'image",-1)),e("img",{src:r.image_preview||r.image_url,alt:r.title,class:"w-full h-48 object-cover rounded-primea"},null,8,jn)])):T("",!0),e("div",An,[t[51]||(t[51]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Résumé",-1)),e("div",Sn,[e("div",Pn,[t[47]||(t[47]=e("span",{class:"text-gray-600 font-primea"},"Types de billets:",-1)),e("span",Vn,p(r.ticket_types.length),1)]),e("div",zn,[t[48]||(t[48]=e("span",{class:"text-gray-600 font-primea"},"Capacité totale:",-1)),e("span",Dn,p(S.value||"Illimitée"),1)]),z.value>0?(m(),u("div",Tn,[t[49]||(t[49]=e("span",{class:"text-gray-600 font-primea"},"Prix minimum:",-1)),e("span",In,p(P(z.value))+" XAF",1)])):T("",!0),c.value>0?(m(),u("div",Bn,[t[50]||(t[50]=e("span",{class:"text-gray-600 font-primea"},"Prix maximum:",-1)),e("span",Fn,p(P(c.value))+" XAF",1)])):T("",!0)])])])])],32)])])}}},Mn=ae(Un,[["__scopeId","data-v-dbd61bf4"]]),Kl=Object.freeze(Object.defineProperty({__proto__:null,default:Mn},Symbol.toStringTag,{value:"Module"})),qn={name:"BalanceManagement",setup(){const v=$(!1),s=$(!1),E=$(!1),o=$(!1),j=$(!1),g=$([]),d=$([]),k=Q({pending_payouts:0,total_payouts:0}),r=Q({gateway:"",available_balance:0,amount:"",phone_number:""}),S=Q({gateway:"",auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),z=ee(()=>g.value.reduce((l,i)=>l+i.balance,0)),c=async()=>{v.value=!0;try{const i=await(await fetch("/api/v1/organizer/balances",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();i.success&&(g.value=i.data.balances)}catch(l){console.error("Erreur chargement soldes:",l)}finally{v.value=!1}},F=async()=>{try{const i=await(await fetch("/api/v1/organizer/payouts?limit=10",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();i.success&&(d.value=i.data.payouts.data||i.data.payouts,k.pending_payouts=d.value.filter(L=>["pending","processing"].includes(L.status)).length,k.total_payouts=d.value.reduce((L,R)=>L+R.amount,0))}catch(l){console.error("Erreur chargement payouts récents:",l)}},W=l=>{Object.assign(r,{gateway:l.gateway,available_balance:l.balance,amount:"",phone_number:l.payout_phone_number||""}),o.value=!0},X=async()=>{s.value=!0;try{const i=await(await fetch("/api/v1/organizer/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json();i.success?(alert("Demande de payout envoyée avec succès"),o.value=!1,c(),F()):alert(i.message||"Erreur lors de la demande")}catch(l){console.error("Erreur demande payout:",l),alert("Erreur technique")}finally{s.value=!1}},A=l=>{Object.assign(S,{gateway:l.gateway,auto_payout_enabled:l.auto_payout_enabled,auto_payout_threshold:l.auto_payout_threshold,payout_phone_number:l.payout_phone_number||""}),j.value=!0},f=async()=>{E.value=!0;try{const i=await(await fetch("/api/v1/organizer/auto-payout-config",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(S)})).json();i.success?(alert("Configuration mise à jour avec succès"),j.value=!1,c()):alert(i.message||"Erreur lors de la mise à jour")}catch(l){console.error("Erreur sauvegarde config:",l),alert("Erreur technique")}finally{E.value=!1}},U=l=>d.value.filter(i=>i.gateway===l).slice(0,3),D=l=>{alert(`Détails du payout #${l.reference}
Montant: ${J(l.amount)} XAF
Statut: ${a(l.status)}`)},J=l=>new Intl.NumberFormat("fr-FR").format(l),Z=l=>new Date(l).toLocaleDateString("fr-FR"),Y=l=>new Date(l).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=l=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[l]||l,P=l=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[l]||"bg-gray-100 text-gray-800",a=l=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[l]||l,t=l=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[l]||"bg-gray-100 text-gray-800";return re(()=>{c(),F()}),{loading:v,requestingPayout:s,savingConfig:E,showPayoutModal:o,showConfigModal:j,balances:g,recentPayouts:d,stats:k,payoutForm:r,configForm:S,totalBalance:z,loadBalances:c,loadRecentPayouts:F,requestPayout:W,submitPayoutRequest:X,configureAutoPayout:A,saveAutoPayoutConfig:f,getRecentPayouts:U,viewPayoutDetails:D,formatAmount:J,formatDate:Z,formatDateTime:Y,getGatewayName:x,getGatewayBadgeClass:P,getPayoutStatusName:a,getPayoutStatusClass:t}}},Rn={class:"balance-management min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},On={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Nn={class:"mb-8"},Xn={class:"flex items-center justify-between"},Ln={key:0,class:"flex justify-center items-center h-64"},Gn={key:1},Hn={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},Wn={class:"bg-white rounded-lg shadow p-6"},Kn={class:"flex items-center"},Jn={class:"ml-4"},Qn={class:"text-2xl font-bold text-green-600"},Zn={class:"bg-white rounded-lg shadow p-6"},Yn={class:"flex items-center"},ei={class:"ml-4"},ti={class:"text-2xl font-bold text-yellow-600"},si={class:"bg-white rounded-lg shadow p-6"},oi={class:"flex items-center"},ri={class:"ml-4"},ai={class:"text-2xl font-bold text-blue-600"},ni={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},ii={class:"flex items-center justify-between mb-4"},li={class:"flex items-center"},di={class:"text-lg font-semibold text-gray-900"},ui={class:"text-right"},mi={class:"text-2xl font-bold text-green-600"},pi={class:"mb-4 p-3 bg-gray-50 rounded-lg"},ci={class:"flex items-center justify-between mb-2"},gi={key:0,class:"text-sm text-gray-600"},fi={key:0},bi={class:"space-y-3"},vi=["onClick","disabled"],xi=["onClick"],yi={class:"mt-6 pt-6 border-t"},_i={key:0,class:"text-sm text-gray-500"},hi={key:1,class:"space-y-2"},wi={class:"font-medium"},ki={class:"text-gray-500 ml-2"},$i={class:"bg-white rounded-lg shadow"},Ci={class:"p-6 border-b"},Ei={class:"flex justify-between items-center"},ji={key:0,class:"p-8 text-center text-gray-500"},Ai={key:1,class:"overflow-x-auto"},Si={class:"w-full"},Pi={class:"divide-y divide-gray-200"},Vi={class:"px-6 py-4 text-sm font-mono text-gray-900"},zi={class:"px-6 py-4 text-sm"},Di={class:"px-6 py-4 text-sm font-medium text-gray-900"},Ti={class:"px-6 py-4 text-sm"},Ii={class:"px-6 py-4 text-sm"},Bi={class:"px-6 py-4 text-sm text-gray-500"},Fi={class:"px-6 py-4 text-sm"},Ui=["onClick"],Mi={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},qi={class:"bg-white rounded-lg p-6 w-full max-w-md"},Ri={class:"space-y-4"},Oi=["value"],Ni=["value"],Xi=["max"],Li={class:"flex justify-end space-x-3 mt-6"},Gi=["disabled"],Hi={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Wi={class:"bg-white rounded-lg p-6 w-full max-w-md"},Ki={class:"text-lg font-bold mb-4"},Ji={class:"space-y-4"},Qi={class:"flex items-center space-x-2"},Zi={key:0},Yi={class:"flex justify-end space-x-3 mt-6"},el=["disabled"];function tl(v,s,E,o,j,g){return m(),u("div",Rn,[e("div",On,[e("div",Nn,[e("div",Xn,[s[12]||(s[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Soldes & Payouts"),e("p",{class:"text-gray-600"},"Consultez vos soldes et gérez vos demandes de payout")],-1)),e("button",{onClick:s[0]||(s[0]=d=>v.$router.push("/organizer/payouts/history")),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...s[11]||(s[11]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),B(" Historique Payouts ",-1)])])])]),o.loading?(m(),u("div",Ln,[...s[13]||(s[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(m(),u("div",Gn,[e("div",Hn,[e("div",Wn,[e("div",Kn,[s[15]||(s[15]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Jn,[s[14]||(s[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",Qn,p(o.formatAmount(o.totalBalance))+" XAF",1)])])]),e("div",Zn,[e("div",Yn,[s[17]||(s[17]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",ei,[s[16]||(s[16]=e("p",{class:"text-sm text-gray-600"},"Payouts en Cours",-1)),e("p",ti,p(o.stats.pending_payouts||0),1)])])]),e("div",si,[e("div",oi,[s[19]||(s[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",ri,[s[18]||(s[18]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",ai,p(o.formatAmount(o.stats.total_payouts||0))+" XAF",1)])])])]),e("div",ni,[(m(!0),u(q,null,N(o.balances,d=>(m(),u("div",{key:d.gateway,class:"bg-white rounded-lg shadow p-6"},[e("div",ii,[e("div",li,[e("div",{class:O(["p-2 rounded-lg mr-4",o.getGatewayBadgeClass(d.gateway)])},[...s[20]||(s[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("h3",di,p(o.getGatewayName(d.gateway)),1),s[21]||(s[21]=e("p",{class:"text-sm text-gray-600"},"Solde disponible",-1))])]),e("div",ui,[e("p",mi,p(o.formatAmount(d.balance))+" XAF",1)])]),e("div",pi,[e("div",ci,[s[22]||(s[22]=e("span",{class:"text-sm font-medium text-gray-700"},"Payout Automatique",-1)),e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",d.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},p(d.auto_payout_enabled?"Activé":"Désactivé"),3)]),d.auto_payout_enabled?(m(),u("div",gi,[e("p",null,"Seuil: "+p(o.formatAmount(d.auto_payout_threshold))+" XAF",1),d.payout_phone_number?(m(),u("p",fi,"Téléphone: "+p(d.payout_phone_number),1)):T("",!0)])):T("",!0)]),e("div",bi,[e("button",{onClick:k=>o.requestPayout(d),disabled:d.balance<1e3,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[s[23]||(s[23]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),B(" "+p(d.balance<1e3?"Solde insuffisant (min 1000 XAF)":"Demander un Payout"),1)],8,vi),e("button",{onClick:k=>o.configureAutoPayout(d),class:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700"},[...s[24]||(s[24]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),B(" Configurer Auto-Payout ",-1)])],8,xi)]),e("div",yi,[s[25]||(s[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Dernières transactions",-1)),o.getRecentPayouts(d.gateway).length===0?(m(),u("div",_i," Aucune transaction récente ")):(m(),u("div",hi,[(m(!0),u(q,null,N(o.getRecentPayouts(d.gateway),k=>(m(),u("div",{key:k.id,class:"flex justify-between items-center text-sm"},[e("div",null,[e("span",wi,p(o.formatAmount(k.amount))+" XAF",1),e("span",ki,p(o.formatDate(k.created_at)),1)]),e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.getPayoutStatusClass(k.status)])},p(o.getPayoutStatusName(k.status)),3)]))),128))]))])]))),128))]),e("div",$i,[e("div",Ci,[e("div",Ei,[s[26]||(s[26]=e("h2",{class:"text-xl font-bold"},"Payouts Récents",-1)),e("button",{onClick:s[1]||(s[1]=d=>v.$router.push("/organizer/payouts/history")),class:"text-blue-600 hover:text-blue-800 text-sm"},"Voir tout")])]),o.recentPayouts.length===0?(m(),u("div",ji," Aucun payout récent ")):(m(),u("div",Ai,[e("table",Si,[s[27]||(s[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",Pi,[(m(!0),u(q,null,N(o.recentPayouts,d=>(m(),u("tr",{key:d.id},[e("td",Vi,"#"+p(d.reference),1),e("td",zi,[e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.getGatewayBadgeClass(d.gateway)])},p(o.getGatewayName(d.gateway)),3)]),e("td",Di,p(o.formatAmount(d.amount))+" XAF",1),e("td",Ti,[e("span",{class:O(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.getPayoutStatusClass(d.status)])},p(o.getPayoutStatusName(d.status)),3)]),e("td",Ii,[e("span",{class:O(["inline-flex px-2 py-1 text-xs rounded-full",d.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},p(d.is_automatic?"Auto":"Manuel"),3)]),e("td",Bi,p(o.formatDateTime(d.created_at)),1),e("td",Fi,[e("button",{onClick:k=>o.viewPayoutDetails(d),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,Ui)])]))),128))])])]))])])),o.showPayoutModal?(m(),u("div",Mi,[e("div",qi,[s[34]||(s[34]=e("h3",{class:"text-lg font-bold mb-4"},"Demande de Payout",-1)),e("form",{onSubmit:s[5]||(s[5]=se((...d)=>o.submitPayoutRequest&&o.submitPayoutRequest(...d),["prevent"]))},[e("div",Ri,[e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:o.getGatewayName(o.payoutForm.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,Oi)]),e("div",null,[s[29]||(s[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Disponible",-1)),e("input",{value:o.formatAmount(o.payoutForm.available_balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,Ni)]),e("div",null,[s[30]||(s[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant à retirer (XAF)",-1)),y(e("input",{"onUpdate:modelValue":s[2]||(s[2]=d=>o.payoutForm.amount=d),type:"number",min:1e3,max:o.payoutForm.available_balance,required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Xi),[[C,o.payoutForm.amount,void 0,{number:!0}]]),s[31]||(s[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum: 1,000 XAF",-1))]),e("div",null,[s[32]||(s[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),y(e("input",{"onUpdate:modelValue":s[3]||(s[3]=d=>o.payoutForm.phone_number=d),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[C,o.payoutForm.phone_number]]),s[33]||(s[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro sans indicatif pays",-1))])]),e("div",Li,[e("button",{type:"button",onClick:s[4]||(s[4]=d=>o.showPayoutModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:o.requestingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},p(o.requestingPayout?"Demande en cours...":"Demander le Payout"),9,Gi)])],32)])])):T("",!0),o.showConfigModal?(m(),u("div",Hi,[e("div",Wi,[e("h3",Ki,"Configuration Auto-Payout - "+p(o.getGatewayName(o.configForm.gateway)),1),e("form",{onSubmit:s[10]||(s[10]=se((...d)=>o.saveAutoPayoutConfig&&o.saveAutoPayoutConfig(...d),["prevent"]))},[e("div",Ji,[e("div",null,[e("label",Qi,[y(e("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=d=>o.configForm.auto_payout_enabled=d),class:"rounded border-gray-300"},null,512),[[ue,o.configForm.auto_payout_enabled]]),s[35]||(s[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),o.configForm.auto_payout_enabled?(m(),u("div",Zi,[s[36]||(s[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),y(e("input",{"onUpdate:modelValue":s[7]||(s[7]=d=>o.configForm.auto_payout_threshold=d),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[C,o.configForm.auto_payout_threshold,void 0,{number:!0}]]),s[37]||(s[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):T("",!0),e("div",null,[s[38]||(s[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),y(e("input",{"onUpdate:modelValue":s[8]||(s[8]=d=>o.configForm.payout_phone_number=d),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[C,o.configForm.payout_phone_number]]),s[39]||(s[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts automatiques",-1))])]),e("div",Yi,[e("button",{type:"button",onClick:s[9]||(s[9]=d=>o.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:o.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},p(o.savingConfig?"Enregistrement...":"Enregistrer"),9,el)])],32)])])):T("",!0)])])}const sl=ae(qn,[["render",tl],["__scopeId","data-v-e6c5fcd5"]]),Jl=Object.freeze(Object.defineProperty({__proto__:null,default:sl},Symbol.toStringTag,{value:"Module"})),ol={class:"organizer-profile min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},rl={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},al={key:0,class:"flex justify-center items-center h-64"},nl={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},il={class:"bg-white rounded-primea shadow-primea p-6"},ll={class:"flex items-center justify-between mb-6"},dl=["disabled"],ul=["disabled"],ml=["disabled"],pl={key:0,class:"flex space-x-3 pt-4"},cl=["disabled"],gl={class:"bg-white rounded-primea shadow-primea p-6"},fl={class:"flex items-center justify-between mb-6"},bl=["disabled"],vl=["disabled"],xl=["disabled"],yl=["disabled"],_l=["disabled"],hl={key:0,class:"flex space-x-3 pt-4"},wl=["disabled"],kl={class:"bg-white rounded-primea shadow-primea p-6"},$l=["disabled"],Cl={class:"bg-white rounded-primea shadow-primea p-6"},El={class:"space-y-4"},jl={class:"flex items-center justify-between p-3 bg-green-50 rounded-primea"},Al={class:"flex items-center space-x-3"},Sl={class:"text-xs text-green-600 font-primea"},Pl={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-primea"},Vl={class:"flex items-center space-x-3"},zl={class:"text-xs text-blue-600 font-primea"},Dl={class:"grid grid-cols-2 gap-4 pt-4"},Tl={class:"text-center p-3 border rounded-primea"},Il={class:"text-2xl font-bold text-primea-blue font-primea"},Bl={class:"text-center p-3 border rounded-primea"},Fl={class:"text-2xl font-bold text-primea-yellow font-primea"},Ul={__name:"OrganizerProfile",setup(v){he();const s=$(!1),E=$(!1),o=$(!1),j=$(!1),g=$(!1),d=$(!1),k=$(null),r=$(null),S=$({events:0,tickets:0}),z=Q({name:"",email:"",phone:""}),c=Q({name:"",description:"",website_url:"",contact_email:"",contact_phone:""}),F=Q({current_password:"",password:"",password_confirmation:""}),W=Q({}),X=Q({}),A=()=>{E.value||Object.assign(W,z),E.value=!E.value},f=()=>{o.value||Object.assign(X,c),o.value=!o.value},U=()=>{Object.assign(z,W),E.value=!1},D=()=>{Object.assign(c,X),o.value=!1},J=async()=>{j.value=!0;try{console.log("Mise à jour des informations personnelles:",z),await new Promise(a=>setTimeout(a,1e3)),E.value=!1}catch(a){console.error("Erreur lors de la mise à jour:",a)}finally{j.value=!1}},Z=async()=>{g.value=!0;try{console.log("Mise à jour de l'organisation:",c),await new Promise(a=>setTimeout(a,1e3)),o.value=!1}catch(a){console.error("Erreur lors de la mise à jour:",a)}finally{g.value=!1}},Y=async()=>{if(F.password!==F.password_confirmation){alert("Les mots de passe ne correspondent pas");return}d.value=!0;try{console.log("Changement de mot de passe"),await new Promise(a=>setTimeout(a,1e3)),Object.assign(F,{current_password:"",password:"",password_confirmation:""})}catch(a){console.error("Erreur lors du changement de mot de passe:",a)}finally{d.value=!1}},x=a=>a?new Date(a).toLocaleDateString("fr-FR"):"Non disponible",P=async()=>{s.value=!0;try{k.value={name:"Marie Nzougou",email:"marie@example.com",phone:"+225 07 12 34 56 78",email_verified_at:"2024-01-15T10:30:00Z"},r.value={name:"Mon Organisation",description:"Organisation spécialisée dans l'événementiel",website_url:"https://monorganisation.com",contact_email:"contact@monorganisation.com",contact_phone:"+225 07 12 34 56 79",verified_at:"2024-01-20T14:00:00Z"},S.value={events:12,tickets:345},Object.assign(z,{name:k.value.name,email:k.value.email,phone:k.value.phone}),Object.assign(c,{name:r.value.name,description:r.value.description,website_url:r.value.website_url,contact_email:r.value.contact_email,contact_phone:r.value.contact_phone})}catch(a){console.error("Erreur lors du chargement du profil:",a)}finally{s.value=!1}};return re(()=>{P()}),(a,t)=>(m(),u("div",ol,[e("div",rl,[t[31]||(t[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon Profil Organisateur"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez vos informations personnelles et celles de votre organisation")],-1)),s.value?(m(),u("div",al,[...t[11]||(t[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):(m(),u("div",nl,[e("div",il,[e("div",ll,[t[12]||(t[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Informations Personnelles",-1)),e("button",{onClick:A,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(h(ge),{class:"w-5 h-5"})])]),e("form",{onSubmit:se(J,["prevent"]),class:"space-y-4"},[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom complet",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>z.name=l),type:"text",disabled:!E.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Votre nom complet"},null,8,dl),[[C,z.name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>z.email=l),type:"email",disabled:!E.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"votre@email.com"},null,8,ul),[[C,z.email]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>z.phone=l),type:"tel",disabled:!E.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,ml),[[C,z.phone]])]),E.value?(m(),u("div",pl,[e("button",{type:"submit",disabled:j.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},p(j.value?"Enregistrement...":"Enregistrer"),9,cl),e("button",{type:"button",onClick:U,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):T("",!0)],32)]),e("div",gl,[e("div",fl,[t[16]||(t[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Mon Organisation",-1)),e("button",{onClick:f,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[b(h(ge),{class:"w-5 h-5"})])]),e("form",{onSubmit:se(Z,["prevent"]),class:"space-y-4"},[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom de l'organisation",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>c.name=l),type:"text",disabled:!o.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Nom de votre organisation"},null,8,bl),[[C,c.name]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>c.description=l),disabled:!o.value,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea resize-none",placeholder:"Décrivez votre organisation..."},null,8,vl),[[C,c.description]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Site web",-1)),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>c.website_url=l),type:"url",disabled:!o.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"https://votresite.com"},null,8,xl),[[C,c.website_url]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email de contact",-1)),y(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>c.contact_email=l),type:"email",disabled:!o.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"contact@organisation.com"},null,8,yl),[[C,c.contact_email]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone de contact",-1)),y(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>c.contact_phone=l),type:"tel",disabled:!o.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,_l),[[C,c.contact_phone]])]),o.value?(m(),u("div",hl,[e("button",{type:"submit",disabled:g.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},p(g.value?"Enregistrement...":"Enregistrer"),9,wl),e("button",{type:"button",onClick:D,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):T("",!0)],32)]),e("div",kl,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Sécurité",-1)),e("form",{onSubmit:se(Y,["prevent"]),class:"space-y-4"},[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Mot de passe actuel",-1)),y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>F.current_password=l),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Votre mot de passe actuel"},null,512),[[C,F.current_password]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nouveau mot de passe",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>F.password=l),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nouveau mot de passe"},null,512),[[C,F.password]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Confirmer le mot de passe",-1)),y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>F.password_confirmation=l),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[C,F.password_confirmation]])]),e("button",{type:"submit",disabled:d.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},p(d.value?"Mise à jour...":"Changer le mot de passe"),9,$l)],32)]),e("div",Cl,[t[30]||(t[30]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Statut du Compte",-1)),e("div",El,[e("div",jl,[e("div",Al,[b(h(ze),{class:"w-5 h-5 text-green-600"}),t[26]||(t[26]=e("span",{class:"text-sm font-medium text-green-800 font-primea"},"Compte vérifié",-1))]),e("span",Sl,p(x(k.value?.email_verified_at)),1)]),r.value?.verified_at?(m(),u("div",Pl,[e("div",Vl,[b(h(De),{class:"w-5 h-5 text-blue-600"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium text-blue-800 font-primea"},"Organisation certifiée",-1))]),e("span",zl,p(x(r.value.verified_at)),1)])):T("",!0),e("div",Dl,[e("div",Tl,[e("p",Il,p(S.value.events||0),1),t[28]||(t[28]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements créés",-1))]),e("div",Bl,[e("p",Fl,p(S.value.tickets||0),1),t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1))])])])])]))])]))}},Ml=ae(Ul,[["__scopeId","data-v-88f51db0"]]),Ql=Object.freeze(Object.defineProperty({__proto__:null,default:Ml},Symbol.toStringTag,{value:"Module"}));export{Jl as B,Gl as E,Ll as O,M as a,Hl as b,Wl as c,Kl as d,Ql as e,Xl as g,Nl as t};
