import{b as h,Y as U,d as N,Z as G,j as d,o as u,k as e,t as a,l as v,$ as z,a0 as Y,a1 as se,g as oe,O as ae,w as O,a2 as Z,a as W,y as ne,N as re,e as le,a3 as ie,G as M,H as T,q as E,p as D,D as g,E as w,F as L,P as de,X as ue,J as ce,W as R,n as V,_ as me,R as K,C as pe,S as ge}from"./vue-vendor-uu3Vozju.js";import{_ as I,u as ee}from"./account-O3xHl5dx.js";const xe={class:"organizer-dashboard min-h-screen"},be={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},fe={class:"mb-8"},ye={class:"flex items-center justify-between"},ve={class:"flex items-center space-x-4"},he={class:"text-right"},_e={class:"text-sm font-semibold text-primea-blue font-primea"},we={class:"w-12 h-12 bg-primea-blue text-white rounded-full flex items-center justify-center"},ke={class:"text-lg font-bold font-primea"},$e={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Ce={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-blue"},Fe={class:"flex items-center"},je={class:"p-2 bg-primea-blue/10 rounded-lg"},Se={class:"ml-4"},Pe={class:"text-2xl font-bold text-primea-blue font-primea"},Ae={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-green-500"},ze={class:"flex items-center"},Me={class:"p-2 bg-green-100 rounded-lg"},Te={class:"ml-4"},Ee={class:"text-2xl font-bold text-green-600 font-primea"},Ve={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-yellow"},De={class:"flex items-center"},Be={class:"p-2 bg-primea-yellow/10 rounded-lg"},Oe={class:"ml-4"},Ue={class:"text-2xl font-bold text-primea-yellow font-primea"},Ne={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-purple-500"},Xe={class:"flex items-center"},Re={class:"p-2 bg-purple-100 rounded-lg"},Ie={class:"ml-4"},qe={class:"text-2xl font-bold text-purple-600 font-primea"},Le={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},Ge={class:"lg:col-span-2"},Je={class:"bg-white rounded-primea shadow-primea p-6"},He={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Qe={class:"bg-white rounded-primea shadow-primea p-6"},Ze={class:"space-y-4"},We={key:0,class:"text-center text-gray-500 py-8"},Ye={class:"text-sm font-medium font-primea"},Ke={class:"text-xs text-gray-600 mt-1"},et={class:"text-xs text-gray-400 mt-2"},tt={class:"bg-white rounded-primea shadow-primea overflow-hidden"},st={class:"p-6 border-b border-gray-200"},ot={class:"flex items-center justify-between"},at={key:0,class:"p-8 text-center text-gray-500"},nt={key:1,class:"overflow-x-auto"},rt={class:"w-full"},lt={class:"divide-y divide-gray-200"},it={class:"px-6 py-4"},dt={class:"text-sm font-medium text-gray-900 font-primea"},ut={class:"text-sm text-gray-500"},ct={class:"px-6 py-4 text-sm text-gray-900 font-primea"},mt={class:"px-6 py-4"},pt={class:"px-6 py-4 text-sm text-gray-900 font-primea"},gt={__name:"OrganizerDashboard",setup(S){const t=ee(),f=h(!1),s=U({total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),x=h([]),F=h([]),o=N(()=>{const y=t.user;return y?.name?y.name.split(" ").map(n=>n[0]).join("").toUpperCase().slice(0,2):"U"}),m=async()=>{f.value=!0;try{Object.assign(s,{total_events:5,active_events:3,tickets_sold:127,total_revenue:254e4}),x.value=[{id:1,title:"Concert Jazz sous les étoiles",venue_name:"Palais de la Culture",event_date:"2025-10-15",status:"active",tickets_sold:45},{id:2,title:"Festival Gastronomique",venue_name:"Centre des Expositions",event_date:"2025-11-02",status:"draft",tickets_sold:0}],F.value=[{id:1,type:"success",title:"Nouveau billet vendu",message:"Concert Jazz sous les étoiles",created_at:new Date().toISOString()}]}catch(y){console.error("Erreur lors du chargement du dashboard:",y)}finally{f.value=!1}},r=y=>new Intl.NumberFormat("fr-FR").format(y),P=y=>new Date(y).toLocaleDateString("fr-FR"),A=y=>new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),_=y=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[y]||y,j=y=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[y]||"bg-gray-100 text-gray-800",B=y=>({success:"border-green-500",warning:"border-yellow-500",error:"border-red-500",info:"border-blue-500"})[y]||"border-gray-300";return G(()=>{m()}),(y,n)=>{const b=W("router-link");return u(),d("div",xe,[e("div",be,[e("div",fe,[e("div",ye,[n[1]||(n[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea mb-2"},"Tableau de Bord Organisateur"),e("p",{class:"text-gray-600 font-primea"},"Bienvenue dans votre espace de gestion d'événements")],-1)),e("div",ve,[e("div",he,[n[0]||(n[0]=e("p",{class:"text-sm text-gray-500 font-primea"},"Dernière connexion",-1)),e("p",_e,a(P(new Date)),1)]),e("div",we,[e("span",ke,a(o.value),1)])])])]),e("div",$e,[e("div",Ce,[e("div",Fe,[e("div",je,[v(z(Y),{class:"w-6 h-6 text-primea-blue"})]),e("div",Se,[n[2]||(n[2]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Total",-1)),e("p",Pe,a(s.total_events),1)])])]),e("div",Ae,[e("div",ze,[e("div",Me,[v(z(se),{class:"w-6 h-6 text-green-600"})]),e("div",Te,[n[3]||(n[3]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Actifs",-1)),e("p",Ee,a(s.active_events),1)])])]),e("div",Ve,[e("div",De,[e("div",Be,[v(z(oe),{class:"w-6 h-6 text-primea-yellow"})]),e("div",Oe,[n[4]||(n[4]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets Vendus",-1)),e("p",Ue,a(s.tickets_sold),1)])])]),e("div",Ne,[e("div",Xe,[e("div",Re,[v(z(ae),{class:"w-6 h-6 text-purple-600"})]),e("div",Ie,[n[5]||(n[5]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",qe,a(r(s.total_revenue))+" XAF",1)])])])]),e("div",Le,[e("div",Ge,[e("div",Je,[n[10]||(n[10]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Actions Rapides",-1)),e("div",He,[v(b,{to:{name:"organizer-event-create"},class:"flex items-center p-4 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:O(()=>[v(z(Z),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),n[6]||(n[6]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Créer un Événement"),e("p",{class:"text-sm opacity-90"},"Nouveau projet d'événement")],-1))]),_:1}),v(b,{to:{name:"organizer-events"},class:"flex items-center p-4 border-2 border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 group"},{default:O(()=>[v(z(ne),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),n[7]||(n[7]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Gérer les Événements"),e("p",{class:"text-sm opacity-70"},"Voir et modifier")],-1))]),_:1}),v(b,{to:{name:"organizer-balance"},class:"flex items-center p-4 border-2 border-primea-yellow text-primea-yellow rounded-primea hover:bg-primea-yellow hover:text-white transition-all duration-200 group"},{default:O(()=>[v(z(re),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),n[8]||(n[8]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Gestion Financière"),e("p",{class:"text-sm opacity-70"},"Soldes et payouts")],-1))]),_:1}),v(b,{to:{name:"organizer-profile"},class:"flex items-center p-4 border-2 border-gray-400 text-gray-600 rounded-primea hover:bg-gray-400 hover:text-white transition-all duration-200 group"},{default:O(()=>[v(z(le),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),n[9]||(n[9]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Mon Profil"),e("p",{class:"text-sm opacity-70"},"Informations personnelles")],-1))]),_:1})])])]),e("div",Qe,[n[12]||(n[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Notifications",-1)),e("div",Ze,[F.value.length===0?(u(),d("div",We,[v(z(ie),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),n[11]||(n[11]=e("p",{class:"font-primea"},"Aucune notification",-1))])):(u(!0),d(M,{key:1},T(F.value,p=>(u(),d("div",{key:p.id,class:E(["p-3 bg-gray-50 rounded-primea border-l-4",B(p.type)])},[e("p",Ye,a(p.title),1),e("p",Ke,a(p.message),1),e("p",et,a(A(p.created_at)),1)],2))),128))])])]),e("div",tt,[e("div",st,[e("div",ot,[n[14]||(n[14]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Événements Récents",-1)),v(b,{to:{name:"organizer-events"},class:"text-primea-blue hover:text-primea-yellow transition-colors font-primea text-sm"},{default:O(()=>[...n[13]||(n[13]=[D(" Voir tous ",-1)])]),_:1})])]),x.value.length===0?(u(),d("div",at,[v(z(Y),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),n[16]||(n[16]=e("p",{class:"font-primea text-lg"},"Aucun événement créé",-1)),n[17]||(n[17]=e("p",{class:"font-primea text-sm mt-2"},"Commencez par créer votre premier événement",-1)),v(b,{to:{name:"organizer-event-create"},class:"inline-flex items-center mt-4 px-4 py-2 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:O(()=>[v(z(Z),{class:"w-4 h-4 mr-2"}),n[15]||(n[15]=D(" Créer un événement ",-1))]),_:1})])):(u(),d("div",nt,[e("table",rt,[n[19]||(n[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Actions")])],-1)),e("tbody",lt,[(u(!0),d(M,null,T(x.value,p=>(u(),d("tr",{key:p.id,class:"hover:bg-gray-50"},[e("td",it,[e("div",null,[e("p",dt,a(p.title),1),e("p",ut,a(p.venue_name),1)])]),e("td",ct,a(P(p.event_date)),1),e("td",mt,[e("span",{class:E(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",j(p.status)])},a(_(p.status)),3)]),e("td",pt,a(p.tickets_sold||0),1),n[18]||(n[18]=e("td",{class:"px-6 py-4 text-sm"},[e("button",{class:"text-primea-blue hover:text-primea-yellow font-primea"}," Gérer ")],-1))]))),128))])])]))])])])}}},xt=I(gt,[["__scopeId","data-v-ff1e83fb"]]),Un=Object.freeze(Object.defineProperty({__proto__:null,default:xt},Symbol.toStringTag,{value:"Module"})),bt={name:"OrganizerEvents",components:{PlusIcon:Z},setup(){const S=ce(),t=h(""),f=h(""),s=h("grid"),x=h([{id:1,title:"L'OISEAU RARE",date:"2025-07-27T20:00:00",venue:"Entre Nous Bar",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"published",ticketsSold:85,totalTickets:150,revenue:85e4,isFavorite:!0},{id:2,title:"Concert Jazz Night",date:"2025-08-15T19:30:00",venue:"Palais de la Culture",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"draft",ticketsSold:0,totalTickets:200,revenue:0,isFavorite:!1},{id:3,title:"Festival Arts & Culture",date:"2025-09-10T14:00:00",venue:"Amphithéâtre National",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"published",ticketsSold:162,totalTickets:300,revenue:243e4,isFavorite:!1},{id:4,title:"Soirée Hip-Hop",date:"2025-06-20T21:00:00",venue:"Club Central",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"completed",ticketsSold:120,totalTickets:120,revenue:12e5,isFavorite:!0}]),F=N(()=>{let n=[...x.value];if(t.value){const b=t.value.toLowerCase();n=n.filter(p=>p.title.toLowerCase().includes(b)||p.venue.toLowerCase().includes(b))}return f.value&&(n=n.filter(b=>b.status===f.value)),n}),o=N(()=>{const n=x.value.filter(c=>c.status==="published").length,b=x.value.filter(c=>c.status==="draft").length,p=x.value.reduce((c,k)=>c+(k.ticketsSold||0),0),X=x.value.reduce((c,k)=>c+(k.revenue||0),0);return{published:n,draft:b,totalTicketsSold:p,totalRevenue:X}});return{searchQuery:t,statusFilter:f,viewMode:s,events:x,filteredEvents:F,stats:o,formatPrice:n=>new Intl.NumberFormat("fr-FR").format(n),formatEventDate:(n,b="full")=>{const p=new Date(n);return b==="short"?p.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):p.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},getStatusClass:n=>({published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"})[n]||"bg-gray-100 text-gray-800",getStatusText:n=>({published:"Publié",draft:"Brouillon",cancelled:"Annulé",completed:"Terminé"})[n]||"Inconnu",toggleFavorite:n=>{n.isFavorite=!n.isFavorite},duplicateEvent:n=>{const b={...n,id:Math.max(...x.value.map(p=>p.id))+1,title:`${n.title} (Copie)`,status:"draft",ticketsSold:0,revenue:0,isFavorite:!1};x.value.unshift(b)},editEvent:n=>{S.push(`/organizer/events/${n.id}/edit`)},deleteEvent:n=>{if(confirm(`Êtes-vous sûr de vouloir supprimer l'événement "${n.title}" ?`)){const b=x.value.findIndex(p=>p.id===n.id);b>-1&&x.value.splice(b,1)}}}}},ft={class:"organizer-events min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},yt={class:"bg-white shadow-sm border-b border-gray-200"},vt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},ht={class:"flex items-center justify-between"},_t={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},wt={class:"bg-white rounded-lg shadow-md p-6 mb-8"},kt={class:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6"},$t={class:"flex items-center space-x-4"},Ct={class:"relative"},Ft={class:"flex items-center space-x-4"},jt={class:"text-sm text-gray-600"},St={class:"flex bg-gray-100 rounded-lg p-1"},Pt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},At={class:"text-center"},zt={class:"text-2xl font-bold text-blue-600"},Mt={class:"text-center"},Tt={class:"text-2xl font-bold text-yellow-600"},Et={class:"text-center"},Vt={class:"text-2xl font-bold text-green-600"},Dt={class:"text-center"},Bt={class:"text-2xl font-bold text-purple-600"},Ot={key:0},Ut={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Nt={class:"relative"},Xt=["src","alt"],Rt={class:"absolute top-4 left-4"},It={class:"absolute top-4 right-4"},qt=["onClick"],Lt={class:"p-6"},Gt={class:"text-lg font-bold text-gray-800 mb-2"},Jt={class:"text-gray-600 text-sm mb-4"},Ht={class:"flex items-center justify-between mb-4"},Qt={class:"text-sm text-gray-600"},Zt={class:"font-medium"},Wt={class:"text-sm font-bold text-green-600"},Yt={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},Kt={class:"flex space-x-2"},es=["onClick"],ts={key:1,class:"bg-white rounded-lg shadow-md overflow-hidden"},ss={class:"w-full"},os={class:"bg-white divide-y divide-gray-200"},as={class:"px-6 py-4 whitespace-nowrap"},ns={class:"flex items-center"},rs=["src","alt"],ls={class:"text-sm font-medium text-gray-900"},is={class:"text-sm text-gray-500"},ds={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},us={class:"px-6 py-4 whitespace-nowrap"},cs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ms={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600"},ps={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},gs=["onClick"],xs=["onClick"],bs={key:1,class:"text-center py-16"},fs={class:"text-gray-600 mb-6"},ys={key:0},vs={key:1};function hs(S,t,f,s,x,F){const o=W("PlusIcon"),m=W("router-link");return u(),d("div",ft,[e("div",yt,[e("div",vt,[e("div",ht,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mes Événements"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez tous vos événements en un seul endroit")],-1)),v(m,{to:{name:"organizer-event-create"},class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 shadow-primea"},{default:O(()=>[v(o,{class:"w-4 h-4 inline mr-2"}),t[4]||(t[4]=D(" Nouvel événement ",-1))]),_:1})])])]),e("div",_t,[e("div",wt,[e("div",kt,[e("div",$t,[e("div",Ct,[t[6]||(t[6]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),g(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>s.searchQuery=r),placeholder:"Rechercher un événement...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[w,s.searchQuery]])]),g(e("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>s.statusFilter=r),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[7]||(t[7]=[de('<option value="" data-v-e1119998>Tous les statuts</option><option value="draft" data-v-e1119998>Brouillons</option><option value="published" data-v-e1119998>Publiés</option><option value="completed" data-v-e1119998>Terminés</option><option value="cancelled" data-v-e1119998>Annulés</option>',5)])],512),[[L,s.statusFilter]])]),e("div",Ft,[e("div",jt,a(s.filteredEvents.length)+" événement"+a(s.filteredEvents.length>1?"s":""),1),e("div",St,[e("button",{onClick:t[2]||(t[2]=r=>s.viewMode="grid"),class:E(["px-3 py-2 rounded-lg transition-colors",s.viewMode==="grid"?"bg-white shadow-sm":""])},[...t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:t[3]||(t[3]=r=>s.viewMode="list"),class:E(["px-3 py-2 rounded-lg transition-colors",s.viewMode==="list"?"bg-white shadow-sm":""])},[...t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])])]),e("div",Pt,[e("div",At,[e("p",zt,a(s.stats.published),1),t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1))]),e("div",Mt,[e("p",Tt,a(s.stats.draft),1),t[11]||(t[11]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1))]),e("div",Et,[e("p",Vt,a(s.stats.totalTicketsSold),1),t[12]||(t[12]=e("p",{class:"text-sm text-gray-600"},"Tickets vendus",-1))]),e("div",Dt,[e("p",Bt,a(s.formatPrice(s.stats.totalRevenue))+" FCFA",1),t[13]||(t[13]=e("p",{class:"text-sm text-gray-600"},"Revenus",-1))])])]),s.filteredEvents.length>0?(u(),d("div",Ot,[s.viewMode==="grid"?(u(),d("div",Ut,[(u(!0),d(M,null,T(s.filteredEvents,r=>(u(),d("div",{key:r.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",Nt,[e("img",{src:r.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",alt:r.title,class:"w-full h-48 object-cover"},null,8,Xt),e("div",Rt,[e("span",{class:E(["px-3 py-1 rounded-full text-xs font-semibold",s.getStatusClass(r.status)])},a(s.getStatusText(r.status)),3)]),e("div",It,[e("button",{onClick:P=>s.toggleFavorite(r),class:"bg-white/90 p-2 rounded-full hover:bg-white transition-colors"},[(u(),d("svg",{class:E(["w-4 h-4",r.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[14]||(t[14]=[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])],2))],8,qt)])]),e("div",Lt,[e("h3",Gt,a(r.title),1),e("p",Jt,a(s.formatEventDate(r.date)),1),e("div",Ht,[e("div",Qt,[e("span",Zt,a(r.ticketsSold||0),1),D(" / "+a(r.totalTickets||100)+" tickets vendus ",1)]),e("div",Wt,a(s.formatPrice(r.revenue||0))+" FCFA ",1)]),e("div",Yt,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:ue({width:`${Math.min((r.ticketsSold||0)/(r.totalTickets||100)*100,100)}%`})},null,4)]),e("div",Kt,[v(m,{to:`/organizer/events/${r.id}`,class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors"},{default:O(()=>[...t[15]||(t[15]=[D(" Voir détails ",-1)])]),_:1},8,["to"]),e("button",{onClick:P=>s.duplicateEvent(r),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"}," Dupliquer ",8,es)])])]))),128))])):(u(),d("div",ts,[e("table",ss,[t[17]||(t[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ventes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Revenus"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",os,[(u(!0),d(M,null,T(s.filteredEvents,r=>(u(),d("tr",{key:r.id,class:"hover:bg-gray-50"},[e("td",as,[e("div",ns,[e("img",{src:r.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=60",alt:r.title,class:"w-12 h-12 object-cover rounded-lg mr-4"},null,8,rs),e("div",null,[e("div",ls,a(r.title),1),e("div",is,a(r.venue),1)])])]),e("td",ds,a(s.formatEventDate(r.date,"short")),1),e("td",us,[e("span",{class:E(["px-2 py-1 rounded-full text-xs font-medium",s.getStatusClass(r.status)])},a(s.getStatusText(r.status)),3)]),e("td",cs,a(r.ticketsSold||0)+" / "+a(r.totalTickets||100),1),e("td",ms,a(s.formatPrice(r.revenue||0))+" FCFA ",1),e("td",ps,[v(m,{to:`/organizer/events/${r.id}`,class:"text-blue-600 hover:text-blue-900"},{default:O(()=>[...t[16]||(t[16]=[D(" Voir ",-1)])]),_:1},8,["to"]),e("button",{onClick:P=>s.editEvent(r),class:"text-yellow-600 hover:text-yellow-900"}," Modifier ",8,gs),e("button",{onClick:P=>s.deleteEvent(r),class:"text-red-600 hover:text-red-900"}," Supprimer ",8,xs)])]))),128))])])]))])):(u(),d("div",bs,[t[19]||(t[19]=e("div",{class:"inline-block p-6 bg-gray-100 rounded-full mb-6"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),t[20]||(t[20]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Aucun événement trouvé",-1)),e("p",fs,[s.searchQuery||s.statusFilter?(u(),d("span",ys," Aucun événement ne correspond à vos critères de recherche. ")):(u(),d("span",vs," Commencez par créer votre premier événement ! "))]),v(m,{to:"/organizer/events/create",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-block"},{default:O(()=>[...t[18]||(t[18]=[D(" + Créer mon premier événement ",-1)])]),_:1})]))])])}const _s=I(bt,[["render",hs],["__scopeId","data-v-e1119998"]]),Nn=Object.freeze(Object.defineProperty({__proto__:null,default:_s},Symbol.toStringTag,{value:"Module"})),ws={name:"EventCreate",setup(){const S=h(!1),t=h([]),f=h([]),s=U({title:"",description:"",category_id:"",venue_id:"",status:"draft",image_url:"",schedules:[],ticketTypes:[]}),x=N(()=>t.value.find(c=>c.id==s.category_id)),F=N(()=>f.value.find(c=>c.id==s.venue_id)),o=N(()=>s.ticketTypes.reduce((c,k)=>c+(k.capacity||0),0)),m=N(()=>s.ticketTypes.length===0?0:Math.min(...s.ticketTypes.map(c=>c.price||0))),r=N(()=>s.ticketTypes.length===0?0:Math.max(...s.ticketTypes.map(c=>c.price||0))),P=async()=>{try{const c=await fetch("/api/client/categories",{headers:{Accept:"application/json"}}),k=await c.json();c.ok&&(t.value=k)}catch(c){console.error("Erreur chargement catégories:",c)}},A=async()=>{try{const k=await(await fetch("/api/v1/venues",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();k.success&&(f.value=k.data.venues)}catch(c){console.error("Erreur chargement lieux:",c)}},_=()=>{s.schedules.push({starts_at:"",ends_at:""})},j=c=>{s.schedules.splice(c,1)},B=()=>{s.ticketTypes.push({name:"",price:"",capacity:"",description:""})},y=c=>{s.ticketTypes.splice(c,1)},n=c=>{const k=c.target.files[0];k&&(s.image_url=URL.createObjectURL(k))},b=async()=>{if(s.schedules.length===0){alert("Veuillez ajouter au moins une séance");return}if(s.ticketTypes.length===0){alert("Veuillez ajouter au moins un type de billet");return}S.value=!0;try{const k=await(await fetch("/api/v1/events",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json();k.success?(alert("Événement créé avec succès!"),this.$router.push(`/organizer/events/${k.data.event.id}/edit`)):alert(k.message||"Erreur lors de la création")}catch(c){console.error("Erreur création événement:",c),alert("Erreur technique")}finally{S.value=!1}},p=c=>new Intl.NumberFormat("fr-FR").format(c),X=c=>c?new Date(c).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return G(()=>{P(),A(),_(),B()}),{creating:S,categories:t,venues:f,eventForm:s,selectedCategory:x,selectedVenue:F,totalCapacity:o,minPrice:m,maxPrice:r,addSchedule:_,removeSchedule:j,addTicketType:B,removeTicketType:y,handleImageUpload:n,createEvent:b,formatAmount:p,formatDateTime:X}}},ks={class:"event-create min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},$s={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Cs={class:"mb-8"},Fs={class:"flex items-center justify-between"},js={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ss={class:"lg:col-span-2 space-y-6"},Ps={class:"bg-white rounded-lg shadow p-6"},As={class:"space-y-4"},zs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ms=["value"],Ts=["value"],Es={class:"bg-white rounded-lg shadow p-6"},Vs={class:"flex justify-between items-center mb-4"},Ds={key:0,class:"text-center text-gray-500 py-8"},Bs={key:1,class:"space-y-4"},Os={class:"flex justify-between items-start mb-3"},Us={class:"font-medium"},Ns=["onClick"],Xs={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Rs=["onUpdate:modelValue"],Is=["onUpdate:modelValue"],qs={class:"bg-white rounded-lg shadow p-6"},Ls={class:"flex justify-between items-center mb-4"},Gs={key:0,class:"text-center text-gray-500 py-8"},Js={key:1,class:"space-y-4"},Hs={class:"flex justify-between items-start mb-3"},Qs={class:"font-medium"},Zs=["onClick"],Ws={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ys=["onUpdate:modelValue"],Ks=["onUpdate:modelValue"],eo=["onUpdate:modelValue"],to={class:"mt-3"},so=["onUpdate:modelValue"],oo={class:"lg:col-span-1 space-y-6"},ao={class:"bg-white rounded-lg shadow p-6"},no={class:"space-y-3"},ro={class:"font-medium text-gray-900"},lo={class:"text-sm text-gray-600"},io={key:0},uo={class:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},co={key:1,class:"flex items-center text-sm text-gray-600"},mo={key:2},po={class:"space-y-1"},go={key:0,class:"text-xs text-gray-500"},xo={key:3},bo={class:"space-y-1"},fo={class:"font-medium"},yo={class:"bg-white rounded-lg shadow p-6"},vo={class:"space-y-4"},ho={class:"pt-4 border-t"},_o=["disabled"],wo={class:"bg-white rounded-lg shadow p-6"},ko={class:"space-y-2 text-sm"},$o={class:"flex justify-between"},Co={class:"font-medium"},Fo={class:"flex justify-between"},jo={class:"font-medium"},So={class:"flex justify-between"},Po={class:"font-medium"},Ao={class:"flex justify-between"},zo={class:"font-medium"},Mo={class:"flex justify-between"},To={class:"font-medium"};function Eo(S,t,f,s,x,F){return u(),d("div",ks,[e("div",$s,[e("div",Cs,[e("div",Fs,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Créer un Événement"),e("p",{class:"text-gray-600"},"Configurez tous les détails de votre événement")],-1)),e("button",{onClick:t[0]||(t[0]=o=>S.$router.go(-1)),class:"text-gray-600 hover:text-gray-800"},[...t[10]||(t[10]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])])])]),e("form",{onSubmit:t[9]||(t[9]=R((...o)=>s.createEvent&&s.createEvent(...o),["prevent"])),class:"max-w-4xl"},[e("div",js,[e("div",Ss,[e("div",Ps,[t[20]||(t[20]=e("h2",{class:"text-xl font-bold mb-4"},"Informations de Base",-1)),e("div",As,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre de l'événement *",-1)),g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.eventForm.title=o),type:"text",required:"",class:"w-full border rounded-lg px-3 py-2",placeholder:"Concert de Jazz, Spectacle de Théâtre..."},null,512),[[w,s.eventForm.title]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.eventForm.description=o),rows:"4",class:"w-full border rounded-lg px-3 py-2",placeholder:"Décrivez votre événement en détails..."},null,512),[[w,s.eventForm.description]])]),e("div",zs,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie *",-1)),g(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.eventForm.category_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[14]||(t[14]=e("option",{value:""},"Sélectionner une catégorie",-1)),(u(!0),d(M,null,T(s.categories,o=>(u(),d("option",{key:o.id,value:o.id},a(o.name),9,Ms))),128))],512),[[L,s.eventForm.category_id]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lieu *",-1)),g(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.eventForm.venue_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[16]||(t[16]=e("option",{value:""},"Sélectionner un lieu",-1)),(u(!0),d(M,null,T(s.venues,o=>(u(),d("option",{key:o.id,value:o.id},a(o.name)+" - "+a(o.city),9,Ts))),128))],512),[[L,s.eventForm.venue_id]])])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image de couverture",-1)),e("input",{type:"file",onChange:t[5]||(t[5]=(...o)=>s.handleImageUpload&&s.handleImageUpload(...o)),accept:"image/*",class:"w-full border rounded-lg px-3 py-2"},null,32),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500 mt-1"},"Formats acceptés: JPG, PNG, WebP. Taille max: 5MB",-1))])])]),e("div",Es,[e("div",Vs,[t[21]||(t[21]=e("h2",{class:"text-xl font-bold"},"Programmation",-1)),e("button",{type:"button",onClick:t[6]||(t[6]=(...o)=>s.addSchedule&&s.addSchedule(...o)),class:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"}," Ajouter une séance ")]),s.eventForm.schedules.length===0?(u(),d("div",Ds,' Aucune séance programmée. Cliquez sur "Ajouter une séance" pour commencer. ')):(u(),d("div",Bs,[(u(!0),d(M,null,T(s.eventForm.schedules,(o,m)=>(u(),d("div",{key:m,class:"border rounded-lg p-4 bg-gray-50"},[e("div",Os,[e("h3",Us,"Séance "+a(m+1),1),e("button",{type:"button",onClick:r=>s.removeSchedule(m),class:"text-red-600 hover:text-red-800"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ns)]),e("div",Xs,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date et heure de début *",-1)),g(e("input",{"onUpdate:modelValue":r=>o.starts_at=r,type:"datetime-local",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Rs),[[w,o.starts_at]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date et heure de fin *",-1)),g(e("input",{"onUpdate:modelValue":r=>o.ends_at=r,type:"datetime-local",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Is),[[w,o.ends_at]])])])]))),128))]))]),e("div",qs,[e("div",Ls,[t[25]||(t[25]=e("h2",{class:"text-xl font-bold"},"Types de Billets",-1)),e("button",{type:"button",onClick:t[7]||(t[7]=(...o)=>s.addTicketType&&s.addTicketType(...o)),class:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700"}," Ajouter un type ")]),s.eventForm.ticketTypes.length===0?(u(),d("div",Gs,' Aucun type de billet défini. Cliquez sur "Ajouter un type" pour commencer. ')):(u(),d("div",Js,[(u(!0),d(M,null,T(s.eventForm.ticketTypes,(o,m)=>(u(),d("div",{key:m,class:"border rounded-lg p-4 bg-gray-50"},[e("div",Hs,[e("h3",Qs,a(o.name||`Type ${m+1}`),1),e("button",{type:"button",onClick:r=>s.removeTicketType(m),class:"text-red-600 hover:text-red-800"},[...t[26]||(t[26]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Zs)]),e("div",Ws,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom du type *",-1)),g(e("input",{"onUpdate:modelValue":r=>o.name=r,type:"text",required:"",placeholder:"VIP, Standard, Étudiant...",class:"w-full border rounded-lg px-3 py-2"},null,8,Ys),[[w,o.name]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prix (XAF) *",-1)),g(e("input",{"onUpdate:modelValue":r=>o.price=r,type:"number",min:"0",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Ks),[[w,o.price,void 0,{number:!0}]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacité *",-1)),g(e("input",{"onUpdate:modelValue":r=>o.capacity=r,type:"number",min:"1",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,eo),[[w,o.capacity,void 0,{number:!0}]])])]),e("div",to,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":r=>o.description=r,rows:"2",placeholder:"Avantages inclus, restrictions...",class:"w-full border rounded-lg px-3 py-2"},null,8,so),[[w,o.description]])])]))),128))]))])]),e("div",oo,[e("div",ao,[t[34]||(t[34]=e("h2",{class:"text-xl font-bold mb-4"},"Aperçu",-1)),e("div",no,[e("div",null,[e("h3",ro,a(s.eventForm.title||"Titre de l'événement"),1),e("p",lo,a(s.eventForm.description||"Description..."),1)]),s.selectedCategory?(u(),d("div",io,[e("span",uo,a(s.selectedCategory.name),1)])):V("",!0),s.selectedVenue?(u(),d("div",co,[t[31]||(t[31]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),D(" "+a(s.selectedVenue.name),1)])):V("",!0),s.eventForm.schedules.length>0?(u(),d("div",mo,[t[32]||(t[32]=e("h4",{class:"text-sm font-medium text-gray-700 mb-1"},"Prochaines séances:",-1)),e("div",po,[(u(!0),d(M,null,T(s.eventForm.schedules.slice(0,3),(o,m)=>(u(),d("div",{key:m,class:"text-xs text-gray-600"},a(s.formatDateTime(o.starts_at)),1))),128)),s.eventForm.schedules.length>3?(u(),d("div",go," +"+a(s.eventForm.schedules.length-3)+" autre(s) séance(s) ",1)):V("",!0)])])):V("",!0),s.eventForm.ticketTypes.length>0?(u(),d("div",xo,[t[33]||(t[33]=e("h4",{class:"text-sm font-medium text-gray-700 mb-1"},"Tarifs:",-1)),e("div",bo,[(u(!0),d(M,null,T(s.eventForm.ticketTypes,o=>(u(),d("div",{key:o.name,class:"flex justify-between text-xs"},[e("span",null,a(o.name),1),e("span",fo,a(s.formatAmount(o.price))+" XAF",1)]))),128))])])):V("",!0)])]),e("div",yo,[t[38]||(t[38]=e("h2",{class:"text-xl font-bold mb-4"},"Publication",-1)),e("div",vo,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),g(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.eventForm.status=o),class:"w-full border rounded-lg px-3 py-2"},[...t[35]||(t[35]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1)])],512),[[L,s.eventForm.status]]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1"}," Les brouillons ne sont pas visibles par le public ",-1))]),e("div",ho,[e("button",{type:"submit",disabled:s.creating,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50"},a(s.creating?"Création en cours...":"Créer l'événement"),9,_o)])])]),e("div",wo,[t[44]||(t[44]=e("h2",{class:"text-xl font-bold mb-4"},"Résumé",-1)),e("div",ko,[e("div",$o,[t[39]||(t[39]=e("span",{class:"text-gray-600"},"Séances:",-1)),e("span",Co,a(s.eventForm.schedules.length),1)]),e("div",Fo,[t[40]||(t[40]=e("span",{class:"text-gray-600"},"Types de billets:",-1)),e("span",jo,a(s.eventForm.ticketTypes.length),1)]),e("div",So,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"Capacité totale:",-1)),e("span",Po,a(s.totalCapacity),1)]),e("div",Ao,[t[42]||(t[42]=e("span",{class:"text-gray-600"},"Prix minimum:",-1)),e("span",zo,a(s.formatAmount(s.minPrice))+" XAF",1)]),e("div",Mo,[t[43]||(t[43]=e("span",{class:"text-gray-600"},"Prix maximum:",-1)),e("span",To,a(s.formatAmount(s.maxPrice))+" XAF",1)])])])])])],32)])])}const Vo=I(ws,[["render",Eo],["__scopeId","data-v-469287e0"]]),Xn=Object.freeze(Object.defineProperty({__proto__:null,default:Vo},Symbol.toStringTag,{value:"Module"})),Do={name:"BalanceManagement",setup(){const S=h(!1),t=h(!1),f=h(!1),s=h(!1),x=h(!1),F=h([]),o=h([]),m=U({pending_payouts:0,total_payouts:0}),r=U({gateway:"",available_balance:0,amount:"",phone_number:""}),P=U({gateway:"",auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),A=N(()=>F.value.reduce((i,C)=>i+C.balance,0)),_=async()=>{S.value=!0;try{const C=await(await fetch("/api/v1/organizer/balances",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();C.success&&(F.value=C.data.balances)}catch(i){console.error("Erreur chargement soldes:",i)}finally{S.value=!1}},j=async()=>{try{const C=await(await fetch("/api/v1/organizer/payouts?limit=10",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();C.success&&(o.value=C.data.payouts.data||C.data.payouts,m.pending_payouts=o.value.filter(Q=>["pending","processing"].includes(Q.status)).length,m.total_payouts=o.value.reduce((Q,te)=>Q+te.amount,0))}catch(i){console.error("Erreur chargement payouts récents:",i)}},B=i=>{Object.assign(r,{gateway:i.gateway,available_balance:i.balance,amount:"",phone_number:i.payout_phone_number||""}),s.value=!0},y=async()=>{t.value=!0;try{const C=await(await fetch("/api/v1/organizer/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)})).json();C.success?(alert("Demande de payout envoyée avec succès"),s.value=!1,_(),j()):alert(C.message||"Erreur lors de la demande")}catch(i){console.error("Erreur demande payout:",i),alert("Erreur technique")}finally{t.value=!1}},n=i=>{Object.assign(P,{gateway:i.gateway,auto_payout_enabled:i.auto_payout_enabled,auto_payout_threshold:i.auto_payout_threshold,payout_phone_number:i.payout_phone_number||""}),x.value=!0},b=async()=>{f.value=!0;try{const C=await(await fetch("/api/v1/organizer/auto-payout-config",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(P)})).json();C.success?(alert("Configuration mise à jour avec succès"),x.value=!1,_()):alert(C.message||"Erreur lors de la mise à jour")}catch(i){console.error("Erreur sauvegarde config:",i),alert("Erreur technique")}finally{f.value=!1}},p=i=>o.value.filter(C=>C.gateway===i).slice(0,3),X=i=>{alert(`Détails du payout #${i.reference}
Montant: ${c(i.amount)} XAF
Statut: ${$(i.status)}`)},c=i=>new Intl.NumberFormat("fr-FR").format(i),k=i=>new Date(i).toLocaleDateString("fr-FR"),J=i=>new Date(i).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),q=i=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[i]||i,H=i=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[i]||"bg-gray-100 text-gray-800",$=i=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[i]||i,l=i=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[i]||"bg-gray-100 text-gray-800";return G(()=>{_(),j()}),{loading:S,requestingPayout:t,savingConfig:f,showPayoutModal:s,showConfigModal:x,balances:F,recentPayouts:o,stats:m,payoutForm:r,configForm:P,totalBalance:A,loadBalances:_,loadRecentPayouts:j,requestPayout:B,submitPayoutRequest:y,configureAutoPayout:n,saveAutoPayoutConfig:b,getRecentPayouts:p,viewPayoutDetails:X,formatAmount:c,formatDate:k,formatDateTime:J,getGatewayName:q,getGatewayBadgeClass:H,getPayoutStatusName:$,getPayoutStatusClass:l}}},Bo={class:"balance-management min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Oo={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Uo={class:"mb-8"},No={class:"flex items-center justify-between"},Xo={key:0,class:"flex justify-center items-center h-64"},Ro={key:1},Io={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},qo={class:"bg-white rounded-lg shadow p-6"},Lo={class:"flex items-center"},Go={class:"ml-4"},Jo={class:"text-2xl font-bold text-green-600"},Ho={class:"bg-white rounded-lg shadow p-6"},Qo={class:"flex items-center"},Zo={class:"ml-4"},Wo={class:"text-2xl font-bold text-yellow-600"},Yo={class:"bg-white rounded-lg shadow p-6"},Ko={class:"flex items-center"},ea={class:"ml-4"},ta={class:"text-2xl font-bold text-blue-600"},sa={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},oa={class:"flex items-center justify-between mb-4"},aa={class:"flex items-center"},na={class:"text-lg font-semibold text-gray-900"},ra={class:"text-right"},la={class:"text-2xl font-bold text-green-600"},ia={class:"mb-4 p-3 bg-gray-50 rounded-lg"},da={class:"flex items-center justify-between mb-2"},ua={key:0,class:"text-sm text-gray-600"},ca={key:0},ma={class:"space-y-3"},pa=["onClick","disabled"],ga=["onClick"],xa={class:"mt-6 pt-6 border-t"},ba={key:0,class:"text-sm text-gray-500"},fa={key:1,class:"space-y-2"},ya={class:"font-medium"},va={class:"text-gray-500 ml-2"},ha={class:"bg-white rounded-lg shadow"},_a={class:"p-6 border-b"},wa={class:"flex justify-between items-center"},ka={key:0,class:"p-8 text-center text-gray-500"},$a={key:1,class:"overflow-x-auto"},Ca={class:"w-full"},Fa={class:"divide-y divide-gray-200"},ja={class:"px-6 py-4 text-sm font-mono text-gray-900"},Sa={class:"px-6 py-4 text-sm"},Pa={class:"px-6 py-4 text-sm font-medium text-gray-900"},Aa={class:"px-6 py-4 text-sm"},za={class:"px-6 py-4 text-sm"},Ma={class:"px-6 py-4 text-sm text-gray-500"},Ta={class:"px-6 py-4 text-sm"},Ea=["onClick"],Va={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Da={class:"bg-white rounded-lg p-6 w-full max-w-md"},Ba={class:"space-y-4"},Oa=["value"],Ua=["value"],Na=["max"],Xa={class:"flex justify-end space-x-3 mt-6"},Ra=["disabled"],Ia={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},qa={class:"bg-white rounded-lg p-6 w-full max-w-md"},La={class:"text-lg font-bold mb-4"},Ga={class:"space-y-4"},Ja={class:"flex items-center space-x-2"},Ha={key:0},Qa={class:"flex justify-end space-x-3 mt-6"},Za=["disabled"];function Wa(S,t,f,s,x,F){return u(),d("div",Bo,[e("div",Oo,[e("div",Uo,[e("div",No,[t[12]||(t[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Soldes & Payouts"),e("p",{class:"text-gray-600"},"Consultez vos soldes et gérez vos demandes de payout")],-1)),e("button",{onClick:t[0]||(t[0]=o=>S.$router.push("/organizer/payouts/history")),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),D(" Historique Payouts ",-1)])])])]),s.loading?(u(),d("div",Xo,[...t[13]||(t[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(u(),d("div",Ro,[e("div",Io,[e("div",qo,[e("div",Lo,[t[15]||(t[15]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Go,[t[14]||(t[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",Jo,a(s.formatAmount(s.totalBalance))+" XAF",1)])])]),e("div",Ho,[e("div",Qo,[t[17]||(t[17]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Zo,[t[16]||(t[16]=e("p",{class:"text-sm text-gray-600"},"Payouts en Cours",-1)),e("p",Wo,a(s.stats.pending_payouts||0),1)])])]),e("div",Yo,[e("div",Ko,[t[19]||(t[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",ea,[t[18]||(t[18]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",ta,a(s.formatAmount(s.stats.total_payouts||0))+" XAF",1)])])])]),e("div",sa,[(u(!0),d(M,null,T(s.balances,o=>(u(),d("div",{key:o.gateway,class:"bg-white rounded-lg shadow p-6"},[e("div",oa,[e("div",aa,[e("div",{class:E(["p-2 rounded-lg mr-4",s.getGatewayBadgeClass(o.gateway)])},[...t[20]||(t[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("h3",na,a(s.getGatewayName(o.gateway)),1),t[21]||(t[21]=e("p",{class:"text-sm text-gray-600"},"Solde disponible",-1))])]),e("div",ra,[e("p",la,a(s.formatAmount(o.balance))+" XAF",1)])]),e("div",ia,[e("div",da,[t[22]||(t[22]=e("span",{class:"text-sm font-medium text-gray-700"},"Payout Automatique",-1)),e("span",{class:E(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(o.auto_payout_enabled?"Activé":"Désactivé"),3)]),o.auto_payout_enabled?(u(),d("div",ua,[e("p",null,"Seuil: "+a(s.formatAmount(o.auto_payout_threshold))+" XAF",1),o.payout_phone_number?(u(),d("p",ca,"Téléphone: "+a(o.payout_phone_number),1)):V("",!0)])):V("",!0)]),e("div",ma,[e("button",{onClick:m=>s.requestPayout(o),disabled:o.balance<1e3,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[t[23]||(t[23]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),D(" "+a(o.balance<1e3?"Solde insuffisant (min 1000 XAF)":"Demander un Payout"),1)],8,pa),e("button",{onClick:m=>s.configureAutoPayout(o),class:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700"},[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),D(" Configurer Auto-Payout ",-1)])],8,ga)]),e("div",xa,[t[25]||(t[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Dernières transactions",-1)),s.getRecentPayouts(o.gateway).length===0?(u(),d("div",ba," Aucune transaction récente ")):(u(),d("div",fa,[(u(!0),d(M,null,T(s.getRecentPayouts(o.gateway),m=>(u(),d("div",{key:m.id,class:"flex justify-between items-center text-sm"},[e("div",null,[e("span",ya,a(s.formatAmount(m.amount))+" XAF",1),e("span",va,a(s.formatDate(m.created_at)),1)]),e("span",{class:E(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getPayoutStatusClass(m.status)])},a(s.getPayoutStatusName(m.status)),3)]))),128))]))])]))),128))]),e("div",ha,[e("div",_a,[e("div",wa,[t[26]||(t[26]=e("h2",{class:"text-xl font-bold"},"Payouts Récents",-1)),e("button",{onClick:t[1]||(t[1]=o=>S.$router.push("/organizer/payouts/history")),class:"text-blue-600 hover:text-blue-800 text-sm"},"Voir tout")])]),s.recentPayouts.length===0?(u(),d("div",ka," Aucun payout récent ")):(u(),d("div",$a,[e("table",Ca,[t[27]||(t[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",Fa,[(u(!0),d(M,null,T(s.recentPayouts,o=>(u(),d("tr",{key:o.id},[e("td",ja,"#"+a(o.reference),1),e("td",Sa,[e("span",{class:E(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getGatewayBadgeClass(o.gateway)])},a(s.getGatewayName(o.gateway)),3)]),e("td",Pa,a(s.formatAmount(o.amount))+" XAF",1),e("td",Aa,[e("span",{class:E(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getPayoutStatusClass(o.status)])},a(s.getPayoutStatusName(o.status)),3)]),e("td",za,[e("span",{class:E(["inline-flex px-2 py-1 text-xs rounded-full",o.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},a(o.is_automatic?"Auto":"Manuel"),3)]),e("td",Ma,a(s.formatDateTime(o.created_at)),1),e("td",Ta,[e("button",{onClick:m=>s.viewPayoutDetails(o),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,Ea)])]))),128))])])]))])])),s.showPayoutModal?(u(),d("div",Va,[e("div",Da,[t[34]||(t[34]=e("h3",{class:"text-lg font-bold mb-4"},"Demande de Payout",-1)),e("form",{onSubmit:t[5]||(t[5]=R((...o)=>s.submitPayoutRequest&&s.submitPayoutRequest(...o),["prevent"]))},[e("div",Ba,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:s.getGatewayName(s.payoutForm.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,Oa)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Disponible",-1)),e("input",{value:s.formatAmount(s.payoutForm.available_balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,Ua)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant à retirer (XAF)",-1)),g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.payoutForm.amount=o),type:"number",min:1e3,max:s.payoutForm.available_balance,required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Na),[[w,s.payoutForm.amount,void 0,{number:!0}]]),t[31]||(t[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum: 1,000 XAF",-1))]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.payoutForm.phone_number=o),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[w,s.payoutForm.phone_number]]),t[33]||(t[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro sans indicatif pays",-1))])]),e("div",Xa,[e("button",{type:"button",onClick:t[4]||(t[4]=o=>s.showPayoutModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.requestingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},a(s.requestingPayout?"Demande en cours...":"Demander le Payout"),9,Ra)])],32)])])):V("",!0),s.showConfigModal?(u(),d("div",Ia,[e("div",qa,[e("h3",La,"Configuration Auto-Payout - "+a(s.getGatewayName(s.configForm.gateway)),1),e("form",{onSubmit:t[10]||(t[10]=R((...o)=>s.saveAutoPayoutConfig&&s.saveAutoPayoutConfig(...o),["prevent"]))},[e("div",Ga,[e("div",null,[e("label",Ja,[g(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=o=>s.configForm.auto_payout_enabled=o),class:"rounded border-gray-300"},null,512),[[me,s.configForm.auto_payout_enabled]]),t[35]||(t[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),s.configForm.auto_payout_enabled?(u(),d("div",Ha,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),g(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.configForm.auto_payout_threshold=o),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[w,s.configForm.auto_payout_threshold,void 0,{number:!0}]]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):V("",!0),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),g(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.configForm.payout_phone_number=o),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[w,s.configForm.payout_phone_number]]),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts automatiques",-1))])]),e("div",Qa,[e("button",{type:"button",onClick:t[9]||(t[9]=o=>s.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},a(s.savingConfig?"Enregistrement...":"Enregistrer"),9,Za)])],32)])])):V("",!0)])])}const Ya=I(Do,[["render",Wa],["__scopeId","data-v-e6c5fcd5"]]),Rn=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"})),Ka={class:"organizer-profile min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},en={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},tn={key:0,class:"flex justify-center items-center h-64"},sn={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},on={class:"bg-white rounded-primea shadow-primea p-6"},an={class:"flex items-center justify-between mb-6"},nn=["disabled"],rn=["disabled"],ln=["disabled"],dn={key:0,class:"flex space-x-3 pt-4"},un=["disabled"],cn={class:"bg-white rounded-primea shadow-primea p-6"},mn={class:"flex items-center justify-between mb-6"},pn=["disabled"],gn=["disabled"],xn=["disabled"],bn=["disabled"],fn=["disabled"],yn={key:0,class:"flex space-x-3 pt-4"},vn=["disabled"],hn={class:"bg-white rounded-primea shadow-primea p-6"},_n=["disabled"],wn={class:"bg-white rounded-primea shadow-primea p-6"},kn={class:"space-y-4"},$n={class:"flex items-center justify-between p-3 bg-green-50 rounded-primea"},Cn={class:"flex items-center space-x-3"},Fn={class:"text-xs text-green-600 font-primea"},jn={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-primea"},Sn={class:"flex items-center space-x-3"},Pn={class:"text-xs text-blue-600 font-primea"},An={class:"grid grid-cols-2 gap-4 pt-4"},zn={class:"text-center p-3 border rounded-primea"},Mn={class:"text-2xl font-bold text-primea-blue font-primea"},Tn={class:"text-center p-3 border rounded-primea"},En={class:"text-2xl font-bold text-primea-yellow font-primea"},Vn={__name:"OrganizerProfile",setup(S){ee();const t=h(!1),f=h(!1),s=h(!1),x=h(!1),F=h(!1),o=h(!1),m=h(null),r=h(null),P=h({events:0,tickets:0}),A=U({name:"",email:"",phone:""}),_=U({name:"",description:"",website_url:"",contact_email:"",contact_phone:""}),j=U({current_password:"",password:"",password_confirmation:""}),B=U({}),y=U({}),n=()=>{f.value||Object.assign(B,A),f.value=!f.value},b=()=>{s.value||Object.assign(y,_),s.value=!s.value},p=()=>{Object.assign(A,B),f.value=!1},X=()=>{Object.assign(_,y),s.value=!1},c=async()=>{x.value=!0;try{console.log("Mise à jour des informations personnelles:",A),await new Promise($=>setTimeout($,1e3)),f.value=!1}catch($){console.error("Erreur lors de la mise à jour:",$)}finally{x.value=!1}},k=async()=>{F.value=!0;try{console.log("Mise à jour de l'organisation:",_),await new Promise($=>setTimeout($,1e3)),s.value=!1}catch($){console.error("Erreur lors de la mise à jour:",$)}finally{F.value=!1}},J=async()=>{if(j.password!==j.password_confirmation){alert("Les mots de passe ne correspondent pas");return}o.value=!0;try{console.log("Changement de mot de passe"),await new Promise($=>setTimeout($,1e3)),Object.assign(j,{current_password:"",password:"",password_confirmation:""})}catch($){console.error("Erreur lors du changement de mot de passe:",$)}finally{o.value=!1}},q=$=>$?new Date($).toLocaleDateString("fr-FR"):"Non disponible",H=async()=>{t.value=!0;try{m.value={name:"Marie Nzougou",email:"marie@example.com",phone:"+225 07 12 34 56 78",email_verified_at:"2024-01-15T10:30:00Z"},r.value={name:"Mon Organisation",description:"Organisation spécialisée dans l'événementiel",website_url:"https://monorganisation.com",contact_email:"contact@monorganisation.com",contact_phone:"+225 07 12 34 56 79",verified_at:"2024-01-20T14:00:00Z"},P.value={events:12,tickets:345},Object.assign(A,{name:m.value.name,email:m.value.email,phone:m.value.phone}),Object.assign(_,{name:r.value.name,description:r.value.description,website_url:r.value.website_url,contact_email:r.value.contact_email,contact_phone:r.value.contact_phone})}catch($){console.error("Erreur lors du chargement du profil:",$)}finally{t.value=!1}};return G(()=>{H()}),($,l)=>(u(),d("div",Ka,[e("div",en,[l[31]||(l[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon Profil Organisateur"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez vos informations personnelles et celles de votre organisation")],-1)),t.value?(u(),d("div",tn,[...l[11]||(l[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):(u(),d("div",sn,[e("div",on,[e("div",an,[l[12]||(l[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Informations Personnelles",-1)),e("button",{onClick:n,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v(z(K),{class:"w-5 h-5"})])]),e("form",{onSubmit:R(c,["prevent"]),class:"space-y-4"},[e("div",null,[l[13]||(l[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom complet",-1)),g(e("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>A.name=i),type:"text",disabled:!f.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Votre nom complet"},null,8,nn),[[w,A.name]])]),e("div",null,[l[14]||(l[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email",-1)),g(e("input",{"onUpdate:modelValue":l[1]||(l[1]=i=>A.email=i),type:"email",disabled:!f.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"votre@email.com"},null,8,rn),[[w,A.email]])]),e("div",null,[l[15]||(l[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone",-1)),g(e("input",{"onUpdate:modelValue":l[2]||(l[2]=i=>A.phone=i),type:"tel",disabled:!f.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,ln),[[w,A.phone]])]),f.value?(u(),d("div",dn,[e("button",{type:"submit",disabled:x.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},a(x.value?"Enregistrement...":"Enregistrer"),9,un),e("button",{type:"button",onClick:p,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):V("",!0)],32)]),e("div",cn,[e("div",mn,[l[16]||(l[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Mon Organisation",-1)),e("button",{onClick:b,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v(z(K),{class:"w-5 h-5"})])]),e("form",{onSubmit:R(k,["prevent"]),class:"space-y-4"},[e("div",null,[l[17]||(l[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom de l'organisation",-1)),g(e("input",{"onUpdate:modelValue":l[3]||(l[3]=i=>_.name=i),type:"text",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Nom de votre organisation"},null,8,pn),[[w,_.name]])]),e("div",null,[l[18]||(l[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":l[4]||(l[4]=i=>_.description=i),disabled:!s.value,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea resize-none",placeholder:"Décrivez votre organisation..."},null,8,gn),[[w,_.description]])]),e("div",null,[l[19]||(l[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Site web",-1)),g(e("input",{"onUpdate:modelValue":l[5]||(l[5]=i=>_.website_url=i),type:"url",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"https://votresite.com"},null,8,xn),[[w,_.website_url]])]),e("div",null,[l[20]||(l[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email de contact",-1)),g(e("input",{"onUpdate:modelValue":l[6]||(l[6]=i=>_.contact_email=i),type:"email",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"contact@organisation.com"},null,8,bn),[[w,_.contact_email]])]),e("div",null,[l[21]||(l[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone de contact",-1)),g(e("input",{"onUpdate:modelValue":l[7]||(l[7]=i=>_.contact_phone=i),type:"tel",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,fn),[[w,_.contact_phone]])]),s.value?(u(),d("div",yn,[e("button",{type:"submit",disabled:F.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},a(F.value?"Enregistrement...":"Enregistrer"),9,vn),e("button",{type:"button",onClick:X,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):V("",!0)],32)]),e("div",hn,[l[25]||(l[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Sécurité",-1)),e("form",{onSubmit:R(J,["prevent"]),class:"space-y-4"},[e("div",null,[l[22]||(l[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Mot de passe actuel",-1)),g(e("input",{"onUpdate:modelValue":l[8]||(l[8]=i=>j.current_password=i),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Votre mot de passe actuel"},null,512),[[w,j.current_password]])]),e("div",null,[l[23]||(l[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nouveau mot de passe",-1)),g(e("input",{"onUpdate:modelValue":l[9]||(l[9]=i=>j.password=i),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nouveau mot de passe"},null,512),[[w,j.password]])]),e("div",null,[l[24]||(l[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Confirmer le mot de passe",-1)),g(e("input",{"onUpdate:modelValue":l[10]||(l[10]=i=>j.password_confirmation=i),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[w,j.password_confirmation]])]),e("button",{type:"submit",disabled:o.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},a(o.value?"Mise à jour...":"Changer le mot de passe"),9,_n)],32)]),e("div",wn,[l[30]||(l[30]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Statut du Compte",-1)),e("div",kn,[e("div",$n,[e("div",Cn,[v(z(pe),{class:"w-5 h-5 text-green-600"}),l[26]||(l[26]=e("span",{class:"text-sm font-medium text-green-800 font-primea"},"Compte vérifié",-1))]),e("span",Fn,a(q(m.value?.email_verified_at)),1)]),r.value?.verified_at?(u(),d("div",jn,[e("div",Sn,[v(z(ge),{class:"w-5 h-5 text-blue-600"}),l[27]||(l[27]=e("span",{class:"text-sm font-medium text-blue-800 font-primea"},"Organisation certifiée",-1))]),e("span",Pn,a(q(r.value.verified_at)),1)])):V("",!0),e("div",An,[e("div",zn,[e("p",Mn,a(P.value.events||0),1),l[28]||(l[28]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements créés",-1))]),e("div",Tn,[e("p",En,a(P.value.tickets||0),1),l[29]||(l[29]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1))])])])])]))])]))}},Dn=I(Vn,[["__scopeId","data-v-88f51db0"]]),In=Object.freeze(Object.defineProperty({__proto__:null,default:Dn},Symbol.toStringTag,{value:"Module"}));export{Rn as B,Nn as E,Un as O,Xn as a,In as b};
