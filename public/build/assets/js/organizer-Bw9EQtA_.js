import{j as a,o as r,k as e,t as n,l as P,w as N,a as Q,p as D,G as T,H as E,q as z,n as A,b as x,J as Y,$ as ee,D as p,E as y,F as L,P as te,X as se,d as R,W as I,Y as O,Z,_ as oe,a0 as q,R as W,C as ne,S as le}from"./vue-vendor-BB5N3Mj0.js";import{_ as U,u as ae}from"./account-PcCmhRSK.js";const re={name:"OrganizerDashboard",setup(){const $=Y(),t=x({id:1,name:"Organisateur Demo",email:"organizer@primea.com"}),g=x({totalEvents:5,totalTicketsSold:247,totalRevenue:375e4,salesRate:78}),s=x([{id:1,title:"L'OISEAU RARE",date:"2025-07-27T20:00:00",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100",status:"published",ticketsSold:85},{id:2,title:"Concert Jazz Night",date:"2025-08-15T19:30:00",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100",status:"draft",ticketsSold:0},{id:3,title:"Festival Arts & Culture",date:"2025-09-10T14:00:00",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100",status:"published",ticketsSold:162}]),b=x([{id:1,type:"success",title:"Nouvelle vente",message:`5 nouveaux tickets vendus pour "L'OISEAU RARE"`,createdAt:new Date(Date.now()-1800*1e3)},{id:2,type:"warning",title:"Stock faible",message:'Il ne reste que 15 tickets pour "Concert Jazz Night"',createdAt:new Date(Date.now()-7200*1e3)},{id:3,type:"info",title:"Événement approuvé",message:'Votre événement "Festival Arts" a été approuvé',createdAt:new Date(Date.now()-1440*60*1e3)}]);return{organizer:t,stats:g,recentEvents:s,notifications:b,formatPrice:h=>new Intl.NumberFormat("fr-FR").format(h),formatEventDate:h=>new Date(h).toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),formatRelativeTime:h=>{const f=new Date-h,w=Math.floor(f/(1e3*60)),V=Math.floor(f/(1e3*60*60)),c=Math.floor(f/(1e3*60*60*24));return w<60?`Il y a ${w} minute${w>1?"s":""}`:V<24?`Il y a ${V} heure${V>1?"s":""}`:`Il y a ${c} jour${c>1?"s":""}`},getStatusClass:h=>({published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"})[h]||"bg-gray-100 text-gray-800",getStatusText:h=>({published:"Publié",draft:"Brouillon",cancelled:"Annulé",completed:"Terminé"})[h]||"Inconnu",getNotificationClass:h=>({success:"border-green-400 bg-green-50",warning:"border-yellow-400 bg-yellow-50",info:"border-blue-400 bg-blue-50",error:"border-red-400 bg-red-50"})[h]||"border-gray-400 bg-gray-50",getNotificationIconClass:h=>({success:"text-green-400",warning:"text-yellow-400",info:"text-blue-400",error:"text-red-400"})[h]||"text-gray-400",getNotificationTextClass:h=>({success:"text-green-800",warning:"text-yellow-800",info:"text-blue-800",error:"text-red-800"})[h]||"text-gray-800",logout:()=>{$.push("/login")}}}},ie={class:"organizer-dashboard min-h-screen bg-gray-100"},de={class:"bg-blue-600 text-white py-4 px-4 shadow-lg"},ue={class:"max-w-6xl mx-auto flex items-center justify-between"},ce={class:"flex items-center space-x-4"},me={class:"text-right"},pe={class:"font-semibold"},ge={class:"max-w-6xl mx-auto py-8 px-4"},be={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},xe={class:"bg-white rounded-lg shadow-md p-6"},fe={class:"flex items-center"},ve={class:"text-2xl font-bold text-gray-800"},ye={class:"bg-white rounded-lg shadow-md p-6"},he={class:"flex items-center"},we={class:"text-2xl font-bold text-gray-800"},_e={class:"bg-white rounded-lg shadow-md p-6"},ke={class:"flex items-center"},Ce={class:"text-2xl font-bold text-gray-800"},$e={class:"bg-white rounded-lg shadow-md p-6"},je={class:"flex items-center"},Se={class:"text-2xl font-bold text-gray-800"},Fe={class:"bg-white rounded-lg shadow-md p-6 mb-8"},Me={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ze={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Pe={class:"bg-white rounded-lg shadow-md p-6"},Ae={class:"flex items-center justify-between mb-6"},Te={class:"space-y-4"},Ee=["src","alt"],Ve={class:"flex-1"},De={class:"font-semibold text-gray-800"},Be={class:"text-sm text-gray-600"},Ne={class:"flex items-center space-x-4 mt-1"},Oe={class:"text-sm text-gray-500"},Re={class:"bg-white rounded-lg shadow-md p-6"},Ie={class:"space-y-4"},Ue={class:"flex-shrink-0 mr-3"},Xe={key:0,"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"},qe={key:1,"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"},Le={key:2,"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"},Ge={class:"flex-1"},He={class:"text-sm text-gray-600"},Je={class:"text-xs text-gray-400 mt-1"},Qe={key:0,class:"text-center py-4 text-gray-500"};function Ze($,t,g,s,b,j){const o=Q("router-link");return r(),a("div",ie,[e("header",de,[e("div",ue,[t[2]||(t[2]=e("div",{class:"flex items-center space-x-4"},[e("img",{src:"/images/logo_white.png",alt:"Primea",class:"h-8"}),e("div",null,[e("h1",{class:"text-xl font-bold"},"Espace Organisateur"),e("p",{class:"text-blue-200 text-sm"},"Tableau de bord")])],-1)),e("div",ce,[e("div",me,[t[1]||(t[1]=e("p",{class:"text-sm text-blue-200"},"Connecté en tant que",-1)),e("p",pe,n(s.organizer.name||"Organisateur"),1)]),e("button",{onClick:t[0]||(t[0]=(...u)=>s.logout&&s.logout(...u)),class:"bg-blue-700 hover:bg-blue-800 px-4 py-2 rounded-lg transition-colors"}," Déconnexion ")])])]),e("div",ge,[e("div",be,[e("div",xe,[e("div",fe,[t[4]||(t[4]=e("div",{class:"bg-blue-100 p-3 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),e("div",null,[t[3]||(t[3]=e("p",{class:"text-gray-600 text-sm"},"Événements",-1)),e("p",ve,n(s.stats.totalEvents),1)])])]),e("div",ye,[e("div",he,[t[6]||(t[6]=e("div",{class:"bg-green-100 p-3 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})])],-1)),e("div",null,[t[5]||(t[5]=e("p",{class:"text-gray-600 text-sm"},"Tickets vendus",-1)),e("p",we,n(s.stats.totalTicketsSold),1)])])]),e("div",_e,[e("div",ke,[t[8]||(t[8]=e("div",{class:"bg-yellow-100 p-3 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",null,[t[7]||(t[7]=e("p",{class:"text-gray-600 text-sm"},"Revenus totaux",-1)),e("p",Ce,n(s.formatPrice(s.stats.totalRevenue))+" FCFA",1)])])]),e("div",$e,[e("div",je,[t[10]||(t[10]=e("div",{class:"bg-purple-100 p-3 rounded-full mr-4"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])],-1)),e("div",null,[t[9]||(t[9]=e("p",{class:"text-gray-600 text-sm"},"Taux de vente",-1)),e("p",Se,n(s.stats.salesRate)+"%",1)])])])]),e("div",Fe,[t[14]||(t[14]=e("h2",{class:"text-xl font-bold text-gray-800 mb-6"},"Actions rapides",-1)),e("div",Me,[P(o,{to:"/organizer/events/create",class:"flex items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors"},{default:N(()=>[...t[11]||(t[11]=[e("div",{class:"bg-blue-600 p-2 rounded-full mr-4"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),e("div",null,[e("p",{class:"font-semibold text-blue-800"},"Créer un événement"),e("p",{class:"text-sm text-blue-600"},"Ajouter un nouvel événement")],-1)])]),_:1}),P(o,{to:"/organizer/scanner",class:"flex items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors"},{default:N(()=>[...t[12]||(t[12]=[e("div",{class:"bg-green-600 p-2 rounded-full mr-4"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})])],-1),e("div",null,[e("p",{class:"font-semibold text-green-800"},"Scanner QR"),e("p",{class:"text-sm text-green-600"},"Contrôler les entrées")],-1)])]),_:1}),P(o,{to:"/organizer/reports",class:"flex items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors"},{default:N(()=>[...t[13]||(t[13]=[e("div",{class:"bg-purple-600 p-2 rounded-full mr-4"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1),e("div",null,[e("p",{class:"font-semibold text-purple-800"},"Rapports"),e("p",{class:"text-sm text-purple-600"},"Analyses et statistiques")],-1)])]),_:1})])]),e("div",ze,[e("div",Pe,[e("div",Ae,[t[16]||(t[16]=e("h2",{class:"text-xl font-bold text-gray-800"},"Mes événements récents",-1)),P(o,{to:"/organizer/events",class:"text-blue-600 hover:text-blue-500 text-sm font-medium"},{default:N(()=>[...t[15]||(t[15]=[D(" Voir tout ",-1)])]),_:1})]),e("div",Te,[(r(!0),a(T,null,E(s.recentEvents,u=>(r(),a("div",{key:u.id,class:"flex items-center p-3 border border-gray-200 rounded-lg hover:bg-gray-50"},[e("img",{src:u.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=100",alt:u.title,class:"w-16 h-16 object-cover rounded-lg mr-4"},null,8,Ee),e("div",Ve,[e("h3",De,n(u.title),1),e("p",Be,n(s.formatEventDate(u.date)),1),e("div",Ne,[e("span",{class:z(["text-xs px-2 py-1 rounded-full",s.getStatusClass(u.status)])},n(s.getStatusText(u.status)),3),e("span",Oe,n(u.ticketsSold||0)+" tickets vendus",1)])]),P(o,{to:`/organizer/events/${u.id}`,class:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"},{default:N(()=>[...t[17]||(t[17]=[D(" Voir ",-1)])]),_:1},8,["to"])]))),128))])]),e("div",Re,[t[18]||(t[18]=e("h2",{class:"text-xl font-bold text-gray-800 mb-6"},"Notifications",-1)),e("div",Ie,[(r(!0),a(T,null,E(s.notifications,u=>(r(),a("div",{key:u.id,class:z(["flex items-start p-3 border-l-4 rounded",s.getNotificationClass(u.type)])},[e("div",Ue,[(r(),a("svg",{class:z(["w-5 h-5",s.getNotificationIconClass(u.type)]),fill:"currentColor",viewBox:"0 0 20 20"},[u.type==="success"?(r(),a("path",Xe)):u.type==="warning"?(r(),a("path",qe)):(r(),a("path",Le))],2))]),e("div",Ge,[e("p",{class:z(["text-sm font-medium",s.getNotificationTextClass(u.type)])},n(u.title),3),e("p",He,n(u.message),1),e("p",Je,n(s.formatRelativeTime(u.createdAt)),1)])],2))),128)),s.notifications.length===0?(r(),a("div",Qe," Aucune notification ")):A("",!0)])])])])])}const We=U(re,[["render",Ze],["__scopeId","data-v-c06a61ae"]]),vl=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),Ye={name:"OrganizerEvents",components:{PlusIcon:ee},setup(){const $=Y(),t=x(""),g=x(""),s=x("grid"),b=x([{id:1,title:"L'OISEAU RARE",date:"2025-07-27T20:00:00",venue:"Entre Nous Bar",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"published",ticketsSold:85,totalTickets:150,revenue:85e4,isFavorite:!0},{id:2,title:"Concert Jazz Night",date:"2025-08-15T19:30:00",venue:"Palais de la Culture",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"draft",ticketsSold:0,totalTickets:200,revenue:0,isFavorite:!1},{id:3,title:"Festival Arts & Culture",date:"2025-09-10T14:00:00",venue:"Amphithéâtre National",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"published",ticketsSold:162,totalTickets:300,revenue:243e4,isFavorite:!1},{id:4,title:"Soirée Hip-Hop",date:"2025-06-20T21:00:00",venue:"Club Central",image:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",status:"completed",ticketsSold:120,totalTickets:120,revenue:12e5,isFavorite:!0}]),j=R(()=>{let m=[...b.value];if(t.value){const f=t.value.toLowerCase();m=m.filter(w=>w.title.toLowerCase().includes(f)||w.venue.toLowerCase().includes(f))}return g.value&&(m=m.filter(f=>f.status===g.value)),m}),o=R(()=>{const m=b.value.filter(c=>c.status==="published").length,f=b.value.filter(c=>c.status==="draft").length,w=b.value.reduce((c,_)=>c+(_.ticketsSold||0),0),V=b.value.reduce((c,_)=>c+(_.revenue||0),0);return{published:m,draft:f,totalTicketsSold:w,totalRevenue:V}});return{searchQuery:t,statusFilter:g,viewMode:s,events:b,filteredEvents:j,stats:o,formatPrice:m=>new Intl.NumberFormat("fr-FR").format(m),formatEventDate:(m,f="full")=>{const w=new Date(m);return f==="short"?w.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):w.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},getStatusClass:m=>({published:"bg-green-100 text-green-800",draft:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",completed:"bg-gray-100 text-gray-800"})[m]||"bg-gray-100 text-gray-800",getStatusText:m=>({published:"Publié",draft:"Brouillon",cancelled:"Annulé",completed:"Terminé"})[m]||"Inconnu",toggleFavorite:m=>{m.isFavorite=!m.isFavorite},duplicateEvent:m=>{const f={...m,id:Math.max(...b.value.map(w=>w.id))+1,title:`${m.title} (Copie)`,status:"draft",ticketsSold:0,revenue:0,isFavorite:!1};b.value.unshift(f)},editEvent:m=>{$.push(`/organizer/events/${m.id}/edit`)},deleteEvent:m=>{if(confirm(`Êtes-vous sûr de vouloir supprimer l'événement "${m.title}" ?`)){const f=b.value.findIndex(w=>w.id===m.id);f>-1&&b.value.splice(f,1)}}}}},Ke={class:"organizer-events"},et={class:"bg-white shadow-sm border-b border-gray-200"},tt={class:"max-w-6xl mx-auto px-4 py-6"},st={class:"flex items-center justify-between"},ot={class:"max-w-6xl mx-auto py-8 px-4"},nt={class:"bg-white rounded-lg shadow-md p-6 mb-8"},lt={class:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6"},at={class:"flex items-center space-x-4"},rt={class:"relative"},it={class:"flex items-center space-x-4"},dt={class:"text-sm text-gray-600"},ut={class:"flex bg-gray-100 rounded-lg p-1"},ct={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},mt={class:"text-center"},pt={class:"text-2xl font-bold text-blue-600"},gt={class:"text-center"},bt={class:"text-2xl font-bold text-yellow-600"},xt={class:"text-center"},ft={class:"text-2xl font-bold text-green-600"},vt={class:"text-center"},yt={class:"text-2xl font-bold text-purple-600"},ht={key:0},wt={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},_t={class:"relative"},kt=["src","alt"],Ct={class:"absolute top-4 left-4"},$t={class:"absolute top-4 right-4"},jt=["onClick"],St={class:"p-6"},Ft={class:"text-lg font-bold text-gray-800 mb-2"},Mt={class:"text-gray-600 text-sm mb-4"},zt={class:"flex items-center justify-between mb-4"},Pt={class:"text-sm text-gray-600"},At={class:"font-medium"},Tt={class:"text-sm font-bold text-green-600"},Et={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},Vt={class:"flex space-x-2"},Dt=["onClick"],Bt={key:1,class:"bg-white rounded-lg shadow-md overflow-hidden"},Nt={class:"w-full"},Ot={class:"bg-white divide-y divide-gray-200"},Rt={class:"px-6 py-4 whitespace-nowrap"},It={class:"flex items-center"},Ut=["src","alt"],Xt={class:"text-sm font-medium text-gray-900"},qt={class:"text-sm text-gray-500"},Lt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Gt={class:"px-6 py-4 whitespace-nowrap"},Ht={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Jt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600"},Qt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},Zt=["onClick"],Wt=["onClick"],Yt={key:1,class:"text-center py-16"},Kt={class:"text-gray-600 mb-6"},es={key:0},ts={key:1};function ss($,t,g,s,b,j){const o=Q("PlusIcon"),u=Q("router-link");return r(),a("div",Ke,[e("div",et,[e("div",tt,[e("div",st,[t[5]||(t[5]=e("div",null,[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mes Événements"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez tous vos événements en un seul endroit")],-1)),P(u,{to:{name:"organizer-event-create"},class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 shadow-primea"},{default:N(()=>[P(o,{class:"w-4 h-4 inline mr-2"}),t[4]||(t[4]=D(" Nouvel événement ",-1))]),_:1})])])]),e("div",ot,[e("div",nt,[e("div",lt,[e("div",at,[e("div",rt,[t[6]||(t[6]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),p(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>s.searchQuery=l),placeholder:"Rechercher un événement...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[y,s.searchQuery]])]),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.statusFilter=l),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...t[7]||(t[7]=[te('<option value="" data-v-bb52a953>Tous les statuts</option><option value="draft" data-v-bb52a953>Brouillons</option><option value="published" data-v-bb52a953>Publiés</option><option value="completed" data-v-bb52a953>Terminés</option><option value="cancelled" data-v-bb52a953>Annulés</option>',5)])],512),[[L,s.statusFilter]])]),e("div",it,[e("div",dt,n(s.filteredEvents.length)+" événement"+n(s.filteredEvents.length>1?"s":""),1),e("div",ut,[e("button",{onClick:t[2]||(t[2]=l=>s.viewMode="grid"),class:z(["px-3 py-2 rounded-lg transition-colors",s.viewMode==="grid"?"bg-white shadow-sm":""])},[...t[8]||(t[8]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:t[3]||(t[3]=l=>s.viewMode="list"),class:z(["px-3 py-2 rounded-lg transition-colors",s.viewMode==="list"?"bg-white shadow-sm":""])},[...t[9]||(t[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])])]),e("div",ct,[e("div",mt,[e("p",pt,n(s.stats.published),1),t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1))]),e("div",gt,[e("p",bt,n(s.stats.draft),1),t[11]||(t[11]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1))]),e("div",xt,[e("p",ft,n(s.stats.totalTicketsSold),1),t[12]||(t[12]=e("p",{class:"text-sm text-gray-600"},"Tickets vendus",-1))]),e("div",vt,[e("p",yt,n(s.formatPrice(s.stats.totalRevenue))+" FCFA",1),t[13]||(t[13]=e("p",{class:"text-sm text-gray-600"},"Revenus",-1))])])]),s.filteredEvents.length>0?(r(),a("div",ht,[s.viewMode==="grid"?(r(),a("div",wt,[(r(!0),a(T,null,E(s.filteredEvents,l=>(r(),a("div",{key:l.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",_t,[e("img",{src:l.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",alt:l.title,class:"w-full h-48 object-cover"},null,8,kt),e("div",Ct,[e("span",{class:z(["px-3 py-1 rounded-full text-xs font-semibold",s.getStatusClass(l.status)])},n(s.getStatusText(l.status)),3)]),e("div",$t,[e("button",{onClick:M=>s.toggleFavorite(l),class:"bg-white/90 p-2 rounded-full hover:bg-white transition-colors"},[(r(),a("svg",{class:z(["w-4 h-4",l.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[14]||(t[14]=[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])],2))],8,jt)])]),e("div",St,[e("h3",Ft,n(l.title),1),e("p",Mt,n(s.formatEventDate(l.date)),1),e("div",zt,[e("div",Pt,[e("span",At,n(l.ticketsSold||0),1),D(" / "+n(l.totalTickets||100)+" tickets vendus ",1)]),e("div",Tt,n(s.formatPrice(l.revenue||0))+" FCFA ",1)]),e("div",Et,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:se({width:`${Math.min((l.ticketsSold||0)/(l.totalTickets||100)*100,100)}%`})},null,4)]),e("div",Vt,[P(u,{to:`/organizer/events/${l.id}`,class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors"},{default:N(()=>[...t[15]||(t[15]=[D(" Voir détails ",-1)])]),_:1},8,["to"]),e("button",{onClick:M=>s.duplicateEvent(l),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"}," Dupliquer ",8,Dt)])])]))),128))])):(r(),a("div",Bt,[e("table",Nt,[t[17]||(t[17]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ventes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Revenus"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Ot,[(r(!0),a(T,null,E(s.filteredEvents,l=>(r(),a("tr",{key:l.id,class:"hover:bg-gray-50"},[e("td",Rt,[e("div",It,[e("img",{src:l.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=60",alt:l.title,class:"w-12 h-12 object-cover rounded-lg mr-4"},null,8,Ut),e("div",null,[e("div",Xt,n(l.title),1),e("div",qt,n(l.venue),1)])])]),e("td",Lt,n(s.formatEventDate(l.date,"short")),1),e("td",Gt,[e("span",{class:z(["px-2 py-1 rounded-full text-xs font-medium",s.getStatusClass(l.status)])},n(s.getStatusText(l.status)),3)]),e("td",Ht,n(l.ticketsSold||0)+" / "+n(l.totalTickets||100),1),e("td",Jt,n(s.formatPrice(l.revenue||0))+" FCFA ",1),e("td",Qt,[P(u,{to:`/organizer/events/${l.id}`,class:"text-blue-600 hover:text-blue-900"},{default:N(()=>[...t[16]||(t[16]=[D(" Voir ",-1)])]),_:1},8,["to"]),e("button",{onClick:M=>s.editEvent(l),class:"text-yellow-600 hover:text-yellow-900"}," Modifier ",8,Zt),e("button",{onClick:M=>s.deleteEvent(l),class:"text-red-600 hover:text-red-900"}," Supprimer ",8,Wt)])]))),128))])])]))])):(r(),a("div",Yt,[t[19]||(t[19]=e("div",{class:"inline-block p-6 bg-gray-100 rounded-full mb-6"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),t[20]||(t[20]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Aucun événement trouvé",-1)),e("p",Kt,[s.searchQuery||s.statusFilter?(r(),a("span",es," Aucun événement ne correspond à vos critères de recherche. ")):(r(),a("span",ts," Commencez par créer votre premier événement ! "))]),P(u,{to:"/organizer/events/create",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-block"},{default:N(()=>[...t[18]||(t[18]=[D(" + Créer mon premier événement ",-1)])]),_:1})]))])])}const os=U(Ye,[["render",ss],["__scopeId","data-v-bb52a953"]]),yl=Object.freeze(Object.defineProperty({__proto__:null,default:os},Symbol.toStringTag,{value:"Module"})),ns={name:"EventCreate",setup(){const $=x(!1),t=x([]),g=x([]),s=O({title:"",description:"",category_id:"",venue_id:"",status:"draft",image_url:"",schedules:[],ticketTypes:[]}),b=R(()=>t.value.find(c=>c.id==s.category_id)),j=R(()=>g.value.find(c=>c.id==s.venue_id)),o=R(()=>s.ticketTypes.reduce((c,_)=>c+(_.capacity||0),0)),u=R(()=>s.ticketTypes.length===0?0:Math.min(...s.ticketTypes.map(c=>c.price||0))),l=R(()=>s.ticketTypes.length===0?0:Math.max(...s.ticketTypes.map(c=>c.price||0))),M=async()=>{try{const c=await fetch("/api/client/categories",{headers:{Accept:"application/json"}}),_=await c.json();c.ok&&(t.value=_)}catch(c){console.error("Erreur chargement catégories:",c)}},F=async()=>{try{const _=await(await fetch("/api/v1/venues",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();_.success&&(g.value=_.data.venues)}catch(c){console.error("Erreur chargement lieux:",c)}},v=()=>{s.schedules.push({starts_at:"",ends_at:""})},S=c=>{s.schedules.splice(c,1)},B=()=>{s.ticketTypes.push({name:"",price:"",capacity:"",description:""})},h=c=>{s.ticketTypes.splice(c,1)},m=c=>{const _=c.target.files[0];_&&(s.image_url=URL.createObjectURL(_))},f=async()=>{if(s.schedules.length===0){alert("Veuillez ajouter au moins une séance");return}if(s.ticketTypes.length===0){alert("Veuillez ajouter au moins un type de billet");return}$.value=!0;try{const _=await(await fetch("/api/v1/events",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json();_.success?(alert("Événement créé avec succès!"),this.$router.push(`/organizer/events/${_.data.event.id}/edit`)):alert(_.message||"Erreur lors de la création")}catch(c){console.error("Erreur création événement:",c),alert("Erreur technique")}finally{$.value=!1}},w=c=>new Intl.NumberFormat("fr-FR").format(c),V=c=>c?new Date(c).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"";return Z(()=>{M(),F(),v(),B()}),{creating:$,categories:t,venues:g,eventForm:s,selectedCategory:b,selectedVenue:j,totalCapacity:o,minPrice:u,maxPrice:l,addSchedule:v,removeSchedule:S,addTicketType:B,removeTicketType:h,handleImageUpload:m,createEvent:f,formatAmount:w,formatDateTime:V}}},ls={class:"event-create p-6"},as={class:"mb-8"},rs={class:"flex items-center justify-between"},is={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ds={class:"lg:col-span-2 space-y-6"},us={class:"bg-white rounded-lg shadow p-6"},cs={class:"space-y-4"},ms={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ps=["value"],gs=["value"],bs={class:"bg-white rounded-lg shadow p-6"},xs={class:"flex justify-between items-center mb-4"},fs={key:0,class:"text-center text-gray-500 py-8"},vs={key:1,class:"space-y-4"},ys={class:"flex justify-between items-start mb-3"},hs={class:"font-medium"},ws=["onClick"],_s={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ks=["onUpdate:modelValue"],Cs=["onUpdate:modelValue"],$s={class:"bg-white rounded-lg shadow p-6"},js={class:"flex justify-between items-center mb-4"},Ss={key:0,class:"text-center text-gray-500 py-8"},Fs={key:1,class:"space-y-4"},Ms={class:"flex justify-between items-start mb-3"},zs={class:"font-medium"},Ps=["onClick"],As={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ts=["onUpdate:modelValue"],Es=["onUpdate:modelValue"],Vs=["onUpdate:modelValue"],Ds={class:"mt-3"},Bs=["onUpdate:modelValue"],Ns={class:"lg:col-span-1 space-y-6"},Os={class:"bg-white rounded-lg shadow p-6"},Rs={class:"space-y-3"},Is={class:"font-medium text-gray-900"},Us={class:"text-sm text-gray-600"},Xs={key:0},qs={class:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},Ls={key:1,class:"flex items-center text-sm text-gray-600"},Gs={key:2},Hs={class:"space-y-1"},Js={key:0,class:"text-xs text-gray-500"},Qs={key:3},Zs={class:"space-y-1"},Ws={class:"font-medium"},Ys={class:"bg-white rounded-lg shadow p-6"},Ks={class:"space-y-4"},eo={class:"pt-4 border-t"},to=["disabled"],so={class:"bg-white rounded-lg shadow p-6"},oo={class:"space-y-2 text-sm"},no={class:"flex justify-between"},lo={class:"font-medium"},ao={class:"flex justify-between"},ro={class:"font-medium"},io={class:"flex justify-between"},uo={class:"font-medium"},co={class:"flex justify-between"},mo={class:"font-medium"},po={class:"flex justify-between"},go={class:"font-medium"};function bo($,t,g,s,b,j){return r(),a("div",ls,[e("div",as,[e("div",rs,[t[11]||(t[11]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Créer un Événement"),e("p",{class:"text-gray-600"},"Configurez tous les détails de votre événement")],-1)),e("button",{onClick:t[0]||(t[0]=o=>$.$router.go(-1)),class:"text-gray-600 hover:text-gray-800"},[...t[10]||(t[10]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])])])]),e("form",{onSubmit:t[9]||(t[9]=I((...o)=>s.createEvent&&s.createEvent(...o),["prevent"])),class:"max-w-4xl"},[e("div",is,[e("div",ds,[e("div",us,[t[20]||(t[20]=e("h2",{class:"text-xl font-bold mb-4"},"Informations de Base",-1)),e("div",cs,[e("div",null,[t[12]||(t[12]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre de l'événement *",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.eventForm.title=o),type:"text",required:"",class:"w-full border rounded-lg px-3 py-2",placeholder:"Concert de Jazz, Spectacle de Théâtre..."},null,512),[[y,s.eventForm.title]])]),e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),p(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.eventForm.description=o),rows:"4",class:"w-full border rounded-lg px-3 py-2",placeholder:"Décrivez votre événement en détails..."},null,512),[[y,s.eventForm.description]])]),e("div",ms,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie *",-1)),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.eventForm.category_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[14]||(t[14]=e("option",{value:""},"Sélectionner une catégorie",-1)),(r(!0),a(T,null,E(s.categories,o=>(r(),a("option",{key:o.id,value:o.id},n(o.name),9,ps))),128))],512),[[L,s.eventForm.category_id]])]),e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lieu *",-1)),p(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.eventForm.venue_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[16]||(t[16]=e("option",{value:""},"Sélectionner un lieu",-1)),(r(!0),a(T,null,E(s.venues,o=>(r(),a("option",{key:o.id,value:o.id},n(o.name)+" - "+n(o.city),9,gs))),128))],512),[[L,s.eventForm.venue_id]])])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Image de couverture",-1)),e("input",{type:"file",onChange:t[5]||(t[5]=(...o)=>s.handleImageUpload&&s.handleImageUpload(...o)),accept:"image/*",class:"w-full border rounded-lg px-3 py-2"},null,32),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500 mt-1"},"Formats acceptés: JPG, PNG, WebP. Taille max: 5MB",-1))])])]),e("div",bs,[e("div",xs,[t[21]||(t[21]=e("h2",{class:"text-xl font-bold"},"Programmation",-1)),e("button",{type:"button",onClick:t[6]||(t[6]=(...o)=>s.addSchedule&&s.addSchedule(...o)),class:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"}," Ajouter une séance ")]),s.eventForm.schedules.length===0?(r(),a("div",fs,' Aucune séance programmée. Cliquez sur "Ajouter une séance" pour commencer. ')):(r(),a("div",vs,[(r(!0),a(T,null,E(s.eventForm.schedules,(o,u)=>(r(),a("div",{key:u,class:"border rounded-lg p-4 bg-gray-50"},[e("div",ys,[e("h3",hs,"Séance "+n(u+1),1),e("button",{type:"button",onClick:l=>s.removeSchedule(u),class:"text-red-600 hover:text-red-800"},[...t[22]||(t[22]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,ws)]),e("div",_s,[e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date et heure de début *",-1)),p(e("input",{"onUpdate:modelValue":l=>o.starts_at=l,type:"datetime-local",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,ks),[[y,o.starts_at]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date et heure de fin *",-1)),p(e("input",{"onUpdate:modelValue":l=>o.ends_at=l,type:"datetime-local",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Cs),[[y,o.ends_at]])])])]))),128))]))]),e("div",$s,[e("div",js,[t[25]||(t[25]=e("h2",{class:"text-xl font-bold"},"Types de Billets",-1)),e("button",{type:"button",onClick:t[7]||(t[7]=(...o)=>s.addTicketType&&s.addTicketType(...o)),class:"bg-green-600 text-white px-3 py-1 rounded text-sm hover:bg-green-700"}," Ajouter un type ")]),s.eventForm.ticketTypes.length===0?(r(),a("div",Ss,' Aucun type de billet défini. Cliquez sur "Ajouter un type" pour commencer. ')):(r(),a("div",Fs,[(r(!0),a(T,null,E(s.eventForm.ticketTypes,(o,u)=>(r(),a("div",{key:u,class:"border rounded-lg p-4 bg-gray-50"},[e("div",Ms,[e("h3",zs,n(o.name||`Type ${u+1}`),1),e("button",{type:"button",onClick:l=>s.removeTicketType(u),class:"text-red-600 hover:text-red-800"},[...t[26]||(t[26]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])],8,Ps)]),e("div",As,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom du type *",-1)),p(e("input",{"onUpdate:modelValue":l=>o.name=l,type:"text",required:"",placeholder:"VIP, Standard, Étudiant...",class:"w-full border rounded-lg px-3 py-2"},null,8,Ts),[[y,o.name]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prix (XAF) *",-1)),p(e("input",{"onUpdate:modelValue":l=>o.price=l,type:"number",min:"0",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Es),[[y,o.price,void 0,{number:!0}]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacité *",-1)),p(e("input",{"onUpdate:modelValue":l=>o.capacity=l,type:"number",min:"1",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Vs),[[y,o.capacity,void 0,{number:!0}]])])]),e("div",Ds,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),p(e("textarea",{"onUpdate:modelValue":l=>o.description=l,rows:"2",placeholder:"Avantages inclus, restrictions...",class:"w-full border rounded-lg px-3 py-2"},null,8,Bs),[[y,o.description]])])]))),128))]))])]),e("div",Ns,[e("div",Os,[t[34]||(t[34]=e("h2",{class:"text-xl font-bold mb-4"},"Aperçu",-1)),e("div",Rs,[e("div",null,[e("h3",Is,n(s.eventForm.title||"Titre de l'événement"),1),e("p",Us,n(s.eventForm.description||"Description..."),1)]),s.selectedCategory?(r(),a("div",Xs,[e("span",qs,n(s.selectedCategory.name),1)])):A("",!0),s.selectedVenue?(r(),a("div",Ls,[t[31]||(t[31]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),D(" "+n(s.selectedVenue.name),1)])):A("",!0),s.eventForm.schedules.length>0?(r(),a("div",Gs,[t[32]||(t[32]=e("h4",{class:"text-sm font-medium text-gray-700 mb-1"},"Prochaines séances:",-1)),e("div",Hs,[(r(!0),a(T,null,E(s.eventForm.schedules.slice(0,3),(o,u)=>(r(),a("div",{key:u,class:"text-xs text-gray-600"},n(s.formatDateTime(o.starts_at)),1))),128)),s.eventForm.schedules.length>3?(r(),a("div",Js," +"+n(s.eventForm.schedules.length-3)+" autre(s) séance(s) ",1)):A("",!0)])])):A("",!0),s.eventForm.ticketTypes.length>0?(r(),a("div",Qs,[t[33]||(t[33]=e("h4",{class:"text-sm font-medium text-gray-700 mb-1"},"Tarifs:",-1)),e("div",Zs,[(r(!0),a(T,null,E(s.eventForm.ticketTypes,o=>(r(),a("div",{key:o.name,class:"flex justify-between text-xs"},[e("span",null,n(o.name),1),e("span",Ws,n(s.formatAmount(o.price))+" XAF",1)]))),128))])])):A("",!0)])]),e("div",Ys,[t[38]||(t[38]=e("h2",{class:"text-xl font-bold mb-4"},"Publication",-1)),e("div",Ks,[e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),p(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.eventForm.status=o),class:"w-full border rounded-lg px-3 py-2"},[...t[35]||(t[35]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1)])],512),[[L,s.eventForm.status]]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1"}," Les brouillons ne sont pas visibles par le public ",-1))]),e("div",eo,[e("button",{type:"submit",disabled:s.creating,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.creating?"Création en cours...":"Créer l'événement"),9,to)])])]),e("div",so,[t[44]||(t[44]=e("h2",{class:"text-xl font-bold mb-4"},"Résumé",-1)),e("div",oo,[e("div",no,[t[39]||(t[39]=e("span",{class:"text-gray-600"},"Séances:",-1)),e("span",lo,n(s.eventForm.schedules.length),1)]),e("div",ao,[t[40]||(t[40]=e("span",{class:"text-gray-600"},"Types de billets:",-1)),e("span",ro,n(s.eventForm.ticketTypes.length),1)]),e("div",io,[t[41]||(t[41]=e("span",{class:"text-gray-600"},"Capacité totale:",-1)),e("span",uo,n(s.totalCapacity),1)]),e("div",co,[t[42]||(t[42]=e("span",{class:"text-gray-600"},"Prix minimum:",-1)),e("span",mo,n(s.formatAmount(s.minPrice))+" XAF",1)]),e("div",po,[t[43]||(t[43]=e("span",{class:"text-gray-600"},"Prix maximum:",-1)),e("span",go,n(s.formatAmount(s.maxPrice))+" XAF",1)])])])])])],32)])}const xo=U(ns,[["render",bo],["__scopeId","data-v-e1223c6c"]]),hl=Object.freeze(Object.defineProperty({__proto__:null,default:xo},Symbol.toStringTag,{value:"Module"})),fo={name:"BalanceManagement",setup(){const $=x(!1),t=x(!1),g=x(!1),s=x(!1),b=x(!1),j=x([]),o=x([]),u=O({pending_payouts:0,total_payouts:0}),l=O({gateway:"",available_balance:0,amount:"",phone_number:""}),M=O({gateway:"",auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),F=R(()=>j.value.reduce((d,C)=>d+C.balance,0)),v=async()=>{$.value=!0;try{const C=await(await fetch("/api/v1/organizer/balances",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();C.success&&(j.value=C.data.balances)}catch(d){console.error("Erreur chargement soldes:",d)}finally{$.value=!1}},S=async()=>{try{const C=await(await fetch("/api/v1/organizer/payouts?limit=10",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();C.success&&(o.value=C.data.payouts.data||C.data.payouts,u.pending_payouts=o.value.filter(J=>["pending","processing"].includes(J.status)).length,u.total_payouts=o.value.reduce((J,K)=>J+K.amount,0))}catch(d){console.error("Erreur chargement payouts récents:",d)}},B=d=>{Object.assign(l,{gateway:d.gateway,available_balance:d.balance,amount:"",phone_number:d.payout_phone_number||""}),s.value=!0},h=async()=>{t.value=!0;try{const C=await(await fetch("/api/v1/organizer/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(l)})).json();C.success?(alert("Demande de payout envoyée avec succès"),s.value=!1,v(),S()):alert(C.message||"Erreur lors de la demande")}catch(d){console.error("Erreur demande payout:",d),alert("Erreur technique")}finally{t.value=!1}},m=d=>{Object.assign(M,{gateway:d.gateway,auto_payout_enabled:d.auto_payout_enabled,auto_payout_threshold:d.auto_payout_threshold,payout_phone_number:d.payout_phone_number||""}),b.value=!0},f=async()=>{g.value=!0;try{const C=await(await fetch("/api/v1/organizer/auto-payout-config",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(M)})).json();C.success?(alert("Configuration mise à jour avec succès"),b.value=!1,v()):alert(C.message||"Erreur lors de la mise à jour")}catch(d){console.error("Erreur sauvegarde config:",d),alert("Erreur technique")}finally{g.value=!1}},w=d=>o.value.filter(C=>C.gateway===d).slice(0,3),V=d=>{alert(`Détails du payout #${d.reference}
Montant: ${c(d.amount)} XAF
Statut: ${k(d.status)}`)},c=d=>new Intl.NumberFormat("fr-FR").format(d),_=d=>new Date(d).toLocaleDateString("fr-FR"),G=d=>new Date(d).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),X=d=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[d]||d,H=d=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[d]||"bg-gray-100 text-gray-800",k=d=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[d]||d,i=d=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[d]||"bg-gray-100 text-gray-800";return Z(()=>{v(),S()}),{loading:$,requestingPayout:t,savingConfig:g,showPayoutModal:s,showConfigModal:b,balances:j,recentPayouts:o,stats:u,payoutForm:l,configForm:M,totalBalance:F,loadBalances:v,loadRecentPayouts:S,requestPayout:B,submitPayoutRequest:h,configureAutoPayout:m,saveAutoPayoutConfig:f,getRecentPayouts:w,viewPayoutDetails:V,formatAmount:c,formatDate:_,formatDateTime:G,getGatewayName:X,getGatewayBadgeClass:H,getPayoutStatusName:k,getPayoutStatusClass:i}}},vo={class:"balance-management p-6"},yo={class:"mb-8"},ho={class:"flex items-center justify-between"},wo={key:0,class:"flex justify-center items-center h-64"},_o={key:1},ko={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},Co={class:"bg-white rounded-lg shadow p-6"},$o={class:"flex items-center"},jo={class:"ml-4"},So={class:"text-2xl font-bold text-green-600"},Fo={class:"bg-white rounded-lg shadow p-6"},Mo={class:"flex items-center"},zo={class:"ml-4"},Po={class:"text-2xl font-bold text-yellow-600"},Ao={class:"bg-white rounded-lg shadow p-6"},To={class:"flex items-center"},Eo={class:"ml-4"},Vo={class:"text-2xl font-bold text-blue-600"},Do={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},Bo={class:"flex items-center justify-between mb-4"},No={class:"flex items-center"},Oo={class:"text-lg font-semibold text-gray-900"},Ro={class:"text-right"},Io={class:"text-2xl font-bold text-green-600"},Uo={class:"mb-4 p-3 bg-gray-50 rounded-lg"},Xo={class:"flex items-center justify-between mb-2"},qo={key:0,class:"text-sm text-gray-600"},Lo={key:0},Go={class:"space-y-3"},Ho=["onClick","disabled"],Jo=["onClick"],Qo={class:"mt-6 pt-6 border-t"},Zo={key:0,class:"text-sm text-gray-500"},Wo={key:1,class:"space-y-2"},Yo={class:"font-medium"},Ko={class:"text-gray-500 ml-2"},en={class:"bg-white rounded-lg shadow"},tn={class:"p-6 border-b"},sn={class:"flex justify-between items-center"},on={key:0,class:"p-8 text-center text-gray-500"},nn={key:1,class:"overflow-x-auto"},ln={class:"w-full"},an={class:"divide-y divide-gray-200"},rn={class:"px-6 py-4 text-sm font-mono text-gray-900"},dn={class:"px-6 py-4 text-sm"},un={class:"px-6 py-4 text-sm font-medium text-gray-900"},cn={class:"px-6 py-4 text-sm"},mn={class:"px-6 py-4 text-sm"},pn={class:"px-6 py-4 text-sm text-gray-500"},gn={class:"px-6 py-4 text-sm"},bn=["onClick"],xn={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},fn={class:"bg-white rounded-lg p-6 w-full max-w-md"},vn={class:"space-y-4"},yn=["value"],hn=["value"],wn=["max"],_n={class:"flex justify-end space-x-3 mt-6"},kn=["disabled"],Cn={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},$n={class:"bg-white rounded-lg p-6 w-full max-w-md"},jn={class:"text-lg font-bold mb-4"},Sn={class:"space-y-4"},Fn={class:"flex items-center space-x-2"},Mn={key:0},zn={class:"flex justify-end space-x-3 mt-6"},Pn=["disabled"];function An($,t,g,s,b,j){return r(),a("div",vo,[e("div",yo,[e("div",ho,[t[12]||(t[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Soldes & Payouts"),e("p",{class:"text-gray-600"},"Consultez vos soldes et gérez vos demandes de payout")],-1)),e("button",{onClick:t[0]||(t[0]=o=>$.$router.push("/organizer/payouts/history")),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),D(" Historique Payouts ",-1)])])])]),s.loading?(r(),a("div",wo,[...t[13]||(t[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(r(),a("div",_o,[e("div",ko,[e("div",Co,[e("div",$o,[t[15]||(t[15]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",jo,[t[14]||(t[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",So,n(s.formatAmount(s.totalBalance))+" XAF",1)])])]),e("div",Fo,[e("div",Mo,[t[17]||(t[17]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",zo,[t[16]||(t[16]=e("p",{class:"text-sm text-gray-600"},"Payouts en Cours",-1)),e("p",Po,n(s.stats.pending_payouts||0),1)])])]),e("div",Ao,[e("div",To,[t[19]||(t[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",Eo,[t[18]||(t[18]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",Vo,n(s.formatAmount(s.stats.total_payouts||0))+" XAF",1)])])])]),e("div",Do,[(r(!0),a(T,null,E(s.balances,o=>(r(),a("div",{key:o.gateway,class:"bg-white rounded-lg shadow p-6"},[e("div",Bo,[e("div",No,[e("div",{class:z(["p-2 rounded-lg mr-4",s.getGatewayBadgeClass(o.gateway)])},[...t[20]||(t[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("h3",Oo,n(s.getGatewayName(o.gateway)),1),t[21]||(t[21]=e("p",{class:"text-sm text-gray-600"},"Solde disponible",-1))])]),e("div",Ro,[e("p",Io,n(s.formatAmount(o.balance))+" XAF",1)])]),e("div",Uo,[e("div",Xo,[t[22]||(t[22]=e("span",{class:"text-sm font-medium text-gray-700"},"Payout Automatique",-1)),e("span",{class:z(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(o.auto_payout_enabled?"Activé":"Désactivé"),3)]),o.auto_payout_enabled?(r(),a("div",qo,[e("p",null,"Seuil: "+n(s.formatAmount(o.auto_payout_threshold))+" XAF",1),o.payout_phone_number?(r(),a("p",Lo,"Téléphone: "+n(o.payout_phone_number),1)):A("",!0)])):A("",!0)]),e("div",Go,[e("button",{onClick:u=>s.requestPayout(o),disabled:o.balance<1e3,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[t[23]||(t[23]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),D(" "+n(o.balance<1e3?"Solde insuffisant (min 1000 XAF)":"Demander un Payout"),1)],8,Ho),e("button",{onClick:u=>s.configureAutoPayout(o),class:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700"},[...t[24]||(t[24]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),D(" Configurer Auto-Payout ",-1)])],8,Jo)]),e("div",Qo,[t[25]||(t[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Dernières transactions",-1)),s.getRecentPayouts(o.gateway).length===0?(r(),a("div",Zo," Aucune transaction récente ")):(r(),a("div",Wo,[(r(!0),a(T,null,E(s.getRecentPayouts(o.gateway),u=>(r(),a("div",{key:u.id,class:"flex justify-between items-center text-sm"},[e("div",null,[e("span",Yo,n(s.formatAmount(u.amount))+" XAF",1),e("span",Ko,n(s.formatDate(u.created_at)),1)]),e("span",{class:z(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getPayoutStatusClass(u.status)])},n(s.getPayoutStatusName(u.status)),3)]))),128))]))])]))),128))]),e("div",en,[e("div",tn,[e("div",sn,[t[26]||(t[26]=e("h2",{class:"text-xl font-bold"},"Payouts Récents",-1)),e("button",{onClick:t[1]||(t[1]=o=>$.$router.push("/organizer/payouts/history")),class:"text-blue-600 hover:text-blue-800 text-sm"},"Voir tout")])]),s.recentPayouts.length===0?(r(),a("div",on," Aucun payout récent ")):(r(),a("div",nn,[e("table",ln,[t[27]||(t[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",an,[(r(!0),a(T,null,E(s.recentPayouts,o=>(r(),a("tr",{key:o.id},[e("td",rn,"#"+n(o.reference),1),e("td",dn,[e("span",{class:z(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getGatewayBadgeClass(o.gateway)])},n(s.getGatewayName(o.gateway)),3)]),e("td",un,n(s.formatAmount(o.amount))+" XAF",1),e("td",cn,[e("span",{class:z(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getPayoutStatusClass(o.status)])},n(s.getPayoutStatusName(o.status)),3)]),e("td",mn,[e("span",{class:z(["inline-flex px-2 py-1 text-xs rounded-full",o.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},n(o.is_automatic?"Auto":"Manuel"),3)]),e("td",pn,n(s.formatDateTime(o.created_at)),1),e("td",gn,[e("button",{onClick:u=>s.viewPayoutDetails(o),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,bn)])]))),128))])])]))])])),s.showPayoutModal?(r(),a("div",xn,[e("div",fn,[t[34]||(t[34]=e("h3",{class:"text-lg font-bold mb-4"},"Demande de Payout",-1)),e("form",{onSubmit:t[5]||(t[5]=I((...o)=>s.submitPayoutRequest&&s.submitPayoutRequest(...o),["prevent"]))},[e("div",vn,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:s.getGatewayName(s.payoutForm.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,yn)]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Disponible",-1)),e("input",{value:s.formatAmount(s.payoutForm.available_balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,hn)]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant à retirer (XAF)",-1)),p(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.payoutForm.amount=o),type:"number",min:1e3,max:s.payoutForm.available_balance,required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,wn),[[y,s.payoutForm.amount,void 0,{number:!0}]]),t[31]||(t[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum: 1,000 XAF",-1))]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.payoutForm.phone_number=o),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[y,s.payoutForm.phone_number]]),t[33]||(t[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro sans indicatif pays",-1))])]),e("div",_n,[e("button",{type:"button",onClick:t[4]||(t[4]=o=>s.showPayoutModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.requestingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.requestingPayout?"Demande en cours...":"Demander le Payout"),9,kn)])],32)])])):A("",!0),s.showConfigModal?(r(),a("div",Cn,[e("div",$n,[e("h3",jn,"Configuration Auto-Payout - "+n(s.getGatewayName(s.configForm.gateway)),1),e("form",{onSubmit:t[10]||(t[10]=I((...o)=>s.saveAutoPayoutConfig&&s.saveAutoPayoutConfig(...o),["prevent"]))},[e("div",Sn,[e("div",null,[e("label",Fn,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=o=>s.configForm.auto_payout_enabled=o),class:"rounded border-gray-300"},null,512),[[oe,s.configForm.auto_payout_enabled]]),t[35]||(t[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),s.configForm.auto_payout_enabled?(r(),a("div",Mn,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),p(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.configForm.auto_payout_threshold=o),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[y,s.configForm.auto_payout_threshold,void 0,{number:!0}]]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):A("",!0),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),p(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.configForm.payout_phone_number=o),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[y,s.configForm.payout_phone_number]]),t[39]||(t[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts automatiques",-1))])]),e("div",zn,[e("button",{type:"button",onClick:t[9]||(t[9]=o=>s.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.savingConfig?"Enregistrement...":"Enregistrer"),9,Pn)])],32)])])):A("",!0)])}const Tn=U(fo,[["render",An],["__scopeId","data-v-c6193109"]]),wl=Object.freeze(Object.defineProperty({__proto__:null,default:Tn},Symbol.toStringTag,{value:"Module"})),En={class:"organizer-profile p-6"},Vn={key:0,class:"flex justify-center items-center h-64"},Dn={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Bn={class:"bg-white rounded-primea shadow-primea p-6"},Nn={class:"flex items-center justify-between mb-6"},On=["disabled"],Rn=["disabled"],In=["disabled"],Un={key:0,class:"flex space-x-3 pt-4"},Xn=["disabled"],qn={class:"bg-white rounded-primea shadow-primea p-6"},Ln={class:"flex items-center justify-between mb-6"},Gn=["disabled"],Hn=["disabled"],Jn=["disabled"],Qn=["disabled"],Zn=["disabled"],Wn={key:0,class:"flex space-x-3 pt-4"},Yn=["disabled"],Kn={class:"bg-white rounded-primea shadow-primea p-6"},el=["disabled"],tl={class:"bg-white rounded-primea shadow-primea p-6"},sl={class:"space-y-4"},ol={class:"flex items-center justify-between p-3 bg-green-50 rounded-primea"},nl={class:"flex items-center space-x-3"},ll={class:"text-xs text-green-600 font-primea"},al={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-primea"},rl={class:"flex items-center space-x-3"},il={class:"text-xs text-blue-600 font-primea"},dl={class:"grid grid-cols-2 gap-4 pt-4"},ul={class:"text-center p-3 border rounded-primea"},cl={class:"text-2xl font-bold text-primea-blue font-primea"},ml={class:"text-center p-3 border rounded-primea"},pl={class:"text-2xl font-bold text-primea-yellow font-primea"},gl={__name:"OrganizerProfile",setup($){ae();const t=x(!1),g=x(!1),s=x(!1),b=x(!1),j=x(!1),o=x(!1),u=x(null),l=x(null),M=x({events:0,tickets:0}),F=O({name:"",email:"",phone:""}),v=O({name:"",description:"",website_url:"",contact_email:"",contact_phone:""}),S=O({current_password:"",password:"",password_confirmation:""}),B=O({}),h=O({}),m=()=>{g.value||Object.assign(B,F),g.value=!g.value},f=()=>{s.value||Object.assign(h,v),s.value=!s.value},w=()=>{Object.assign(F,B),g.value=!1},V=()=>{Object.assign(v,h),s.value=!1},c=async()=>{b.value=!0;try{console.log("Mise à jour des informations personnelles:",F),await new Promise(k=>setTimeout(k,1e3)),g.value=!1}catch(k){console.error("Erreur lors de la mise à jour:",k)}finally{b.value=!1}},_=async()=>{j.value=!0;try{console.log("Mise à jour de l'organisation:",v),await new Promise(k=>setTimeout(k,1e3)),s.value=!1}catch(k){console.error("Erreur lors de la mise à jour:",k)}finally{j.value=!1}},G=async()=>{if(S.password!==S.password_confirmation){alert("Les mots de passe ne correspondent pas");return}o.value=!0;try{console.log("Changement de mot de passe"),await new Promise(k=>setTimeout(k,1e3)),Object.assign(S,{current_password:"",password:"",password_confirmation:""})}catch(k){console.error("Erreur lors du changement de mot de passe:",k)}finally{o.value=!1}},X=k=>k?new Date(k).toLocaleDateString("fr-FR"):"Non disponible",H=async()=>{t.value=!0;try{u.value={name:"Marie Nzougou",email:"marie@example.com",phone:"+225 07 12 34 56 78",email_verified_at:"2024-01-15T10:30:00Z"},l.value={name:"Mon Organisation",description:"Organisation spécialisée dans l'événementiel",website_url:"https://monorganisation.com",contact_email:"contact@monorganisation.com",contact_phone:"+225 07 12 34 56 79",verified_at:"2024-01-20T14:00:00Z"},M.value={events:12,tickets:345},Object.assign(F,{name:u.value.name,email:u.value.email,phone:u.value.phone}),Object.assign(v,{name:l.value.name,description:l.value.description,website_url:l.value.website_url,contact_email:l.value.contact_email,contact_phone:l.value.contact_phone})}catch(k){console.error("Erreur lors du chargement du profil:",k)}finally{t.value=!1}};return Z(()=>{H()}),(k,i)=>(r(),a("div",En,[i[31]||(i[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon Profil Organisateur"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez vos informations personnelles et celles de votre organisation")],-1)),t.value?(r(),a("div",Vn,[...i[11]||(i[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):(r(),a("div",Dn,[e("div",Bn,[e("div",Nn,[i[12]||(i[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Informations Personnelles",-1)),e("button",{onClick:m,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[P(q(W),{class:"w-5 h-5"})])]),e("form",{onSubmit:I(c,["prevent"]),class:"space-y-4"},[e("div",null,[i[13]||(i[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom complet",-1)),p(e("input",{"onUpdate:modelValue":i[0]||(i[0]=d=>F.name=d),type:"text",disabled:!g.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Votre nom complet"},null,8,On),[[y,F.name]])]),e("div",null,[i[14]||(i[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email",-1)),p(e("input",{"onUpdate:modelValue":i[1]||(i[1]=d=>F.email=d),type:"email",disabled:!g.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"votre@email.com"},null,8,Rn),[[y,F.email]])]),e("div",null,[i[15]||(i[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone",-1)),p(e("input",{"onUpdate:modelValue":i[2]||(i[2]=d=>F.phone=d),type:"tel",disabled:!g.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,In),[[y,F.phone]])]),g.value?(r(),a("div",Un,[e("button",{type:"submit",disabled:b.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},n(b.value?"Enregistrement...":"Enregistrer"),9,Xn),e("button",{type:"button",onClick:w,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):A("",!0)],32)]),e("div",qn,[e("div",Ln,[i[16]||(i[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Mon Organisation",-1)),e("button",{onClick:f,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[P(q(W),{class:"w-5 h-5"})])]),e("form",{onSubmit:I(_,["prevent"]),class:"space-y-4"},[e("div",null,[i[17]||(i[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom de l'organisation",-1)),p(e("input",{"onUpdate:modelValue":i[3]||(i[3]=d=>v.name=d),type:"text",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Nom de votre organisation"},null,8,Gn),[[y,v.name]])]),e("div",null,[i[18]||(i[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),p(e("textarea",{"onUpdate:modelValue":i[4]||(i[4]=d=>v.description=d),disabled:!s.value,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea resize-none",placeholder:"Décrivez votre organisation..."},null,8,Hn),[[y,v.description]])]),e("div",null,[i[19]||(i[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Site web",-1)),p(e("input",{"onUpdate:modelValue":i[5]||(i[5]=d=>v.website_url=d),type:"url",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"https://votresite.com"},null,8,Jn),[[y,v.website_url]])]),e("div",null,[i[20]||(i[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email de contact",-1)),p(e("input",{"onUpdate:modelValue":i[6]||(i[6]=d=>v.contact_email=d),type:"email",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"contact@organisation.com"},null,8,Qn),[[y,v.contact_email]])]),e("div",null,[i[21]||(i[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone de contact",-1)),p(e("input",{"onUpdate:modelValue":i[7]||(i[7]=d=>v.contact_phone=d),type:"tel",disabled:!s.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,Zn),[[y,v.contact_phone]])]),s.value?(r(),a("div",Wn,[e("button",{type:"submit",disabled:j.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},n(j.value?"Enregistrement...":"Enregistrer"),9,Yn),e("button",{type:"button",onClick:V,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):A("",!0)],32)]),e("div",Kn,[i[25]||(i[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Sécurité",-1)),e("form",{onSubmit:I(G,["prevent"]),class:"space-y-4"},[e("div",null,[i[22]||(i[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Mot de passe actuel",-1)),p(e("input",{"onUpdate:modelValue":i[8]||(i[8]=d=>S.current_password=d),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Votre mot de passe actuel"},null,512),[[y,S.current_password]])]),e("div",null,[i[23]||(i[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nouveau mot de passe",-1)),p(e("input",{"onUpdate:modelValue":i[9]||(i[9]=d=>S.password=d),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nouveau mot de passe"},null,512),[[y,S.password]])]),e("div",null,[i[24]||(i[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Confirmer le mot de passe",-1)),p(e("input",{"onUpdate:modelValue":i[10]||(i[10]=d=>S.password_confirmation=d),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[y,S.password_confirmation]])]),e("button",{type:"submit",disabled:o.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},n(o.value?"Mise à jour...":"Changer le mot de passe"),9,el)],32)]),e("div",tl,[i[30]||(i[30]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Statut du Compte",-1)),e("div",sl,[e("div",ol,[e("div",nl,[P(q(ne),{class:"w-5 h-5 text-green-600"}),i[26]||(i[26]=e("span",{class:"text-sm font-medium text-green-800 font-primea"},"Compte vérifié",-1))]),e("span",ll,n(X(u.value?.email_verified_at)),1)]),l.value?.verified_at?(r(),a("div",al,[e("div",rl,[P(q(le),{class:"w-5 h-5 text-blue-600"}),i[27]||(i[27]=e("span",{class:"text-sm font-medium text-blue-800 font-primea"},"Organisation certifiée",-1))]),e("span",il,n(X(l.value.verified_at)),1)])):A("",!0),e("div",dl,[e("div",ul,[e("p",cl,n(M.value.events||0),1),i[28]||(i[28]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements créés",-1))]),e("div",ml,[e("p",pl,n(M.value.tickets||0),1),i[29]||(i[29]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1))])])])])]))]))}},bl=U(gl,[["__scopeId","data-v-ad8da070"]]),_l=Object.freeze(Object.defineProperty({__proto__:null,default:bl},Symbol.toStringTag,{value:"Module"}));export{wl as B,vl as D,yl as E,_l as O,hl as a};
