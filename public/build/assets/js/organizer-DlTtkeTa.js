import{b as A,Y as G,d as W,Z as Q,j as d,o as u,k as e,t as l,a1 as $,l as v,a2 as ne,a3 as ve,g as re,O as ue,w as X,a4 as ee,a as te,y as me,N as xe,e as ye,a5 as _e,G as O,H as L,q as U,p as V,n as z,D as y,E as k,F as oe,P as pe,X as he,_ as we,J as ae,K as ce,a6 as de,R as ie,T as ge,a7 as ke,L as $e,a8 as Ce,u as be,W as K,a9 as le,$ as Y,C as Ae,S as je}from"./vue-vendor-CDZB1Wme.js";import{_ as Z,u as fe}from"./account-SYOFlVBk.js";import{a as se,S as B}from"./vendor-BvANJOFB.js";const M=se.create({baseURL:"/api/v1",headers:{"Content-Type":"application/json",Accept:"application/json"}});M.interceptors.request.use(async f=>{const o=localStorage.getItem("auth_token")||localStorage.getItem("token");o&&(f.headers.Authorization=`Bearer ${o}`);const C=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");return C&&(f.headers["X-CSRF-TOKEN"]=C),f.headers["X-Requested-With"]="XMLHttpRequest",f},f=>Promise.reject(f));M.interceptors.response.use(f=>f,f=>(f.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(f)));const gl={getTicket(f){return M.get(`/tickets/${f}`)},retrieveTickets(f){return M.get(`/tickets/retrieve/${f}`)},validateTicket(f,o="validate"){return M.post("/tickets/validate",{qr_code:f,action:o})},searchTickets(f){const{reference:o,phone:C,email:r}=f;return o?this.getTicket(o):r||C?new Promise((j,g)=>{setTimeout(()=>{r?.includes("test")||C?.includes("123")||o?.includes("TKT")?j({data:{tickets:[{id:1,code:"TKT-2024-ABC123",status:"issued",event:{id:1,title:"L'OISEAU RARE",slug:"oiseau-rare",image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=800",venue_name:"Entre Nous Bar"},ticket_type:{id:1,name:"Standard",description:"Accès standard"},buyer:{name:"John Doe",email:r||"john@example.com"},issued_at:"27/07/2025 10:00:00",used_at:null,schedule:{starts_at:"27/07/2025 20:00:00",ends_at:"27/07/2025 23:00:00",door_time:"27/07/2025 19:30:00"}}]}}):g(new Error("Aucun ticket trouvé avec ces informations"))},1500)}):Promise.reject(new Error("Veuillez fournir au moins un critère de recherche"))}},bl={createGuestOrder(f){return se.post("/api/guest/orders",f,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestOrder(f){return se.get(`/api/guest/orders/${f}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},getGuestTicket(f){return se.get(`/api/guest/tickets/${f}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})},retrieveGuestTickets(f){return se.get(`/api/guest/tickets/retrieve/${encodeURIComponent(f)}`,{headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"}})}},H={getDashboardStats(){return M.get("/organizer/dashboard/stats")},getRecentEvents(){return M.get("/organizer/events/recent")},getNotifications(){return M.get("/organizer/notifications")},getEvents(f={}){return M.get("/organizer/events",{params:f})},createEvent(f){return M.post("/organizer/events",f)},updateEvent(f,o){return M.put(`/organizer/events/${f}`,o)},getEvent(f){return M.get(`/organizer/events/${f}`)},getEventStats(f){return M.get(`/organizer/events/${f}/stats`)},getBalance(){return M.get("/organizer/balance")},getPaymentHistory(){return M.get("/organizer/payments")},getProfile(){return M.get("/organizer/profile")},updateProfile(f){return M.put("/organizer/profile",f)},uploadAvatar(f){return M.post("/organizer/profile/avatar",f,{headers:{"Content-Type":"multipart/form-data"}})},getCategories(){return M.get("/categories")},getVenues(){return M.get("/venues")}},Ee={class:"organizer-dashboard min-h-screen"},Pe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Se={class:"mb-8"},ze={class:"flex items-center justify-between"},Ve={class:"flex items-center space-x-4"},De={class:"text-right"},Te={class:"text-sm font-semibold text-primea-blue font-primea"},Me={key:0,class:"w-12 h-12 rounded-full overflow-hidden"},Fe=["src","alt"],Be={key:1,class:"w-12 h-12 bg-primea-blue text-white rounded-full flex items-center justify-center"},Ue={class:"text-lg font-bold font-primea"},qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Re={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-blue"},Ie={class:"flex items-center"},Oe={class:"p-2 bg-primea-blue/10 rounded-lg"},Ne={class:"ml-4"},Xe={class:"text-2xl font-bold text-primea-blue font-primea"},Le={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-green-500"},Ge={class:"flex items-center"},He={class:"p-2 bg-green-100 rounded-lg"},Je={class:"ml-4"},We={class:"text-2xl font-bold text-green-600 font-primea"},Ke={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-primea-yellow"},Qe={class:"flex items-center"},Ze={class:"p-2 bg-primea-yellow/10 rounded-lg"},Ye={class:"ml-4"},et={class:"text-2xl font-bold text-primea-yellow font-primea"},tt={class:"bg-white rounded-primea shadow-primea p-6 border-l-4 border-purple-500"},st={class:"flex items-center"},ot={class:"p-2 bg-purple-100 rounded-lg"},rt={class:"ml-4"},at={class:"text-2xl font-bold text-purple-600 font-primea"},nt={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},it={class:"lg:col-span-2"},lt={class:"bg-white rounded-primea shadow-primea p-6"},dt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ut={class:"bg-white rounded-primea shadow-primea p-6"},mt={class:"space-y-4"},pt={key:0,class:"text-center text-gray-500 py-8"},ct={class:"text-sm font-medium font-primea"},gt={class:"text-xs text-gray-600 mt-1"},bt={class:"text-xs text-gray-400 mt-2"},ft={class:"bg-white rounded-primea shadow-primea overflow-hidden"},vt={class:"p-6 border-b border-gray-200"},xt={class:"flex items-center justify-between"},yt={key:0,class:"p-8 text-center text-gray-500"},_t={key:1,class:"overflow-x-auto"},ht={class:"w-full"},wt={class:"divide-y divide-gray-200"},kt={class:"px-6 py-4"},$t={class:"text-sm font-medium text-gray-900 font-primea"},Ct={class:"text-sm text-gray-500"},At={class:"px-6 py-4 text-sm text-gray-900 font-primea"},jt={class:"px-6 py-4"},Et={class:"px-6 py-4 text-sm text-gray-900 font-primea"},Pt={class:"px-6 py-4 text-sm"},St={__name:"OrganizerDashboard",setup(f){const o=fe(),C=A(!1),r=G({total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),j=A([]),g=A([]),i=W(()=>{const _=o.user;return _?.name?_.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2):"U"}),b=W(()=>o.user?.avatar_url||null),s=async()=>{C.value=!0;try{const[_,a,S]=await Promise.all([H.getDashboardStats(),H.getRecentEvents(),H.getNotifications()]);Object.assign(r,_.data.data||{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),j.value=a.data.data||[],g.value=S.data.data||[]}catch(_){console.error("Erreur lors du chargement du dashboard:",_),Object.assign(r,{total_events:0,active_events:0,tickets_sold:0,total_revenue:0}),j.value=[],g.value=[]}finally{C.value=!1}},T=_=>new Intl.NumberFormat("fr-FR").format(_),P=_=>new Date(_).toLocaleDateString("fr-FR"),E=_=>new Date(_).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),D=_=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[_]||_,R=_=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[_]||"bg-gray-100 text-gray-800",I=_=>({success:"border-green-500",warning:"border-yellow-500",error:"border-red-500",info:"border-blue-500"})[_]||"border-gray-300";return Q(()=>{s()}),(_,a)=>{const S=te("router-link");return u(),d("div",Ee,[e("div",Pe,[e("div",Se,[e("div",ze,[a[1]||(a[1]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea mb-2"},"Tableau de Bord Organisateur"),e("p",{class:"text-gray-600 font-primea"},"Bienvenue dans votre espace de gestion d'événements")],-1)),e("div",Ve,[e("div",De,[a[0]||(a[0]=e("p",{class:"text-sm text-gray-500 font-primea"},"Dernière connexion",-1)),e("p",Te,l(P(new Date)),1)]),b.value?(u(),d("div",Me,[e("img",{src:b.value,alt:$(o).user?.name,class:"w-full h-full object-cover"},null,8,Fe)])):(u(),d("div",Be,[e("span",Ue,l(i.value),1)]))])])]),e("div",qe,[e("div",Re,[e("div",Ie,[e("div",Oe,[v($(ne),{class:"w-6 h-6 text-primea-blue"})]),e("div",Ne,[a[2]||(a[2]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Total",-1)),e("p",Xe,l(r.total_events),1)])])]),e("div",Le,[e("div",Ge,[e("div",He,[v($(ve),{class:"w-6 h-6 text-green-600"})]),e("div",Je,[a[3]||(a[3]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements Actifs",-1)),e("p",We,l(r.active_events),1)])])]),e("div",Ke,[e("div",Qe,[e("div",Ze,[v($(re),{class:"w-6 h-6 text-primea-yellow"})]),e("div",Ye,[a[4]||(a[4]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets Vendus",-1)),e("p",et,l(r.tickets_sold),1)])])]),e("div",tt,[e("div",st,[e("div",ot,[v($(ue),{class:"w-6 h-6 text-purple-600"})]),e("div",rt,[a[5]||(a[5]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",at,l(T(r.total_revenue))+" XAF",1)])])])]),e("div",nt,[e("div",it,[e("div",lt,[a[10]||(a[10]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Actions Rapides",-1)),e("div",dt,[v(S,{to:{name:"organizer-event-create"},class:"flex items-center p-4 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:X(()=>[v($(ee),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),a[6]||(a[6]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Créer un Événement"),e("p",{class:"text-sm opacity-90"},"Nouveau projet d'événement")],-1))]),_:1}),v(S,{to:{name:"organizer-events"},class:"flex items-center p-4 border-2 border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 group"},{default:X(()=>[v($(me),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),a[7]||(a[7]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-white"},"Gérer les Événements"),e("p",{class:"text-sm opacity-70 group-hover:text-white group-hover:opacity-90"},"Voir et modifier")],-1))]),_:1}),v(S,{to:{name:"organizer-balance"},class:"flex items-center p-4 border-2 border-primea-yellow text-primea-yellow rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 group"},{default:X(()=>[v($(xe),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),a[8]||(a[8]=e("div",null,[e("p",{class:"font-semibold font-primea group-hover:text-primea-blue"},"Gestion Financière"),e("p",{class:"text-sm opacity-70 group-hover:text-primea-blue group-hover:opacity-90"},"Soldes et payouts")],-1))]),_:1}),v(S,{to:{name:"organizer-profile"},class:"flex items-center p-4 border-2 border-gray-400 text-gray-600 rounded-primea hover:bg-gray-400 hover:text-white transition-all duration-200 group"},{default:X(()=>[v($(ye),{class:"w-6 h-6 mr-3 group-hover:scale-110 transition-transform"}),a[9]||(a[9]=e("div",null,[e("p",{class:"font-semibold font-primea"},"Mon Profil"),e("p",{class:"text-sm opacity-70"},"Informations personnelles")],-1))]),_:1})])])]),e("div",ut,[a[12]||(a[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Notifications",-1)),e("div",mt,[g.value.length===0?(u(),d("div",pt,[v($(_e),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),a[11]||(a[11]=e("p",{class:"font-primea"},"Aucune notification",-1))])):(u(!0),d(O,{key:1},L(g.value,m=>(u(),d("div",{key:m.id,class:U(["p-3 bg-gray-50 rounded-primea border-l-4",I(m.type)])},[e("p",ct,l(m.title),1),e("p",gt,l(m.message),1),e("p",bt,l(E(m.created_at)),1)],2))),128))])])]),e("div",ft,[e("div",vt,[e("div",xt,[a[14]||(a[14]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Événements Récents",-1)),v(S,{to:{name:"organizer-events"},class:"text-primea-blue hover:text-primea-yellow transition-colors font-primea text-sm"},{default:X(()=>[...a[13]||(a[13]=[V(" Voir tous ",-1)])]),_:1})])]),j.value.length===0?(u(),d("div",yt,[v($(ne),{class:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a[16]||(a[16]=e("p",{class:"font-primea text-lg"},"Aucun événement créé",-1)),a[17]||(a[17]=e("p",{class:"font-primea text-sm mt-2"},"Commencez par créer votre premier événement",-1)),v(S,{to:{name:"organizer-event-create"},class:"inline-flex items-center mt-4 px-4 py-2 bg-primea-blue text-white rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:X(()=>[v($(ee),{class:"w-4 h-4 mr-2"}),a[15]||(a[15]=V(" Créer un événement ",-1))]),_:1})])):(u(),d("div",_t,[e("table",ht,[a[19]||(a[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Actions")])],-1)),e("tbody",wt,[(u(!0),d(O,null,L(j.value,m=>(u(),d("tr",{key:m.id,class:"hover:bg-gray-50"},[e("td",kt,[e("div",null,[e("p",$t,l(m.title),1),e("p",Ct,l(m.venue_name),1)])]),e("td",At,l(P(m.event_date)),1),e("td",jt,[e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",R(m.status)])},l(D(m.status)),3)]),e("td",Et,l(m.tickets_sold||0),1),e("td",Pt,[v(S,{to:{name:"organizer-event-detail",params:{slug:m.slug}},class:"text-primea-blue hover:text-primea-yellow font-primea"},{default:X(()=>[...a[18]||(a[18]=[V(" Gérer ",-1)])]),_:1},8,["to"])])]))),128))])])]))])])])}}},zt=Z(St,[["__scopeId","data-v-1685f411"]]),fl=Object.freeze(Object.defineProperty({__proto__:null,default:zt},Symbol.toStringTag,{value:"Module"})),Vt={name:"OrganizerEvents",components:{PlusIcon:ee},setup(){const f=ae(),o=A(""),C=A(""),r=A("grid"),j=A(!1),g=A([]),i=G({current:1,total:1,perPage:15}),b=async()=>{j.value=!0;try{const h=(await H.getEvents({page:i.current,status:C.value,search:o.value})).data.data.events;g.value=h.data.map(w=>({...w,tickets_sold:w.tickets?.filter(q=>["issued","used"].includes(q.status)).length||0,total_tickets:w.ticket_types?.reduce((q,F)=>q+F.capacity,0)||0,revenue:w.tickets?.filter(q=>["issued","used"].includes(q.status)).reduce((q,F)=>q+(F.ticket_type?.price||0),0)||0,venue:w.venue?.name||"",image:w.image_url||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",date:w.event_date||w.schedules?.[0]?.starts_at,isFavorite:!1})),i.current=h.current_page,i.total=h.last_page,i.perPage=h.per_page}catch(n){console.error("Erreur chargement événements:",n),B.fire({icon:"error",title:"Erreur",text:"Impossible de charger les événements"})}finally{j.value=!1}},s=W(()=>{let n=[...g.value];if(o.value){const h=o.value.toLowerCase();n=n.filter(w=>w.title.toLowerCase().includes(h)||w.venue.toLowerCase().includes(h))}return C.value&&(n=n.filter(h=>h.status===C.value)),n}),T=W(()=>{const n=g.value.filter(F=>F.is_active&&F.status!=="cancelled").length,h=g.value.filter(F=>!F.is_active).length,w=g.value.reduce((F,x)=>F+(x.tickets_sold||0),0),q=g.value.reduce((F,x)=>F+(x.revenue||0),0);return{published:n,draft:h,totalTicketsSold:w,totalRevenue:q}}),P=n=>new Intl.NumberFormat("fr-FR").format(n),E=(n,h="full")=>{const w=new Date(n);return h==="short"?w.toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}):w.toLocaleDateString("fr-FR",{weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},D=n=>n.is_active?n.status==="cancelled"?"bg-red-100 text-red-800":new Date(n.date)<new Date?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",R=n=>n.is_active?n.status==="cancelled"?"Annulé":new Date(n.date)<new Date?"Terminé":"Actif":"Brouillon",I=n=>{n.isFavorite=!n.isFavorite},_=async n=>{try{const h={title:`${n.title} (Copie)`,description:n.description,event_date:n.date,venue_id:n.venue_id,category_id:n.category_id,is_active:!1};await H.createEvent(h),await b(),B.fire({icon:"success",title:"Succès",text:"Événement dupliqué avec succès"})}catch{B.fire({icon:"error",title:"Erreur",text:"Impossible de dupliquer l'événement"})}},a=n=>{f.push({name:"organizer-event-edit",params:{slug:n.slug}})},S=async n=>{if((await B.fire({title:"Êtes-vous sûr ?",text:`Voulez-vous vraiment supprimer l'événement "${n.title}" ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Oui, supprimer",cancelButtonText:"Annuler"})).isConfirmed)try{await b(),B.fire("Supprimé !","L'événement a été supprimé.","success")}catch{B.fire({icon:"error",title:"Erreur",text:"Impossible de supprimer l'événement"})}};we([o,C],()=>{i.current=1,b()},{debounce:300});const m=n=>{i.current=n,b()};return Q(()=>{b()}),{searchQuery:o,statusFilter:C,viewMode:r,loading:j,events:g,filteredEvents:s,stats:T,pagination:i,formatPrice:P,formatEventDate:E,getStatusClass:D,getStatusText:R,toggleFavorite:I,duplicateEvent:_,editEvent:a,deleteEvent:S,loadEvents:b,changePage:m}}},Dt={class:"organizer-events min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Tt={class:"bg-white shadow-sm border-b border-gray-200"},Mt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Ft={class:"flex items-center justify-between"},Bt={class:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8"},Ut={class:"bg-white rounded-lg shadow-md p-6 mb-8"},qt={class:"flex flex-col md:flex-row gap-4 justify-between items-center mb-6"},Rt={class:"flex items-center space-x-4"},It={class:"relative"},Ot={class:"flex items-center space-x-4"},Nt={class:"text-sm text-gray-600"},Xt={class:"flex bg-gray-100 rounded-lg p-1"},Lt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Gt={class:"text-center"},Ht={class:"text-2xl font-bold text-blue-600"},Jt={class:"text-center"},Wt={class:"text-2xl font-bold text-yellow-600"},Kt={class:"text-center"},Qt={class:"text-2xl font-bold text-green-600"},Zt={class:"text-center"},Yt={class:"text-2xl font-bold text-purple-600"},es={key:0},ts={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ss={class:"relative"},os=["src","alt"],rs={class:"absolute top-4 left-4"},as={class:"absolute top-4 right-4"},ns=["onClick"],is={class:"p-6"},ls={class:"text-lg font-bold text-gray-800 mb-2"},ds={class:"text-gray-600 text-sm mb-4"},us={class:"flex items-center justify-between mb-4"},ms={class:"text-sm text-gray-600 font-primea"},ps={class:"font-medium font-primea"},cs={class:"text-sm font-bold text-green-600 font-primea"},gs={class:"w-full bg-gray-200 rounded-full h-2 mb-4"},bs={class:"flex space-x-2"},fs=["onClick"],vs={key:1,class:"bg-white rounded-lg shadow-md overflow-hidden"},xs={class:"w-full"},ys={class:"bg-white divide-y divide-gray-200"},_s={class:"px-6 py-4 whitespace-nowrap"},hs={class:"flex items-center"},ws=["src","alt"],ks={class:"text-sm font-medium text-gray-900"},$s={class:"text-sm text-gray-500"},Cs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},As={class:"px-6 py-4 whitespace-nowrap"},js={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-primea"},Es={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 font-primea"},Ps={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2"},Ss=["onClick"],zs=["onClick"],Vs={key:1,class:"text-center py-16"},Ds={class:"text-gray-600 mb-6"},Ts={key:0},Ms={key:1},Fs={key:2,class:"mt-8 flex justify-center"},Bs={class:"flex items-center space-x-2"},Us=["disabled"],qs=["onClick"],Rs={key:1,class:"px-2 text-gray-500"},Is=["disabled"];function Os(f,o,C,r,j,g){const i=te("PlusIcon"),b=te("router-link");return u(),d("div",Dt,[e("div",Tt,[e("div",Mt,[e("div",Ft,[o[7]||(o[7]=e("div",null,[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mes Événements"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez tous vos événements en un seul endroit")],-1)),v(b,{to:{name:"organizer-event-create"},class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 shadow-primea"},{default:X(()=>[v(i,{class:"w-4 h-4 inline mr-2"}),o[6]||(o[6]=V(" Nouvel événement ",-1))]),_:1})])])]),e("div",Bt,[e("div",Ut,[e("div",qt,[e("div",Rt,[e("div",It,[o[8]||(o[8]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),y(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>r.searchQuery=s),placeholder:"Rechercher un événement...",class:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},null,512),[[k,r.searchQuery]])]),y(e("select",{"onUpdate:modelValue":o[1]||(o[1]=s=>r.statusFilter=s),class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"},[...o[9]||(o[9]=[pe('<option value="" data-v-b1abcf34>Tous les statuts</option><option value="draft" data-v-b1abcf34>Brouillons</option><option value="published" data-v-b1abcf34>Publiés</option><option value="completed" data-v-b1abcf34>Terminés</option><option value="cancelled" data-v-b1abcf34>Annulés</option>',5)])],512),[[oe,r.statusFilter]])]),e("div",Ot,[e("div",Nt,l(r.filteredEvents.length)+" événement"+l(r.filteredEvents.length>1?"s":""),1),e("div",Xt,[e("button",{onClick:o[2]||(o[2]=s=>r.viewMode="grid"),class:U(["px-3 py-2 rounded-lg transition-colors",r.viewMode==="grid"?"bg-white shadow-sm":""])},[...o[10]||(o[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),e("button",{onClick:o[3]||(o[3]=s=>r.viewMode="list"),class:U(["px-3 py-2 rounded-lg transition-colors",r.viewMode==="list"?"bg-white shadow-sm":""])},[...o[11]||(o[11]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])])]),e("div",Lt,[e("div",Gt,[e("p",Ht,l(r.stats.published),1),o[12]||(o[12]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1))]),e("div",Jt,[e("p",Wt,l(r.stats.draft),1),o[13]||(o[13]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1))]),e("div",Kt,[e("p",Qt,l(r.stats.totalTicketsSold),1),o[14]||(o[14]=e("p",{class:"text-sm text-gray-600"},"Tickets vendus",-1))]),e("div",Zt,[e("p",Yt,l(r.formatPrice(r.stats.totalRevenue))+" XAF",1),o[15]||(o[15]=e("p",{class:"text-sm text-gray-600"},"Revenus",-1))])])]),r.filteredEvents.length>0?(u(),d("div",es,[r.viewMode==="grid"?(u(),d("div",ts,[(u(!0),d(O,null,L(r.filteredEvents,s=>(u(),d("div",{key:s.id,class:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"},[e("div",ss,[e("img",{src:s.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",alt:s.title,class:"w-full h-48 object-cover"},null,8,os),e("div",rs,[e("span",{class:U(["px-3 py-1 rounded-full text-xs font-semibold",r.getStatusClass(s.status)])},l(r.getStatusText(s.status)),3)]),e("div",as,[e("button",{onClick:T=>r.toggleFavorite(s),class:"bg-white/90 p-2 rounded-full hover:bg-white transition-colors"},[(u(),d("svg",{class:U(["w-4 h-4",s.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 20 20"},[...o[16]||(o[16]=[e("path",{"fill-rule":"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z","clip-rule":"evenodd"},null,-1)])],2))],8,ns)])]),e("div",is,[e("h3",ls,l(s.title),1),e("p",ds,l(r.formatEventDate(s.date)),1),e("div",us,[e("div",ms,[e("span",ps,l(s.tickets_sold||0),1),V(" / "+l(s.total_tickets||0)+" tickets vendus ",1)]),e("div",cs,l(r.formatPrice(s.revenue||0))+" XAF ",1)]),e("div",gs,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:he({width:`${Math.min((s.ticketsSold||0)/(s.totalTickets||100)*100,100)}%`})},null,4)]),e("div",bs,[v(b,{to:{name:"organizer-event-detail",params:{slug:s.slug}},class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg text-center text-sm font-medium hover:bg-blue-700 transition-colors"},{default:X(()=>[...o[17]||(o[17]=[V(" Voir détails ",-1)])]),_:1},8,["to"]),e("button",{onClick:T=>r.duplicateEvent(s),class:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg text-sm font-medium hover:bg-gray-300 transition-colors"}," Dupliquer ",8,fs)])])]))),128))])):(u(),d("div",vs,[e("table",xs,[o[19]||(o[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ventes"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Revenus"),e("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",ys,[(u(!0),d(O,null,L(r.filteredEvents,s=>(u(),d("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",_s,[e("div",hs,[e("img",{src:s.image||"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=60",alt:s.title,class:"w-12 h-12 object-cover rounded-lg mr-4"},null,8,ws),e("div",null,[e("div",ks,l(s.title),1),e("div",$s,l(s.venue),1)])])]),e("td",Cs,l(r.formatEventDate(s.date,"short")),1),e("td",As,[e("span",{class:U(["px-2 py-1 rounded-full text-xs font-medium font-primea",r.getStatusClass(s)])},l(r.getStatusText(s)),3)]),e("td",js,l(s.tickets_sold||0)+" / "+l(s.total_tickets||0),1),e("td",Es,l(r.formatPrice(s.revenue||0))+" XAF ",1),e("td",Ps,[v(b,{to:{name:"organizer-event-detail",params:{slug:s.slug}},class:"text-blue-600 hover:text-blue-900"},{default:X(()=>[...o[18]||(o[18]=[V(" Voir ",-1)])]),_:1},8,["to"]),e("button",{onClick:T=>r.editEvent(s),class:"text-yellow-600 hover:text-yellow-900"}," Modifier ",8,Ss),e("button",{onClick:T=>r.deleteEvent(s),class:"text-red-600 hover:text-red-900"}," Supprimer ",8,zs)])]))),128))])])]))])):(u(),d("div",Vs,[o[21]||(o[21]=e("div",{class:"inline-block p-6 bg-gray-100 rounded-full mb-6"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3a4 4 0 118 0v4m-4 8a4 4 0 11-8 0 4 4 0 018 0z"})])],-1)),o[22]||(o[22]=e("h3",{class:"text-2xl font-bold text-gray-800 mb-2"},"Aucun événement trouvé",-1)),e("p",Ds,[r.searchQuery||r.statusFilter?(u(),d("span",Ts," Aucun événement ne correspond à vos critères de recherche. ")):(u(),d("span",Ms," Commencez par créer votre premier événement ! "))]),v(b,{to:"/organizer/events/create",class:"bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-block"},{default:X(()=>[...o[20]||(o[20]=[V(" + Créer mon premier événement ",-1)])]),_:1})])),r.events.length>0&&r.pagination.total>1?(u(),d("div",Fs,[e("nav",Bs,[e("button",{onClick:o[4]||(o[4]=s=>r.changePage(r.pagination.current-1)),disabled:r.pagination.current===1,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Précédent ",8,Us),(u(!0),d(O,null,L(r.pagination.total,s=>(u(),d(O,{key:s},[s===1||s===r.pagination.total||s>=r.pagination.current-1&&s<=r.pagination.current+1?(u(),d("button",{key:0,onClick:T=>r.changePage(s),class:U(["px-3 py-2 text-sm font-medium rounded-lg font-primea",s===r.pagination.current?"bg-primea-blue text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"])},l(s),11,qs)):s===r.pagination.current-2||s===r.pagination.current+2?(u(),d("span",Rs," ... ")):z("",!0)],64))),128)),e("button",{onClick:o[5]||(o[5]=s=>r.changePage(r.pagination.current+1)),disabled:r.pagination.current===r.pagination.total,class:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed font-primea"}," Suivant ",8,Is)])])):z("",!0)])])}const Ns=Z(Vt,[["render",Os],["__scopeId","data-v-b1abcf34"]]),vl=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),Xs={class:"event-detail min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Ls={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Gs={key:0,class:"flex justify-center items-center h-64"},Hs={key:1,class:"text-center py-16"},Js={class:"mb-4"},Ws={class:"text-gray-600 mb-6"},Ks={key:2},Qs={class:"mb-8"},Zs={class:"flex items-center justify-between"},Ys={class:"flex items-center space-x-4"},eo={class:"text-3xl font-bold text-primea-blue font-primea"},to={class:"flex items-center space-x-3"},so={class:"flex space-x-2"},oo={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},ro={class:"bg-white rounded-primea shadow-primea p-6"},ao={class:"flex items-center"},no={class:"p-2 bg-blue-100 rounded-lg"},io={class:"ml-4"},lo={class:"text-2xl font-bold text-blue-600 font-primea"},uo={class:"bg-white rounded-primea shadow-primea p-6"},mo={class:"flex items-center"},po={class:"p-2 bg-green-100 rounded-lg"},co={class:"ml-4"},go={class:"text-2xl font-bold text-green-600 font-primea"},bo={class:"bg-white rounded-primea shadow-primea p-6"},fo={class:"flex items-center"},vo={class:"p-2 bg-yellow-100 rounded-lg"},xo={class:"ml-4"},yo={class:"text-2xl font-bold text-yellow-600 font-primea"},_o={class:"bg-white rounded-primea shadow-primea p-6"},ho={class:"flex items-center"},wo={class:"p-2 bg-purple-100 rounded-lg"},ko={class:"ml-4"},$o={class:"text-lg font-bold text-purple-600 font-primea"},Co={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Ao={class:"lg:col-span-2 space-y-6"},jo={class:"bg-white rounded-primea shadow-primea p-6"},Eo={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Po={class:"mt-1 text-gray-900 font-primea"},So={class:"mt-1 text-gray-900 font-primea"},zo={class:"mt-1 text-gray-900 font-primea"},Vo={class:"mt-1 text-gray-900 font-primea"},Do={class:"md:col-span-2"},To={class:"mt-1 text-gray-900 font-primea leading-relaxed"},Mo={class:"bg-white rounded-primea shadow-primea p-6"},Fo={key:0,class:"space-y-4"},Bo={class:"flex justify-between items-start"},Uo={class:"font-semibold text-gray-900 font-primea"},qo={class:"text-gray-600 text-sm font-primea mt-1"},Ro={class:"flex items-center space-x-4 mt-2"},Io={class:"text-lg font-bold text-primea-blue font-primea"},Oo={class:"text-sm text-gray-500 font-primea"},No={key:1,class:"text-center py-8 text-gray-500"},Xo={class:"bg-white rounded-primea shadow-primea p-6"},Lo={key:0,class:"overflow-x-auto"},Go={class:"w-full"},Ho={class:"divide-y divide-gray-200"},Jo={class:"px-4 py-3 text-sm text-gray-900 font-primea"},Wo={class:"px-4 py-3 text-sm text-gray-900 font-primea"},Ko={class:"px-4 py-3 text-sm font-medium text-gray-900 font-primea"},Qo={class:"px-4 py-3 text-sm text-gray-500 font-primea"},Zo={key:1,class:"text-center py-8 text-gray-500"},Yo={class:"space-y-6"},er={class:"bg-white rounded-primea shadow-primea p-6"},tr={class:"space-y-3"},sr={key:0,class:"bg-white rounded-primea shadow-primea p-6"},or=["src","alt"],rr={class:"bg-white rounded-primea shadow-primea p-6"},ar={class:"space-y-3"},nr={class:"flex items-center justify-between"},ir={class:"flex items-center justify-between"},lr={class:"flex items-center justify-between"},dr={class:"text-sm text-gray-600 font-primea"},ur={__name:"EventDetail",setup(f){const o=be(),C=ae(),r=A(!0),j=A(null),g=A(null),i=A([]),b=async()=>{r.value=!0,j.value=null;try{let m=o.params.slug,n;if(/^\d+$/.test(m))n=(await H.getEvent(m)).data.data;else try{const h=await H.getEvents();if(n=(h.data.data.events.data||h.data.data.events).find(q=>q.slug===m),!n)throw new Error(`Événement avec le slug "${m}" non trouvé`)}catch{throw new Error(`Événement avec le slug "${m}" non trouvé`)}if(!n)throw new Error("Événement introuvable");g.value={...n,venue_name:n.venue?.name||"Lieu non spécifié",venue_address:n.venue?.address||"",category_name:n.category?.name||"Non spécifiée",tickets_sold:n.tickets?.filter(h=>["issued","used"].includes(h.status)).length||0,total_revenue:n.tickets?.filter(h=>["issued","used"].includes(h.status)).reduce((h,w)=>h+(w.ticket_type?.price||0),0)||0,is_public:n.is_active||!1,sales_active:n.is_active||!1},n.ticket_types&&(g.value.ticket_types=n.ticket_types.map(h=>({...h,sold:n.tickets?.filter(w=>w.ticket_type_id===h.id&&["issued","used"].includes(w.status)).length||0}))),g.value.tickets_sold>0?i.value=[{id:1,customer_name:"Kofi Asante",ticket_quantity:2,total_amount:g.value.ticket_types?.[0]?.price*2||5e4,created_at:new Date(Date.now()-864e5).toISOString()},{id:2,customer_name:"Aminata Traore",ticket_quantity:1,total_amount:g.value.ticket_types?.[0]?.price||25e3,created_at:new Date(Date.now()-1728e5).toISOString()}]:i.value=[]}catch(m){console.error("Erreur lors du chargement de l'événement:",m),m.response?.status===404?j.value=`Événement avec l'identifiant "${o.params.slug}" non trouvé`:m.message?j.value=m.message:j.value="Erreur lors du chargement de l'événement"}finally{r.value=!1}},s=()=>{C.push({name:"organizer-event-edit",params:{slug:g.value.slug}})},T=async()=>{if((await B.fire({title:"Publier l'événement",text:"Êtes-vous sûr de vouloir publier cet événement ?",icon:"question",showCancelButton:!0,confirmButtonColor:"#272d63",cancelButtonColor:"#6b7280",confirmButtonText:"Oui, publier",cancelButtonText:"Annuler"})).isConfirmed)try{await H.updateEvent(g.value.id,{status:"published",is_active:!0}),g.value.status="published",g.value.is_active=!0,B.fire({title:"Succès !",text:"Événement publié avec succès !",icon:"success",confirmButtonColor:"#272d63"})}catch(n){console.error("Erreur publication:",n),B.fire({title:"Erreur",text:"Erreur lors de la publication de l'événement",icon:"error",confirmButtonColor:"#272d63"})}},P=async()=>{const m=`${window.location.origin}/events/${g.value.slug}`;try{await navigator.clipboard.writeText(m),B.fire({title:"Lien copié !",text:"Le lien de l'événement a été copié dans le presse-papiers",icon:"success",timer:2e3,showConfirmButton:!1})}catch{B.fire({title:"Lien de l'événement",html:`<input type="text" value="${m}" class="w-full p-2 border rounded" readonly onclick="this.select()">`,showConfirmButton:!1,showCloseButton:!0})}},E=()=>{const m=`/events/${g.value.slug}`;window.open(m,"_blank")},D=()=>{B.fire({title:"Export des données",text:"Fonctionnalité d'export en cours de développement",icon:"info",confirmButtonColor:"#272d63"})},R=m=>new Intl.NumberFormat("fr-FR").format(m),I=m=>new Date(m).toLocaleDateString("fr-FR"),_=m=>new Date(m).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),a=m=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[m]||m,S=m=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[m]||"bg-gray-100 text-gray-800";return Q(()=>{b()}),(m,n)=>{const h=te("router-link");return u(),d("div",Xs,[e("div",Ls,[r.value?(u(),d("div",Gs,[...n[1]||(n[1]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):j.value?(u(),d("div",Hs,[e("div",Js,[v($(ce),{class:"w-16 h-16 mx-auto text-red-500"})]),n[3]||(n[3]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Événement introuvable",-1)),e("p",Ws,l(j.value),1),v(h,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:X(()=>[...n[2]||(n[2]=[V(" Retour aux événements ",-1)])]),_:1})])):g.value?(u(),d("div",Ks,[e("div",Qs,[e("div",Zs,[e("div",Ys,[e("button",{onClick:n[0]||(n[0]=w=>m.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v($(de),{class:"w-6 h-6"})]),e("div",null,[e("h1",eo,l(g.value.title),1),n[4]||(n[4]=e("p",{class:"text-gray-600 font-primea mt-1"},"Gestion de l'événement",-1))])]),e("div",to,[e("span",{class:U(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",S(g.value.status)])},l(a(g.value.status)),3),e("div",so,[e("button",{onClick:s,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[v($(ie),{class:"w-4 h-4 inline mr-2"}),n[5]||(n[5]=V(" Modifier ",-1))]),g.value.status==="draft"?(u(),d("button",{key:0,onClick:T,class:"bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[v($(ge),{class:"w-4 h-4 inline mr-2"}),n[6]||(n[6]=V(" Publier ",-1))])):z("",!0)])])])]),e("div",oo,[e("div",ro,[e("div",ao,[e("div",no,[v($(re),{class:"w-6 h-6 text-blue-600"})]),e("div",io,[n[7]||(n[7]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1)),e("p",lo,l(g.value.tickets_sold||0),1)])])]),e("div",uo,[e("div",mo,[e("div",po,[v($(ue),{class:"w-6 h-6 text-green-600"})]),e("div",co,[n[8]||(n[8]=e("p",{class:"text-sm text-gray-600 font-primea"},"Revenus",-1)),e("p",go,l(R(g.value.total_revenue||0))+" XAF",1)])])]),e("div",bo,[e("div",fo,[e("div",vo,[v($(ke),{class:"w-6 h-6 text-yellow-600"})]),e("div",xo,[n[9]||(n[9]=e("p",{class:"text-sm text-gray-600 font-primea"},"Capacité",-1)),e("p",yo,l(g.value.max_attendees||"Illimitée"),1)])])]),e("div",_o,[e("div",ho,[e("div",wo,[v($(ne),{class:"w-6 h-6 text-purple-600"})]),e("div",ko,[n[10]||(n[10]=e("p",{class:"text-sm text-gray-600 font-primea"},"Date",-1)),e("p",$o,l(I(g.value.event_date)),1)])])])]),e("div",Co,[e("div",Ao,[e("div",jo,[n[16]||(n[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations générales",-1)),e("div",Eo,[e("div",null,[n[11]||(n[11]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Titre",-1)),e("p",Po,l(g.value.title),1)]),e("div",null,[n[12]||(n[12]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Lieu",-1)),e("p",So,l(g.value.venue_name),1)]),e("div",null,[n[13]||(n[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Date et heure",-1)),e("p",zo,l(_(g.value.event_date)),1)]),e("div",null,[n[14]||(n[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Catégorie",-1)),e("p",Vo,l(g.value.category_name||"Non spécifiée"),1)]),e("div",Do,[n[15]||(n[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea"},"Description",-1)),e("p",To,l(g.value.description||"Aucune description"),1)])])]),e("div",Mo,[n[18]||(n[18]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Types de billets",-1)),g.value.ticket_types&&g.value.ticket_types.length>0?(u(),d("div",Fo,[(u(!0),d(O,null,L(g.value.ticket_types,w=>(u(),d("div",{key:w.id,class:"border border-gray-200 rounded-primea p-4"},[e("div",Bo,[e("div",null,[e("h3",Uo,l(w.name),1),e("p",qo,l(w.description),1),e("div",Ro,[e("span",Io,l(R(w.price))+" XAF ",1),e("span",Oo,l(w.sold||0)+" / "+l(w.quantity||"Illimité")+" vendus ",1)])]),e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",w.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},l(w.is_active?"Actif":"Inactif"),3)])]))),128))])):(u(),d("div",No,[v($(re),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),n[17]||(n[17]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1))]))]),e("div",Xo,[n[21]||(n[21]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Commandes récentes",-1)),i.value.length>0?(u(),d("div",Lo,[e("table",Go,[n[19]||(n[19]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Client"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Billets"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Montant"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase font-primea"},"Date")])],-1)),e("tbody",Ho,[(u(!0),d(O,null,L(i.value,w=>(u(),d("tr",{key:w.id},[e("td",Jo,l(w.customer_name),1),e("td",Wo,l(w.ticket_quantity),1),e("td",Ko,l(R(w.total_amount))+" XAF",1),e("td",Qo,l(I(w.created_at)),1)]))),128))])])])):(u(),d("div",Zo,[v($($e),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),n[20]||(n[20]=e("p",{class:"font-primea"},"Aucune commande pour cet événement",-1))]))])]),e("div",Yo,[e("div",er,[n[25]||(n[25]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions rapides",-1)),e("div",tr,[e("button",{onClick:P,class:"w-full flex items-center justify-center px-4 py-2 border border-primea-blue text-primea-blue rounded-primea hover:bg-primea-blue hover:text-white transition-all duration-200 font-primea"},[v($(Ce),{class:"w-4 h-4 mr-2"}),n[22]||(n[22]=V(" Partager l'événement ",-1))]),e("button",{onClick:E,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[v($(me),{class:"w-4 h-4 mr-2"}),n[23]||(n[23]=V(" Voir la page publique ",-1))]),e("button",{onClick:D,class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},[...n[24]||(n[24]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),V(" Exporter les données ",-1)])])])]),g.value.image_url?(u(),d("div",sr,[n[26]||(n[26]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Image de l'événement",-1)),e("img",{src:g.value.image_url,alt:g.value.title,class:"w-full h-48 object-cover rounded-primea"},null,8,or)])):z("",!0),e("div",rr,[n[30]||(n[30]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",ar,[e("div",nr,[n[27]||(n[27]=e("span",{class:"text-sm text-gray-700 font-primea"},"Événement public",-1)),e("span",{class:U(["text-sm font-medium",g.value.is_public?"text-green-600":"text-red-600"])},l(g.value.is_public?"Oui":"Non"),3)]),e("div",ir,[n[28]||(n[28]=e("span",{class:"text-sm text-gray-700 font-primea"},"Ventes actives",-1)),e("span",{class:U(["text-sm font-medium",g.value.sales_active?"text-green-600":"text-red-600"])},l(g.value.sales_active?"Oui":"Non"),3)]),e("div",lr,[n[29]||(n[29]=e("span",{class:"text-sm text-gray-700 font-primea"},"Créé le",-1)),e("span",dr,l(I(g.value.created_at)),1)])])])])])])):z("",!0)])])}}},mr=Z(ur,[["__scopeId","data-v-ad2b996b"]]),xl=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"})),pr={class:"event-edit min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},cr={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},gr={key:0,class:"flex justify-center items-center h-64"},br={key:1,class:"text-center py-16"},fr={class:"mb-4"},vr={class:"text-gray-600 mb-6"},xr={key:2},yr={class:"mb-8"},_r={class:"flex items-center justify-between"},hr={class:"flex items-center space-x-4"},wr={class:"text-gray-600 font-primea mt-1"},kr={class:"flex items-center space-x-3"},$r={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Cr={class:"lg:col-span-2 space-y-6"},Ar={class:"bg-white rounded-primea shadow-primea p-6"},jr={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Er={class:"md:col-span-2"},Pr={class:"md:col-span-2"},Sr={class:"bg-white rounded-primea shadow-primea p-6"},zr={class:"flex items-center justify-between mb-6"},Vr={key:0,class:"text-center py-8 text-gray-500"},Dr={key:1,class:"space-y-4"},Tr={class:"flex justify-between items-start mb-4"},Mr={class:"font-semibold text-gray-900 font-primea"},Fr=["onClick"],Br={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ur=["onUpdate:modelValue"],qr=["onUpdate:modelValue"],Rr=["onUpdate:modelValue"],Ir={class:"flex items-center"},Or={class:"flex items-center space-x-2"},Nr=["onUpdate:modelValue"],Xr={class:"md:col-span-2"},Lr=["onUpdate:modelValue"],Gr={class:"space-y-6"},Hr={class:"bg-white rounded-primea shadow-primea p-6"},Jr={class:"space-y-4"},Wr={class:"flex items-center space-x-2"},Kr={class:"flex items-center space-x-2"},Qr={class:"bg-white rounded-primea shadow-primea p-6"},Zr={class:"space-y-3"},Yr=["disabled"],ea={key:0,class:"bg-white rounded-primea shadow-primea p-6"},ta=["src","alt"],sa={__name:"EventEdit",setup(f){const o=be(),C=ae(),r=A(!0),j=A(!1),g=A(null),i=A(null),b=G({title:"",description:"",event_date:"",category_name:"",venue_name:"",venue_address:"",max_attendees:"",image_url:"",is_public:!0,sales_active:!0,ticket_types:[]}),s=async()=>{r.value=!0,g.value=null;try{const _=o.params.slug;await new Promise(S=>setTimeout(S,800));const a={"concert-jazz-etoiles":{id:1,title:"Concert Jazz sous les étoiles",slug:"concert-jazz-etoiles",description:"Une soirée musicale exceptionnelle sous un ciel étoilé avec les plus grands artistes de jazz de la région.",venue_name:"Palais de la Culture",venue_address:"123 Avenue de la République, Abidjan",event_date:"2025-10-15T20:00:00",status:"active",category_name:"Musique",max_attendees:500,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?w=400",ticket_types:[{id:1,name:"Billet Standard",description:"Accès général à l'événement",price:25e3,quantity:300,is_active:!0},{id:2,name:"Billet VIP",description:"Accès VIP avec boissons incluses",price:5e4,quantity:100,is_active:!0}]},"oiseau-rare":{id:2,title:"L'OISEAU RARE",slug:"oiseau-rare",description:"Concert intimiste dans un cadre exceptionnel",venue_name:"Entre Nous Bar",venue_address:"456 Rue des Arts, Abidjan",event_date:"2025-07-27T20:00:00",status:"published",category_name:"Musique",max_attendees:150,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=400",ticket_types:[{id:3,name:"Entrée Standard",description:"Accès à la soirée",price:1e4,quantity:150,is_active:!0}]},"festival-arts-culture":{id:3,title:"Festival Arts & Culture",slug:"festival-arts-culture",description:"Un festival célébrant la richesse culturelle ivoirienne",venue_name:"Amphithéâtre National",venue_address:"789 Boulevard de la Culture, Abidjan",event_date:"2025-09-10T14:00:00",status:"published",category_name:"Culture",max_attendees:300,is_public:!0,sales_active:!0,image_url:"https://images.unsplash.com/photo-1459749411175-04bf5292ceea?w=400",ticket_types:[{id:4,name:"Pass Journée",description:"Accès toute la journée",price:15e3,quantity:300,is_active:!0}]},"soiree-hip-hop":{id:4,title:"Soirée Hip-Hop",slug:"soiree-hip-hop",description:"Soirée hip-hop avec les meilleurs artistes locaux",venue_name:"Club Central",venue_address:"321 Avenue Central, Abidjan",event_date:"2025-06-20T21:00:00",status:"completed",category_name:"Musique",max_attendees:120,is_public:!0,sales_active:!1,image_url:"https://images.unsplash.com/photo-1470229722913-7c0e2dbbafd3?w=400",ticket_types:[{id:5,name:"Entrée VIP",description:"Accès VIP avec bar",price:1e4,quantity:120,is_active:!1}]},"festival-gastronomique":{id:5,title:"Festival Gastronomique",slug:"festival-gastronomique",description:"Découverte de la gastronomie ivoirienne et internationale",venue_name:"Centre des Expositions",venue_address:"654 Zone Industrielle, Abidjan",event_date:"2025-11-02T12:00:00",status:"draft",category_name:"Gastronomie",max_attendees:400,is_public:!1,sales_active:!1,image_url:"https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=400",ticket_types:[{id:6,name:"Pass Dégustation",description:"Accès aux stands de dégustation",price:2e4,quantity:400,is_active:!1}]}};a[_]?(i.value=a[_],Object.assign(b,{title:i.value.title,description:i.value.description,event_date:i.value.event_date,category_name:i.value.category_name,venue_name:i.value.venue_name,venue_address:i.value.venue_address,max_attendees:i.value.max_attendees,image_url:i.value.image_url,is_public:i.value.is_public,sales_active:i.value.sales_active,ticket_types:[...i.value.ticket_types]})):g.value=`Événement avec le slug "${_}" non trouvé`}catch(_){g.value="Erreur lors du chargement de l'événement",console.error("Erreur:",_)}finally{r.value=!1}},T=async()=>{j.value=!0;try{await new Promise(_=>setTimeout(_,1500)),alert("Événement mis à jour avec succès !"),C.push({name:"organizer-event-detail",params:{slug:i.value.slug}})}catch(_){alert("Erreur lors de la mise à jour de l'événement"),console.error("Erreur:",_)}finally{j.value=!1}},P=async()=>{if(confirm("Êtes-vous sûr de vouloir publier cet événement ?"))try{i.value.status="active",alert("Événement publié avec succès !")}catch{alert("Erreur lors de la publication")}},E=()=>{b.ticket_types.push({name:"",description:"",price:"",quantity:"",is_active:!0})},D=_=>{confirm("Êtes-vous sûr de vouloir supprimer ce type de billet ?")&&b.ticket_types.splice(_,1)},R=_=>({active:"Actif",draft:"Brouillon",published:"Publié",cancelled:"Annulé",completed:"Terminé"})[_]||_,I=_=>({active:"bg-green-100 text-green-800",draft:"bg-gray-100 text-gray-800",published:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800",completed:"bg-purple-100 text-purple-800"})[_]||"bg-gray-100 text-gray-800";return Q(()=>{s()}),(_,a)=>{const S=te("router-link");return u(),d("div",pr,[e("div",cr,[r.value?(u(),d("div",gr,[...a[11]||(a[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):g.value?(u(),d("div",br,[e("div",fr,[v($(ce),{class:"w-16 h-16 mx-auto text-red-500"})]),a[13]||(a[13]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"},"Erreur",-1)),e("p",vr,l(g.value),1),v(S,{to:{name:"organizer-events"},class:"bg-primea-blue text-white px-6 py-3 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},{default:X(()=>[...a[12]||(a[12]=[V(" Retour aux événements ",-1)])]),_:1})])):i.value?(u(),d("div",xr,[e("div",yr,[e("div",_r,[e("div",hr,[e("button",{onClick:a[0]||(a[0]=m=>_.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v($(de),{class:"w-6 h-6"})]),e("div",null,[a[14]||(a[14]=e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Modifier l'événement",-1)),e("p",wr,l(i.value.title),1)])]),e("div",kr,[e("span",{class:U(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",I(i.value.status)])},l(R(i.value.status)),3)])])]),e("form",{onSubmit:K(T,["prevent"]),class:"space-y-8"},[e("div",$r,[e("div",Cr,[e("div",Ar,[a[24]||(a[24]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",jr,[e("div",Er,[a[15]||(a[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement",-1)),y(e("input",{"onUpdate:modelValue":a[1]||(a[1]=m=>b.title=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[k,b.title]])]),e("div",Pr,[a[16]||(a[16]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=m=>b.description=m),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[k,b.description]])]),e("div",null,[a[17]||(a[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Date et heure",-1)),y(e("input",{"onUpdate:modelValue":a[3]||(a[3]=m=>b.event_date=m),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[k,b.event_date]])]),e("div",null,[a[19]||(a[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie",-1)),y(e("select",{"onUpdate:modelValue":a[4]||(a[4]=m=>b.category_name=m),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...a[18]||(a[18]=[pe('<option value="" data-v-8168cf35>Sélectionner une catégorie</option><option value="Musique" data-v-8168cf35>Musique</option><option value="Culture" data-v-8168cf35>Culture</option><option value="Gastronomie" data-v-8168cf35>Gastronomie</option><option value="Sport" data-v-8168cf35>Sport</option><option value="Business" data-v-8168cf35>Business</option><option value="Autres" data-v-8168cf35>Autres</option>',7)])],512),[[oe,b.category_name]])]),e("div",null,[a[20]||(a[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu",-1)),y(e("input",{"onUpdate:modelValue":a[5]||(a[5]=m=>b.venue_name=m),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom du lieu"},null,512),[[k,b.venue_name]])]),e("div",null,[a[21]||(a[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Adresse",-1)),y(e("input",{"onUpdate:modelValue":a[6]||(a[6]=m=>b.venue_address=m),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Adresse complète"},null,512),[[k,b.venue_address]])]),e("div",null,[a[22]||(a[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Capacité maximale",-1)),y(e("input",{"onUpdate:modelValue":a[7]||(a[7]=m=>b.max_attendees=m),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nombre de places (optionnel)"},null,512),[[k,b.max_attendees]])]),e("div",null,[a[23]||(a[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"URL de l'image",-1)),y(e("input",{"onUpdate:modelValue":a[8]||(a[8]=m=>b.image_url=m),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"https://exemple.com/image.jpg"},null,512),[[k,b.image_url]])])])]),e("div",Sr,[e("div",zr,[a[26]||(a[26]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:E,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[v($(ee),{class:"w-4 h-4 inline mr-2"}),a[25]||(a[25]=V(" Ajouter un type ",-1))])]),b.ticket_types.length===0?(u(),d("div",Vr,[v($(re),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),a[27]||(a[27]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),a[28]||(a[28]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(u(),d("div",Dr,[(u(!0),d(O,null,L(b.ticket_types,(m,n)=>(u(),d("div",{key:n,class:"border border-gray-200 rounded-primea p-4"},[e("div",Tr,[e("h3",Mr,"Type de billet "+l(n+1),1),e("button",{type:"button",onClick:h=>D(n),class:"text-red-600 hover:text-red-800"},[v($(le),{class:"w-4 h-4"})],8,Fr)]),e("div",Br,[e("div",null,[a[29]||(a[29]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom",-1)),y(e("input",{"onUpdate:modelValue":h=>m.name=h,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,Ur),[[k,m.name]])]),e("div",null,[a[30]||(a[30]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF)",-1)),y(e("input",{"onUpdate:modelValue":h=>m.price=h,type:"number",min:"0",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,qr),[[k,m.price]])]),e("div",null,[a[31]||(a[31]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Quantité",-1)),y(e("input",{"onUpdate:modelValue":h=>m.quantity=h,type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100 (optionnel)"},null,8,Rr),[[k,m.quantity]])]),e("div",Ir,[e("label",Or,[y(e("input",{"onUpdate:modelValue":h=>m.is_active=h,type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,8,Nr),[[Y,m.is_active]]),a[32]||(a[32]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Actif",-1))])]),e("div",Xr,[a[33]||(a[33]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":h=>m.description=h,rows:"2",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Description du billet..."},null,8,Lr),[[k,m.description]])])])]))),128))]))])]),e("div",Gr,[e("div",Hr,[a[38]||(a[38]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",Jr,[e("div",null,[e("label",Wr,[y(e("input",{"onUpdate:modelValue":a[9]||(a[9]=m=>b.is_public=m),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[Y,b.is_public]]),a[34]||(a[34]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement public",-1))]),a[35]||(a[35]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Visible dans la liste publique des événements",-1))]),e("div",null,[e("label",Kr,[y(e("input",{"onUpdate:modelValue":a[10]||(a[10]=m=>b.sales_active=m),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[Y,b.sales_active]]),a[36]||(a[36]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Ventes actives",-1))]),a[37]||(a[37]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Permettre l'achat de billets",-1))])])]),e("div",Qr,[a[41]||(a[41]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Zr,[e("button",{type:"submit",disabled:j.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},l(j.value?"Enregistrement...":"Enregistrer les modifications"),9,Yr),v(S,{to:{name:"organizer-event-detail",params:{slug:i.value.slug}},class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:X(()=>[...a[39]||(a[39]=[V(" Annuler ",-1)])]),_:1},8,["to"]),i.value.status==="draft"?(u(),d("button",{key:0,type:"button",onClick:P,class:"w-full bg-green-600 text-white px-4 py-2 rounded-primea hover:bg-green-700 transition-all duration-200 font-primea"},[v($(ge),{class:"w-4 h-4 inline mr-2"}),a[40]||(a[40]=V(" Publier l'événement ",-1))])):z("",!0)])]),b.image_url?(u(),d("div",ea,[a[42]||(a[42]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Aperçu de l'image",-1)),e("img",{src:b.image_url,alt:b.title,class:"w-full h-48 object-cover rounded-primea"},null,8,ta)])):z("",!0)])])],32)])):z("",!0)])])}}},oa=Z(sa,[["__scopeId","data-v-8168cf35"]]),yl=Object.freeze(Object.defineProperty({__proto__:null,default:oa},Symbol.toStringTag,{value:"Module"})),ra={class:"event-create min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},aa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},na={class:"mb-8"},ia={class:"flex items-center justify-between"},la={class:"flex items-center space-x-4"},da={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},ua={class:"lg:col-span-2 space-y-6"},ma={class:"bg-white rounded-primea shadow-primea p-6"},pa={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ca={class:"md:col-span-2"},ga={class:"md:col-span-2"},ba=["value"],fa={key:0},va=["value"],xa={key:1,class:"space-y-2"},ya={key:0},_a={class:"md:col-span-2"},ha={class:"border-2 border-dashed border-gray-300 rounded-primea p-4 text-center"},wa={key:0,class:"mb-4"},ka=["src"],$a={key:1},Ca={class:"bg-white rounded-primea shadow-primea p-6"},Aa={class:"flex items-center justify-between mb-6"},ja={class:"space-y-4"},Ea=["onUpdate:modelValue"],Pa=["onUpdate:modelValue"],Sa={class:"flex items-end"},za=["onClick"],Va={class:"bg-white rounded-primea shadow-primea p-6"},Da={class:"flex items-center justify-between mb-6"},Ta={key:0,class:"text-center py-8 text-gray-500"},Ma={key:1,class:"space-y-4"},Fa=["onUpdate:modelValue"],Ba=["onUpdate:modelValue"],Ua=["onUpdate:modelValue"],qa=["onUpdate:modelValue"],Ra={class:"flex items-end"},Ia=["onClick"],Oa={class:"space-y-6"},Na={class:"bg-white rounded-primea shadow-primea p-6"},Xa={class:"space-y-4"},La={class:"flex items-center space-x-2"},Ga={class:"flex items-center space-x-2"},Ha={class:"bg-white rounded-primea shadow-primea p-6"},Ja={class:"space-y-3"},Wa=["disabled"],Ka={key:0,class:"bg-white rounded-primea shadow-primea p-6"},Qa=["src","alt"],Za={class:"bg-white rounded-primea shadow-primea p-6"},Ya={class:"space-y-2 text-sm"},en={class:"flex justify-between"},tn={class:"font-medium font-primea"},sn={class:"flex justify-between"},on={class:"font-medium font-primea"},rn={key:0,class:"flex justify-between"},an={class:"font-medium font-primea"},nn={key:1,class:"flex justify-between"},ln={class:"font-medium font-primea"},dn={__name:"EventCreate",setup(f){const o=ae(),C=A(!1),r=A([]),j=A([]),g=A(!1),i=A(!1),b=A(null),s=G({title:"",description:"",category_id:"",venue_id:"",venue_city:"",max_attendees:"",image_url:"",image_preview:"",image_file:null,status:"draft",new_venue_name:"",new_venue_city:"",new_venue_address:"",schedules:[{starts_at:"",ends_at:""}],ticket_types:[{name:"",price:"",capacity:"",description:""}]}),T=W(()=>s.ticket_types.reduce((x,t)=>x+(parseInt(t.capacity)||0),0)),P=W(()=>{if(s.ticket_types.length===0)return 0;const x=s.ticket_types.map(t=>parseInt(t.price)||0).filter(t=>t>0);return x.length>0?Math.min(...x):0}),E=W(()=>{if(s.ticket_types.length===0)return 0;const x=s.ticket_types.map(t=>parseInt(t.price)||0);return x.length>0?Math.max(...x):0}),D=()=>{s.ticket_types.push({name:"",description:"",price:"",capacity:""})},R=()=>{s.schedules.push({starts_at:"",ends_at:""})},I=x=>{s.schedules.length>1&&s.schedules.splice(x,1)},_=()=>{s.venue_id==="new"?i.value=!0:i.value=!1},a=()=>{i.value=!1,s.venue_id="",s.new_venue_name="",s.new_venue_city="",s.new_venue_address=""},S=x=>{const t=x.target.files[0];if(t){s.image_file=t;const p=new FileReader;p.onload=c=>{s.image_preview=c.target.result,s.image_url=""},p.readAsDataURL(t)}},m=()=>{s.image_url&&(s.image_preview=s.image_url,s.image_file=null)},n=()=>{s.image_url="",s.image_preview="",s.image_file=null,b.value&&(b.value.value="")},h=x=>{s.ticket_types.length>1&&s.ticket_types.splice(x,1)},w=async()=>{if(s.ticket_types.length===0){B.fire({title:"Erreur",text:"Veuillez ajouter au moins un type de billet",icon:"error",confirmButtonColor:"#272d63"});return}if(!s.title||!s.event_date||!s.venue_name){B.fire({title:"Erreur",text:"Veuillez remplir tous les champs obligatoires",icon:"error",confirmButtonColor:"#272d63"});return}C.value=!0;try{if(!s.category_id){B.fire({title:"Erreur",text:"Veuillez sélectionner une catégorie",icon:"error",confirmButtonColor:"#272d63"});return}if(!s.venue_id&&!s.new_venue_name){B.fire({title:"Erreur",text:"Veuillez sélectionner un lieu ou créer un nouveau lieu",icon:"error",confirmButtonColor:"#272d63"});return}if(s.schedules.some(p=>!p.starts_at||!p.ends_at)){B.fire({title:"Erreur",text:"Veuillez remplir toutes les dates et heures de programmation",icon:"error",confirmButtonColor:"#272d63"});return}const x={title:s.title,description:s.description,category_id:s.category_id,venue_id:s.venue_id!=="new"?s.venue_id:null,venue_name:s.venue_id==="new"?s.new_venue_name:null,venue_city:s.venue_id==="new"?s.new_venue_city:s.venue_city,venue_address:s.venue_id==="new"?s.new_venue_address:null,max_attendees:s.max_attendees?parseInt(s.max_attendees):null,image_url:s.image_url,is_active:s.status==="published",schedules:s.schedules.map(p=>({starts_at:p.starts_at,ends_at:p.ends_at,door_time:new Date(new Date(p.starts_at).getTime()-1800*1e3).toISOString()})),ticket_types:s.ticket_types.map(p=>({name:p.name,description:p.description,price:parseFloat(p.price),capacity:parseInt(p.capacity),is_active:!0}))},t=await H.createEvent(x);if(t.data.success)B.fire({title:"Succès !",text:"Événement créé avec succès !",icon:"success",confirmButtonColor:"#272d63"}).then(()=>{o.push(`/organizer/events/${t.data.data.id}`)});else throw new Error(t.data.message||"Erreur lors de la création")}catch(x){console.error("Erreur création événement:",x),B.fire({title:"Erreur",text:x.response?.data?.message||"Erreur lors de la création de l'événement",icon:"error",confirmButtonColor:"#272d63"})}finally{C.value=!1}},q=async()=>{g.value=!0;try{const x=await H.getCategories();x.data.success&&(r.value=x.data.categories||x.data.data);const t=await H.getVenues();t.data.success&&(j.value=t.data.venues||t.data.data)}catch(x){console.error("Erreur chargement données initiales:",x)}finally{g.value=!1}},F=x=>new Intl.NumberFormat("fr-FR").format(x);return Q(()=>{q()}),(x,t)=>{const p=te("router-link");return u(),d("div",ra,[e("div",aa,[e("div",na,[e("div",ia,[e("div",la,[e("button",{onClick:t[0]||(t[0]=c=>x.$router.go(-1)),class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v($(de),{class:"w-6 h-6"})]),t[16]||(t[16]=e("div",null,[e("h1",{class:"text-3xl font-bold text-primea-blue font-primea"},"Créer un événement"),e("p",{class:"text-gray-600 font-primea mt-1"},"Configurez tous les détails de votre événement")],-1))])])]),e("form",{onSubmit:K(w,["prevent"]),class:"space-y-8"},[e("div",da,[e("div",ua,[e("div",ma,[t[29]||(t[29]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Informations de base",-1)),e("div",pa,[e("div",ca,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Titre de l'événement",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>s.title=c),type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nom de votre événement"},null,512),[[k,s.title]])]),e("div",ga,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=c=>s.description=c),rows:"4",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea resize-none",placeholder:"Décrivez votre événement..."},null,512),[[k,s.description]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Date et heure",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>s.event_date=c),type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[k,s.event_date]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Catégorie *",-1)),y(e("select",{"onUpdate:modelValue":t[4]||(t[4]=c=>s.category_id=c),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[t[20]||(t[20]=e("option",{value:""},"Sélectionner une catégorie",-1)),(u(!0),d(O,null,L(r.value,c=>(u(),d("option",{key:c.id,value:c.id},l(c.name),9,ba))),128))],512),[[oe,s.category_id]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Lieu *",-1)),i.value?z("",!0):(u(),d("div",fa,[y(e("select",{"onUpdate:modelValue":t[5]||(t[5]=c=>s.venue_id=c),onChange:_,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[t[22]||(t[22]=e("option",{value:""},"Sélectionner un lieu",-1)),(u(!0),d(O,null,L(j.value,c=>(u(),d("option",{key:c.id,value:c.id},l(c.name)+" - "+l(c.city),9,va))),128)),t[23]||(t[23]=e("option",{value:"new"},"+ Ajouter un nouveau lieu",-1))],544),[[oe,s.venue_id]])])),i.value||s.venue_id==="new"?(u(),d("div",xa,[y(e("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>s.new_venue_name=c),type:"text",placeholder:"Nom du lieu",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[k,s.new_venue_name]]),y(e("input",{"onUpdate:modelValue":t[7]||(t[7]=c=>s.new_venue_city=c),type:"text",placeholder:"Ville",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",required:""},null,512),[[k,s.new_venue_city]]),y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=c=>s.new_venue_address=c),type:"text",placeholder:"Adresse",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,512),[[k,s.new_venue_address]]),e("button",{type:"button",onClick:a,class:"text-sm text-primea-blue hover:text-primea-yellow font-primea"}," Utiliser un lieu existant ")])):z("",!0)]),!i.value&&s.venue_id!=="new"?(u(),d("div",ya,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Ville",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=c=>s.venue_city=c),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ville du lieu"},null,512),[[k,s.venue_city]])])):z("",!0),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Capacité maximale",-1)),y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=c=>s.max_attendees=c),type:"number",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nombre de places (optionnel)"},null,512),[[k,s.max_attendees]])]),e("div",_a,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Image de l'événement",-1)),e("div",ha,[s.image_preview?(u(),d("div",wa,[e("img",{src:s.image_preview,alt:"Aperçu",class:"max-h-32 mx-auto rounded-primea"},null,8,ka),e("button",{type:"button",onClick:n,class:"mt-2 text-sm text-red-600 hover:text-red-800"}," Supprimer l'image ")])):(u(),d("div",$a,[e("input",{ref_key:"imageInput",ref:b,type:"file",accept:"image/*",onChange:S,class:"hidden"},null,544),e("button",{type:"button",onClick:t[11]||(t[11]=c=>x.$refs.imageInput.click()),class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"}," Choisir une image "),t[27]||(t[27]=e("p",{class:"text-sm text-gray-500 mt-2 font-primea"},"ou",-1)),y(e("input",{"onUpdate:modelValue":t[12]||(t[12]=c=>s.image_url=c),type:"url",class:"mt-2 w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"URL de l'image (https://exemple.com/image.jpg)",onInput:m},null,544),[[k,s.image_url]])]))])])])]),e("div",Ca,[e("div",Aa,[t[31]||(t[31]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Programmation",-1)),e("button",{type:"button",onClick:R,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[v($(ee),{class:"w-4 h-4 inline mr-2"}),t[30]||(t[30]=V(" Ajouter une séance ",-1))])]),e("div",ja,[(u(!0),d(O,null,L(s.schedules,(c,J)=>(u(),d("div",{key:J,class:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de début *",-1)),y(e("input",{"onUpdate:modelValue":N=>c.starts_at=N,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,Ea),[[k,c.starts_at]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Date et heure de fin *",-1)),y(e("input",{"onUpdate:modelValue":N=>c.ends_at=N,type:"datetime-local",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},null,8,Pa),[[k,c.ends_at]])]),e("div",Sa,[s.schedules.length>1?(u(),d("button",{key:0,type:"button",onClick:N=>I(J),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[v($(le),{class:"w-4 h-4"})],8,za)):z("",!0)])]))),128))])]),e("div",Va,[e("div",Da,[t[35]||(t[35]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Types de billets",-1)),e("button",{type:"button",onClick:D,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea"},[v($(ee),{class:"w-4 h-4 inline mr-2"}),t[34]||(t[34]=V(" Ajouter un type ",-1))])]),s.ticket_types.length===0?(u(),d("div",Ta,[v($(re),{class:"w-12 h-12 mx-auto text-gray-300 mb-2"}),t[36]||(t[36]=e("p",{class:"font-primea"},"Aucun type de billet configuré",-1)),t[37]||(t[37]=e("p",{class:"text-sm font-primea mt-1"},'Cliquez sur "Ajouter un type" pour commencer',-1))])):(u(),d("div",Ma,[(u(!0),d(O,null,L(s.ticket_types,(c,J)=>(u(),d("div",{key:J,class:"grid grid-cols-1 md:grid-cols-5 gap-4 p-4 border border-gray-200 rounded-primea"},[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom *",-1)),y(e("input",{"onUpdate:modelValue":N=>c.name=N,type:"text",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Ex: Billet Standard"},null,8,Fa),[[k,c.name]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Prix (XAF) *",-1)),y(e("input",{"onUpdate:modelValue":N=>c.price=N,type:"number",min:"0",step:"0.01",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"25000"},null,8,Ba),[[k,c.price,void 0,{number:!0}]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Capacité *",-1)),y(e("input",{"onUpdate:modelValue":N=>c.capacity=N,type:"number",min:"1",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"100"},null,8,Ua),[[k,c.capacity,void 0,{number:!0}]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("input",{"onUpdate:modelValue":N=>c.description=N,type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Description du billet"},null,8,qa),[[k,c.description]])]),e("div",Ra,[s.ticket_types.length>1?(u(),d("button",{key:0,type:"button",onClick:N=>h(J),class:"bg-red-600 text-white px-3 py-2 rounded-primea hover:bg-red-700 font-primea"},[v($(le),{class:"w-4 h-4"})],8,Ia)):z("",!0)])]))),128))]))])]),e("div",Oa,[e("div",Na,[t[49]||(t[49]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Paramètres",-1)),e("div",Xa,[e("div",null,[e("label",La,[y(e("input",{"onUpdate:modelValue":t[13]||(t[13]=c=>s.is_public=c),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[Y,s.is_public]]),t[42]||(t[42]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Événement public",-1))]),t[43]||(t[43]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Visible dans la liste publique des événements",-1))]),e("div",null,[e("label",Ga,[y(e("input",{"onUpdate:modelValue":t[14]||(t[14]=c=>s.sales_active=c),type:"checkbox",class:"rounded border-gray-300 text-primea-blue focus:ring-primea-blue"},null,512),[[Y,s.sales_active]]),t[44]||(t[44]=e("span",{class:"text-sm font-medium text-gray-700 font-primea"},"Ventes actives",-1))]),t[45]||(t[45]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Permettre l'achat de billets",-1))]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-2"},"Statut *",-1)),y(e("select",{"onUpdate:modelValue":t[15]||(t[15]=c=>s.status=c),class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea"},[...t[46]||(t[46]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1),e("option",{value:"cancelled"},"Annulé",-1)])],512),[[oe,s.status]]),t[48]||(t[48]=e("p",{class:"text-xs text-gray-500 mt-1 font-primea"},"Les brouillons ne sont pas visibles par le public",-1))])])]),e("div",Ha,[t[51]||(t[51]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Actions",-1)),e("div",Ja,[e("button",{type:"submit",disabled:C.value,class:"w-full bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue transition-all duration-200 font-primea disabled:opacity-50"},l(C.value?"Création en cours...":"Créer l'événement"),9,Wa),v(p,{to:"/organizer/dashboard",class:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-primea hover:bg-gray-50 transition-all duration-200 font-primea"},{default:X(()=>[...t[50]||(t[50]=[V(" Annuler ",-1)])]),_:1})])]),s.image_url||s.image_preview?(u(),d("div",Ka,[t[52]||(t[52]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Aperçu de l'image",-1)),e("img",{src:s.image_preview||s.image_url,alt:s.title,class:"w-full h-48 object-cover rounded-primea"},null,8,Qa)])):z("",!0),e("div",Za,[t[57]||(t[57]=e("h3",{class:"text-lg font-semibold text-primea-blue font-primea mb-4"},"Résumé",-1)),e("div",Ya,[e("div",en,[t[53]||(t[53]=e("span",{class:"text-gray-600 font-primea"},"Types de billets:",-1)),e("span",tn,l(s.ticket_types.length),1)]),e("div",sn,[t[54]||(t[54]=e("span",{class:"text-gray-600 font-primea"},"Capacité totale:",-1)),e("span",on,l(T.value||"Illimitée"),1)]),P.value>0?(u(),d("div",rn,[t[55]||(t[55]=e("span",{class:"text-gray-600 font-primea"},"Prix minimum:",-1)),e("span",an,l(F(P.value))+" XAF",1)])):z("",!0),E.value>0?(u(),d("div",nn,[t[56]||(t[56]=e("span",{class:"text-gray-600 font-primea"},"Prix maximum:",-1)),e("span",ln,l(F(E.value))+" XAF",1)])):z("",!0)])])])])],32)])])}}},un=Z(dn,[["__scopeId","data-v-9d9b26e4"]]),_l=Object.freeze(Object.defineProperty({__proto__:null,default:un},Symbol.toStringTag,{value:"Module"})),mn={name:"BalanceManagement",setup(){const f=A(!1),o=A(!1),C=A(!1),r=A(!1),j=A(!1),g=A([]),i=A([]),b=G({pending_payouts:0,total_payouts:0}),s=G({gateway:"",available_balance:0,amount:"",phone_number:""}),T=G({gateway:"",auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),P=W(()=>g.value.reduce((p,c)=>p+c.balance,0)),E=async()=>{f.value=!0;try{const c=await(await fetch("/api/v1/organizer/balances",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();c.success&&(g.value=c.data.balances)}catch(p){console.error("Erreur chargement soldes:",p)}finally{f.value=!1}},D=async()=>{try{const c=await(await fetch("/api/v1/organizer/payouts?limit=10",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();c.success&&(i.value=c.data.payouts.data||c.data.payouts,b.pending_payouts=i.value.filter(J=>["pending","processing"].includes(J.status)).length,b.total_payouts=i.value.reduce((J,N)=>J+N.amount,0))}catch(p){console.error("Erreur chargement payouts récents:",p)}},R=p=>{Object.assign(s,{gateway:p.gateway,available_balance:p.balance,amount:"",phone_number:p.payout_phone_number||""}),r.value=!0},I=async()=>{o.value=!0;try{const c=await(await fetch("/api/v1/organizer/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json();c.success?(alert("Demande de payout envoyée avec succès"),r.value=!1,E(),D()):alert(c.message||"Erreur lors de la demande")}catch(p){console.error("Erreur demande payout:",p),alert("Erreur technique")}finally{o.value=!1}},_=p=>{Object.assign(T,{gateway:p.gateway,auto_payout_enabled:p.auto_payout_enabled,auto_payout_threshold:p.auto_payout_threshold,payout_phone_number:p.payout_phone_number||""}),j.value=!0},a=async()=>{C.value=!0;try{const c=await(await fetch("/api/v1/organizer/auto-payout-config",{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(T)})).json();c.success?(alert("Configuration mise à jour avec succès"),j.value=!1,E()):alert(c.message||"Erreur lors de la mise à jour")}catch(p){console.error("Erreur sauvegarde config:",p),alert("Erreur technique")}finally{C.value=!1}},S=p=>i.value.filter(c=>c.gateway===p).slice(0,3),m=p=>{alert(`Détails du payout #${p.reference}
Montant: ${n(p.amount)} XAF
Statut: ${x(p.status)}`)},n=p=>new Intl.NumberFormat("fr-FR").format(p),h=p=>new Date(p).toLocaleDateString("fr-FR"),w=p=>new Date(p).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),q=p=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[p]||p,F=p=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[p]||"bg-gray-100 text-gray-800",x=p=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[p]||p,t=p=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[p]||"bg-gray-100 text-gray-800";return Q(()=>{E(),D()}),{loading:f,requestingPayout:o,savingConfig:C,showPayoutModal:r,showConfigModal:j,balances:g,recentPayouts:i,stats:b,payoutForm:s,configForm:T,totalBalance:P,loadBalances:E,loadRecentPayouts:D,requestPayout:R,submitPayoutRequest:I,configureAutoPayout:_,saveAutoPayoutConfig:a,getRecentPayouts:S,viewPayoutDetails:m,formatAmount:n,formatDate:h,formatDateTime:w,getGatewayName:q,getGatewayBadgeClass:F,getPayoutStatusName:x,getPayoutStatusClass:t}}},pn={class:"balance-management min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},cn={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},gn={class:"mb-8"},bn={class:"flex items-center justify-between"},fn={key:0,class:"flex justify-center items-center h-64"},vn={key:1},xn={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"},yn={class:"bg-white rounded-lg shadow p-6"},_n={class:"flex items-center"},hn={class:"ml-4"},wn={class:"text-2xl font-bold text-green-600"},kn={class:"bg-white rounded-lg shadow p-6"},$n={class:"flex items-center"},Cn={class:"ml-4"},An={class:"text-2xl font-bold text-yellow-600"},jn={class:"bg-white rounded-lg shadow p-6"},En={class:"flex items-center"},Pn={class:"ml-4"},Sn={class:"text-2xl font-bold text-blue-600"},zn={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},Vn={class:"flex items-center justify-between mb-4"},Dn={class:"flex items-center"},Tn={class:"text-lg font-semibold text-gray-900"},Mn={class:"text-right"},Fn={class:"text-2xl font-bold text-green-600"},Bn={class:"mb-4 p-3 bg-gray-50 rounded-lg"},Un={class:"flex items-center justify-between mb-2"},qn={key:0,class:"text-sm text-gray-600"},Rn={key:0},In={class:"space-y-3"},On=["onClick","disabled"],Nn=["onClick"],Xn={class:"mt-6 pt-6 border-t"},Ln={key:0,class:"text-sm text-gray-500"},Gn={key:1,class:"space-y-2"},Hn={class:"font-medium"},Jn={class:"text-gray-500 ml-2"},Wn={class:"bg-white rounded-lg shadow"},Kn={class:"p-6 border-b"},Qn={class:"flex justify-between items-center"},Zn={key:0,class:"p-8 text-center text-gray-500"},Yn={key:1,class:"overflow-x-auto"},ei={class:"w-full"},ti={class:"divide-y divide-gray-200"},si={class:"px-6 py-4 text-sm font-mono text-gray-900"},oi={class:"px-6 py-4 text-sm"},ri={class:"px-6 py-4 text-sm font-medium text-gray-900"},ai={class:"px-6 py-4 text-sm"},ni={class:"px-6 py-4 text-sm"},ii={class:"px-6 py-4 text-sm text-gray-500"},li={class:"px-6 py-4 text-sm"},di=["onClick"],ui={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},mi={class:"bg-white rounded-lg p-6 w-full max-w-md"},pi={class:"space-y-4"},ci=["value"],gi=["value"],bi=["max"],fi={class:"flex justify-end space-x-3 mt-6"},vi=["disabled"],xi={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},yi={class:"bg-white rounded-lg p-6 w-full max-w-md"},_i={class:"text-lg font-bold mb-4"},hi={class:"space-y-4"},wi={class:"flex items-center space-x-2"},ki={key:0},$i={class:"flex justify-end space-x-3 mt-6"},Ci=["disabled"];function Ai(f,o,C,r,j,g){return u(),d("div",pn,[e("div",cn,[e("div",gn,[e("div",bn,[o[12]||(o[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Soldes & Payouts"),e("p",{class:"text-gray-600"},"Consultez vos soldes et gérez vos demandes de payout")],-1)),e("button",{onClick:o[0]||(o[0]=i=>f.$router.push("/organizer/payouts/history")),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...o[11]||(o[11]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),V(" Historique Payouts ",-1)])])])]),r.loading?(u(),d("div",fn,[...o[13]||(o[13]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(u(),d("div",vn,[e("div",xn,[e("div",yn,[e("div",_n,[o[15]||(o[15]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",hn,[o[14]||(o[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",wn,l(r.formatAmount(r.totalBalance))+" XAF",1)])])]),e("div",kn,[e("div",$n,[o[17]||(o[17]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Cn,[o[16]||(o[16]=e("p",{class:"text-sm text-gray-600"},"Payouts en Cours",-1)),e("p",An,l(r.stats.pending_payouts||0),1)])])]),e("div",jn,[e("div",En,[o[19]||(o[19]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1)),e("div",Pn,[o[18]||(o[18]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",Sn,l(r.formatAmount(r.stats.total_payouts||0))+" XAF",1)])])])]),e("div",zn,[(u(!0),d(O,null,L(r.balances,i=>(u(),d("div",{key:i.gateway,class:"bg-white rounded-lg shadow p-6"},[e("div",Vn,[e("div",Dn,[e("div",{class:U(["p-2 rounded-lg mr-4",r.getGatewayBadgeClass(i.gateway)])},[...o[20]||(o[20]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("h3",Tn,l(r.getGatewayName(i.gateway)),1),o[21]||(o[21]=e("p",{class:"text-sm text-gray-600"},"Solde disponible",-1))])]),e("div",Mn,[e("p",Fn,l(r.formatAmount(i.balance))+" XAF",1)])]),e("div",Bn,[e("div",Un,[o[22]||(o[22]=e("span",{class:"text-sm font-medium text-gray-700"},"Payout Automatique",-1)),e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",i.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},l(i.auto_payout_enabled?"Activé":"Désactivé"),3)]),i.auto_payout_enabled?(u(),d("div",qn,[e("p",null,"Seuil: "+l(r.formatAmount(i.auto_payout_threshold))+" XAF",1),i.payout_phone_number?(u(),d("p",Rn,"Téléphone: "+l(i.payout_phone_number),1)):z("",!0)])):z("",!0)]),e("div",In,[e("button",{onClick:b=>r.requestPayout(i),disabled:i.balance<1e3,class:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[o[23]||(o[23]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),V(" "+l(i.balance<1e3?"Solde insuffisant (min 1000 XAF)":"Demander un Payout"),1)],8,On),e("button",{onClick:b=>r.configureAutoPayout(i),class:"w-full bg-gray-600 text-white py-2 px-4 rounded-lg hover:bg-gray-700"},[...o[24]||(o[24]=[e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),V(" Configurer Auto-Payout ",-1)])],8,Nn)]),e("div",Xn,[o[25]||(o[25]=e("h4",{class:"text-sm font-medium text-gray-700 mb-3"},"Dernières transactions",-1)),r.getRecentPayouts(i.gateway).length===0?(u(),d("div",Ln," Aucune transaction récente ")):(u(),d("div",Gn,[(u(!0),d(O,null,L(r.getRecentPayouts(i.gateway),b=>(u(),d("div",{key:b.id,class:"flex justify-between items-center text-sm"},[e("div",null,[e("span",Hn,l(r.formatAmount(b.amount))+" XAF",1),e("span",Jn,l(r.formatDate(b.created_at)),1)]),e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.getPayoutStatusClass(b.status)])},l(r.getPayoutStatusName(b.status)),3)]))),128))]))])]))),128))]),e("div",Wn,[e("div",Kn,[e("div",Qn,[o[26]||(o[26]=e("h2",{class:"text-xl font-bold"},"Payouts Récents",-1)),e("button",{onClick:o[1]||(o[1]=i=>f.$router.push("/organizer/payouts/history")),class:"text-blue-600 hover:text-blue-800 text-sm"},"Voir tout")])]),r.recentPayouts.length===0?(u(),d("div",Zn," Aucun payout récent ")):(u(),d("div",Yn,[e("table",ei,[o[27]||(o[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",ti,[(u(!0),d(O,null,L(r.recentPayouts,i=>(u(),d("tr",{key:i.id},[e("td",si,"#"+l(i.reference),1),e("td",oi,[e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.getGatewayBadgeClass(i.gateway)])},l(r.getGatewayName(i.gateway)),3)]),e("td",ri,l(r.formatAmount(i.amount))+" XAF",1),e("td",ai,[e("span",{class:U(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",r.getPayoutStatusClass(i.status)])},l(r.getPayoutStatusName(i.status)),3)]),e("td",ni,[e("span",{class:U(["inline-flex px-2 py-1 text-xs rounded-full",i.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},l(i.is_automatic?"Auto":"Manuel"),3)]),e("td",ii,l(r.formatDateTime(i.created_at)),1),e("td",li,[e("button",{onClick:b=>r.viewPayoutDetails(i),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,di)])]))),128))])])]))])])),r.showPayoutModal?(u(),d("div",ui,[e("div",mi,[o[34]||(o[34]=e("h3",{class:"text-lg font-bold mb-4"},"Demande de Payout",-1)),e("form",{onSubmit:o[5]||(o[5]=K((...i)=>r.submitPayoutRequest&&r.submitPayoutRequest(...i),["prevent"]))},[e("div",pi,[e("div",null,[o[28]||(o[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:r.getGatewayName(r.payoutForm.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,ci)]),e("div",null,[o[29]||(o[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Disponible",-1)),e("input",{value:r.formatAmount(r.payoutForm.available_balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,gi)]),e("div",null,[o[30]||(o[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant à retirer (XAF)",-1)),y(e("input",{"onUpdate:modelValue":o[2]||(o[2]=i=>r.payoutForm.amount=i),type:"number",min:1e3,max:r.payoutForm.available_balance,required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,bi),[[k,r.payoutForm.amount,void 0,{number:!0}]]),o[31]||(o[31]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum: 1,000 XAF",-1))]),e("div",null,[o[32]||(o[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),y(e("input",{"onUpdate:modelValue":o[3]||(o[3]=i=>r.payoutForm.phone_number=i),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[k,r.payoutForm.phone_number]]),o[33]||(o[33]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro sans indicatif pays",-1))])]),e("div",fi,[e("button",{type:"button",onClick:o[4]||(o[4]=i=>r.showPayoutModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:r.requestingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(r.requestingPayout?"Demande en cours...":"Demander le Payout"),9,vi)])],32)])])):z("",!0),r.showConfigModal?(u(),d("div",xi,[e("div",yi,[e("h3",_i,"Configuration Auto-Payout - "+l(r.getGatewayName(r.configForm.gateway)),1),e("form",{onSubmit:o[10]||(o[10]=K((...i)=>r.saveAutoPayoutConfig&&r.saveAutoPayoutConfig(...i),["prevent"]))},[e("div",hi,[e("div",null,[e("label",wi,[y(e("input",{type:"checkbox","onUpdate:modelValue":o[6]||(o[6]=i=>r.configForm.auto_payout_enabled=i),class:"rounded border-gray-300"},null,512),[[Y,r.configForm.auto_payout_enabled]]),o[35]||(o[35]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),r.configForm.auto_payout_enabled?(u(),d("div",ki,[o[36]||(o[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),y(e("input",{"onUpdate:modelValue":o[7]||(o[7]=i=>r.configForm.auto_payout_threshold=i),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[k,r.configForm.auto_payout_threshold,void 0,{number:!0}]]),o[37]||(o[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):z("",!0),e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),y(e("input",{"onUpdate:modelValue":o[8]||(o[8]=i=>r.configForm.payout_phone_number=i),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[k,r.configForm.payout_phone_number]]),o[39]||(o[39]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts automatiques",-1))])]),e("div",$i,[e("button",{type:"button",onClick:o[9]||(o[9]=i=>r.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:r.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},l(r.savingConfig?"Enregistrement...":"Enregistrer"),9,Ci)])],32)])])):z("",!0)])])}const ji=Z(mn,[["render",Ai],["__scopeId","data-v-e6c5fcd5"]]),hl=Object.freeze(Object.defineProperty({__proto__:null,default:ji},Symbol.toStringTag,{value:"Module"})),Ei={class:"organizer-profile min-h-screen",style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)"}},Pi={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},Si={key:0,class:"flex justify-center items-center h-64"},zi={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Vi={class:"bg-white rounded-primea shadow-primea p-6"},Di={class:"flex items-center justify-between mb-6"},Ti=["disabled"],Mi=["disabled"],Fi=["disabled"],Bi={key:0,class:"flex space-x-3 pt-4"},Ui=["disabled"],qi={class:"bg-white rounded-primea shadow-primea p-6"},Ri={class:"flex items-center justify-between mb-6"},Ii=["disabled"],Oi=["disabled"],Ni=["disabled"],Xi=["disabled"],Li=["disabled"],Gi={key:0,class:"flex space-x-3 pt-4"},Hi=["disabled"],Ji={class:"bg-white rounded-primea shadow-primea p-6"},Wi=["disabled"],Ki={class:"bg-white rounded-primea shadow-primea p-6"},Qi={class:"space-y-4"},Zi={class:"flex items-center justify-between p-3 bg-green-50 rounded-primea"},Yi={class:"flex items-center space-x-3"},el={class:"text-xs text-green-600 font-primea"},tl={key:0,class:"flex items-center justify-between p-3 bg-blue-50 rounded-primea"},sl={class:"flex items-center space-x-3"},ol={class:"text-xs text-blue-600 font-primea"},rl={class:"grid grid-cols-2 gap-4 pt-4"},al={class:"text-center p-3 border rounded-primea"},nl={class:"text-2xl font-bold text-primea-blue font-primea"},il={class:"text-center p-3 border rounded-primea"},ll={class:"text-2xl font-bold text-primea-yellow font-primea"},dl={__name:"OrganizerProfile",setup(f){fe();const o=A(!1),C=A(!1),r=A(!1),j=A(!1),g=A(!1),i=A(!1),b=A(null),s=A(null),T=A({events:0,tickets:0}),P=G({name:"",email:"",phone:""}),E=G({name:"",description:"",website_url:"",contact_email:"",contact_phone:""}),D=G({current_password:"",password:"",password_confirmation:""}),R=G({}),I=G({}),_=()=>{C.value||Object.assign(R,P),C.value=!C.value},a=()=>{r.value||Object.assign(I,E),r.value=!r.value},S=()=>{Object.assign(P,R),C.value=!1},m=()=>{Object.assign(E,I),r.value=!1},n=async()=>{j.value=!0;try{console.log("Mise à jour des informations personnelles:",P),await new Promise(x=>setTimeout(x,1e3)),C.value=!1}catch(x){console.error("Erreur lors de la mise à jour:",x)}finally{j.value=!1}},h=async()=>{g.value=!0;try{console.log("Mise à jour de l'organisation:",E),await new Promise(x=>setTimeout(x,1e3)),r.value=!1}catch(x){console.error("Erreur lors de la mise à jour:",x)}finally{g.value=!1}},w=async()=>{if(D.password!==D.password_confirmation){alert("Les mots de passe ne correspondent pas");return}i.value=!0;try{console.log("Changement de mot de passe"),await new Promise(x=>setTimeout(x,1e3)),Object.assign(D,{current_password:"",password:"",password_confirmation:""})}catch(x){console.error("Erreur lors du changement de mot de passe:",x)}finally{i.value=!1}},q=x=>x?new Date(x).toLocaleDateString("fr-FR"):"Non disponible",F=async()=>{o.value=!0;try{b.value={name:"Marie Nzougou",email:"marie@example.com",phone:"+225 07 12 34 56 78",email_verified_at:"2024-01-15T10:30:00Z"},s.value={name:"Mon Organisation",description:"Organisation spécialisée dans l'événementiel",website_url:"https://monorganisation.com",contact_email:"contact@monorganisation.com",contact_phone:"+225 07 12 34 56 79",verified_at:"2024-01-20T14:00:00Z"},T.value={events:12,tickets:345},Object.assign(P,{name:b.value.name,email:b.value.email,phone:b.value.phone}),Object.assign(E,{name:s.value.name,description:s.value.description,website_url:s.value.website_url,contact_email:s.value.contact_email,contact_phone:s.value.contact_phone})}catch(x){console.error("Erreur lors du chargement du profil:",x)}finally{o.value=!1}};return Q(()=>{F()}),(x,t)=>(u(),d("div",Ei,[e("div",Pi,[t[31]||(t[31]=e("div",{class:"mb-8"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon Profil Organisateur"),e("p",{class:"text-gray-600 mt-1 font-primea"},"Gérez vos informations personnelles et celles de votre organisation")],-1)),o.value?(u(),d("div",Si,[...t[11]||(t[11]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primea-blue"},null,-1)])])):(u(),d("div",zi,[e("div",Vi,[e("div",Di,[t[12]||(t[12]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Informations Personnelles",-1)),e("button",{onClick:_,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v($(ie),{class:"w-5 h-5"})])]),e("form",{onSubmit:K(n,["prevent"]),class:"space-y-4"},[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom complet",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=p=>P.name=p),type:"text",disabled:!C.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Votre nom complet"},null,8,Ti),[[k,P.name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=p=>P.email=p),type:"email",disabled:!C.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"votre@email.com"},null,8,Mi),[[k,P.email]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone",-1)),y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=p=>P.phone=p),type:"tel",disabled:!C.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,Fi),[[k,P.phone]])]),C.value?(u(),d("div",Bi,[e("button",{type:"submit",disabled:j.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},l(j.value?"Enregistrement...":"Enregistrer"),9,Ui),e("button",{type:"button",onClick:S,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):z("",!0)],32)]),e("div",qi,[e("div",Ri,[t[16]||(t[16]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea"},"Mon Organisation",-1)),e("button",{onClick:a,class:"text-primea-blue hover:text-primea-yellow transition-colors"},[v($(ie),{class:"w-5 h-5"})])]),e("form",{onSubmit:K(h,["prevent"]),class:"space-y-4"},[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nom de l'organisation",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=p=>E.name=p),type:"text",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"Nom de votre organisation"},null,8,Ii),[[k,E.name]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Description",-1)),y(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=p=>E.description=p),disabled:!r.value,rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea resize-none",placeholder:"Décrivez votre organisation..."},null,8,Oi),[[k,E.description]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Site web",-1)),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=p=>E.website_url=p),type:"url",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"https://votresite.com"},null,8,Ni),[[k,E.website_url]])]),e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Email de contact",-1)),y(e("input",{"onUpdate:modelValue":t[6]||(t[6]=p=>E.contact_email=p),type:"email",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"contact@organisation.com"},null,8,Xi),[[k,E.contact_email]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Téléphone de contact",-1)),y(e("input",{"onUpdate:modelValue":t[7]||(t[7]=p=>E.contact_phone=p),type:"tel",disabled:!r.value,class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue disabled:bg-gray-50 font-primea",placeholder:"+225 XX XX XX XX XX"},null,8,Li),[[k,E.contact_phone]])]),r.value?(u(),d("div",Gi,[e("button",{type:"submit",disabled:g.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},l(g.value?"Enregistrement...":"Enregistrer"),9,Hi),e("button",{type:"button",onClick:m,class:"border border-gray-300 text-gray-700 px-4 py-2 rounded-primea hover:bg-gray-50 font-primea transition-colors"}," Annuler ")])):z("",!0)],32)]),e("div",Ji,[t[25]||(t[25]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Sécurité",-1)),e("form",{onSubmit:K(w,["prevent"]),class:"space-y-4"},[e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Mot de passe actuel",-1)),y(e("input",{"onUpdate:modelValue":t[8]||(t[8]=p=>D.current_password=p),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Votre mot de passe actuel"},null,512),[[k,D.current_password]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Nouveau mot de passe",-1)),y(e("input",{"onUpdate:modelValue":t[9]||(t[9]=p=>D.password=p),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Nouveau mot de passe"},null,512),[[k,D.password]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 font-primea mb-1"},"Confirmer le mot de passe",-1)),y(e("input",{"onUpdate:modelValue":t[10]||(t[10]=p=>D.password_confirmation=p),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-primea focus:ring-2 focus:ring-primea-blue focus:border-primea-blue font-primea",placeholder:"Confirmer le nouveau mot de passe"},null,512),[[k,D.password_confirmation]])]),e("button",{type:"submit",disabled:i.value,class:"bg-primea-blue text-white px-4 py-2 rounded-primea hover:bg-primea-yellow hover:text-primea-blue font-semibold font-primea transition-all duration-200 disabled:opacity-50"},l(i.value?"Mise à jour...":"Changer le mot de passe"),9,Wi)],32)]),e("div",Ki,[t[30]||(t[30]=e("h2",{class:"text-xl font-semibold text-primea-blue font-primea mb-6"},"Statut du Compte",-1)),e("div",Qi,[e("div",Zi,[e("div",Yi,[v($(Ae),{class:"w-5 h-5 text-green-600"}),t[26]||(t[26]=e("span",{class:"text-sm font-medium text-green-800 font-primea"},"Compte vérifié",-1))]),e("span",el,l(q(b.value?.email_verified_at)),1)]),s.value?.verified_at?(u(),d("div",tl,[e("div",sl,[v($(je),{class:"w-5 h-5 text-blue-600"}),t[27]||(t[27]=e("span",{class:"text-sm font-medium text-blue-800 font-primea"},"Organisation certifiée",-1))]),e("span",ol,l(q(s.value.verified_at)),1)])):z("",!0),e("div",rl,[e("div",al,[e("p",nl,l(T.value.events||0),1),t[28]||(t[28]=e("p",{class:"text-sm text-gray-600 font-primea"},"Événements créés",-1))]),e("div",il,[e("p",ll,l(T.value.tickets||0),1),t[29]||(t[29]=e("p",{class:"text-sm text-gray-600 font-primea"},"Billets vendus",-1))])])])])]))])]))}},ul=Z(dl,[["__scopeId","data-v-88f51db0"]]),wl=Object.freeze(Object.defineProperty({__proto__:null,default:ul},Symbol.toStringTag,{value:"Module"}));export{hl as B,vl as E,fl as O,M as a,xl as b,yl as c,_l as d,wl as e,bl as g,gl as t};
