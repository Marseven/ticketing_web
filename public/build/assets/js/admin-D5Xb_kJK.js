import{j as a,o as l,k as e,t as n,G as T,H as V,q as I,P as le,X as de,b as u,Y as q,d as re,Z as te,n as C,p as H,D as i,E as j,F as B,W as ae,_ as Q,Q as ce,$ as ue,N as me,a0 as ge,i as pe,l as N,w as ee,a as W,a1 as be,a2 as ye}from"./vue-vendor-Bz5bDQPC.js";import{_ as Z,C as xe}from"./account-Bc-zxAwJ.js";const ve={name:"AdminDashboard",setup(){const v=u(!1),t=q({total_users:0,total_organizers:0,total_events:0,total_balance:0,orders_today:0,revenue_today:0,tickets_sold:0,failed_payments:0,successful_payments:0,pending_payments:0,payments_in_transit:0,platform_commission:0}),g=u([]),s=u([]),p=u([]),h=u([]),o=re(()=>p.value.length===0?1:Math.max(...p.value.map(x=>x.amount))),r=async()=>{v.value=!0;try{const w=await(await fetch("/api/v1/admin/dashboard",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();w.success&&(Object.assign(t,w.data.stats),g.value=w.data.recent_orders,s.value=w.data.recent_activity,p.value=w.data.revenue_data,h.value=w.data.top_events)}catch(x){console.error("Erreur chargement dashboard admin:",x)}finally{v.value=!1}},k=async()=>{try{const w=await(await fetch("/api/v1/admin/payouts/shap-balance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();if(w.success){const c=w.data.balances.reduce((_,F)=>_+F.amount,0);alert(`Solde SHAP total: ${M(c)} XAF`)}}catch(x){console.error("Erreur vérification solde SHAP:",x)}},O=x=>{this.$router.push(`/admin/orders/${x.id}`)},M=x=>new Intl.NumberFormat("fr-FR").format(x),S=x=>new Date(x).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"}),U=x=>({pending:"En attente",paid:"Payé",cancelled:"Annulé",refunded:"Remboursé"})[x]||x,b=x=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",refunded:"bg-gray-100 text-gray-800"})[x]||"bg-gray-100 text-gray-800",R=x=>({order:"bg-blue-100 text-blue-600",payment:"bg-green-100 text-green-600",payout:"bg-yellow-100 text-yellow-600",user:"bg-purple-100 text-purple-600"})[x]||"bg-gray-100 text-gray-600",d=()=>{Object.assign(t,{total_users:1247,total_organizers:89,total_events:156,orders_today:23,revenue_today:285e4,successful_payments:142,pending_payments:8,failed_payments:3,payments_in_transit:475e4,platform_commission:285e3}),g.value=[{id:1,reference:"PMT-2025-001",customer_name:"Jean Dupont",customer_email:"jean@email.com",total_amount:15e3,status:"paid",created_at:new Date},{id:2,reference:"PMT-2025-002",customer_name:"Marie Martin",customer_email:"marie@email.com",total_amount:25e3,status:"pending",created_at:new Date(Date.now()-3e5)}]};return te(()=>{r(),setTimeout(()=>{t.total_users===0&&d()},2e3)}),{loading:v,stats:t,recentOrders:g,recentActivity:s,revenueData:p,topEvents:h,maxRevenue:o,loadDashboardData:r,checkShapBalance:k,viewOrder:O,formatAmount:M,formatDate:S,getOrderStatusName:U,getOrderStatusClass:b,getActivityIconClass:R}}},he={class:"admin-dashboard p-6"},we={key:0,class:"flex justify-center items-center h-64"},_e={key:1},ke={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Ce={class:"flex items-center"},Me={class:"text-left"},je={class:"text-white opacity-80 text-sm"},Se={class:"flex items-center"},Ae={class:"text-left"},Pe={class:"text-white opacity-80 text-sm"},ze={class:"flex items-center"},Oe={class:"text-left"},Ue={class:"text-gray-200 text-sm"},De={class:"flex items-center"},Te={class:"text-left"},Ve={class:"text-gray-200 text-sm"},Fe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Be={class:"bg-white rounded-lg shadow p-6"},$e={class:"flex items-center"},Ee={class:"p-2 rounded-lg",style:{"background-color":"rgba(39, 45, 99, 0.1)"}},Ie={class:"w-6 h-6",style:{color:"#272d63"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Re={class:"ml-4"},Le={class:"text-2xl font-bold",style:{color:"#272d63"}},Ne={class:"bg-white rounded-lg shadow p-6"},He={class:"flex items-center"},qe={class:"p-2 rounded-lg",style:{"background-color":"rgba(250, 181, 17, 0.1)"}},Ge={class:"w-6 h-6",style:{color:"#fab511"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Xe={class:"ml-4"},Je={class:"text-2xl font-bold",style:{color:"#fab511"}},Ye={class:"bg-white rounded-lg shadow p-6"},We={class:"flex items-center"},Qe={class:"ml-4"},Ze={class:"text-2xl font-bold text-green-600"},Ke={class:"bg-white rounded-lg shadow p-6"},et={class:"flex items-center"},tt={class:"ml-4"},st={class:"text-2xl font-bold text-red-600"},ot={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8"},nt={class:"lg:col-span-2"},at={class:"bg-white rounded-lg shadow p-6"},lt={class:"flex justify-between items-center mb-4"},rt={key:0,class:"text-center text-gray-500 py-8"},it={key:1,class:"overflow-x-auto"},dt={class:"w-full"},ct={class:"divide-y divide-gray-200"},ut={class:"px-4 py-4 text-sm font-medium text-blue-600"},mt=["onClick"],gt={class:"px-4 py-4 text-sm text-gray-900"},pt={class:"px-4 py-4 text-sm font-medium text-gray-900"},xt={class:"px-4 py-4 text-sm"},ft={class:"px-4 py-4 text-sm text-gray-500"},bt={class:"lg:col-span-1 space-y-6"},yt={class:"bg-white rounded-lg shadow p-6"},vt={class:"space-y-3"},ht={class:"flex justify-between items-center"},wt={class:"bg-white rounded-lg shadow p-6"},_t={class:"space-y-3"},kt={class:"flex-1"},Ct={class:"text-sm text-gray-900"},Mt={class:"text-xs text-gray-500"},jt={class:"bg-white rounded-lg shadow p-6"},St={class:"space-y-3"},At={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Pt={class:"bg-white rounded-lg shadow p-6"},zt={key:0,class:"text-center text-gray-500 py-8"},Ot={key:1,class:"space-y-3"},Ut={class:"text-sm text-gray-600"},Dt={class:"flex items-center"},Tt={class:"w-32 bg-gray-200 rounded-full h-2 mr-3"},Vt={class:"text-sm font-medium"},Ft={class:"bg-white rounded-lg shadow p-6"},Bt={key:0,class:"text-center text-gray-500 py-8"},$t={key:1,class:"space-y-4"},Et={class:"flex items-center"},It={class:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center text-sm font-bold mr-3"},Rt={class:"font-medium text-gray-900"},Lt={class:"text-sm text-gray-600"},Nt={class:"text-right"},Ht={class:"font-medium text-gray-900"},qt={class:"text-sm text-gray-600"};function Gt(v,t,g,s,p,h){return l(),a("div",he,[t[45]||(t[45]=e("div",{class:"mb-8"},[e("div",{class:"text-white rounded-lg p-6",style:{background:"linear-gradient(135deg, #272d63 0%, #1a1e47 100%)"}},[e("h2",{class:"text-2xl font-bold mb-2"},"Tableau de Bord Primea"),e("p",{class:"text-white opacity-80"},"Supervision des paiements et transactions de la plateforme")])],-1)),s.loading?(l(),a("div",we,[...t[15]||(t[15]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):(l(),a("div",_e,[e("div",ke,[e("button",{onClick:t[0]||(t[0]=o=>v.$router.push("/admin/payments")),class:"text-white p-6 rounded-lg transition-all transform hover:scale-105",style:{"background-color":"#272d63"},onMouseover:t[1]||(t[1]=o=>{o.currentTarget.style.backgroundColor="#fab511",o.currentTarget.style.color="#272d63"}),onMouseleave:t[2]||(t[2]=o=>{o.currentTarget.style.backgroundColor="#272d63",o.currentTarget.style.color="#ffffff"})},[e("div",Ce,[t[17]||(t[17]=e("svg",{class:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1)),e("div",Me,[t[16]||(t[16]=e("h3",{class:"text-lg font-bold"},"Paiements Transit",-1)),e("p",je,n(s.formatAmount(s.stats.payments_in_transit||0))+" XAF",1)])])],32),e("button",{onClick:t[3]||(t[3]=o=>v.$router.push("/admin/payouts")),class:"text-white p-6 rounded-lg transition-all transform hover:scale-105",style:{"background-color":"#fab511"},onMouseover:t[4]||(t[4]=o=>o.currentTarget.style.backgroundColor="#272d63"),onMouseleave:t[5]||(t[5]=o=>o.currentTarget.style.backgroundColor="#fab511")},[e("div",Se,[t[19]||(t[19]=e("svg",{class:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)),e("div",Ae,[t[18]||(t[18]=e("h3",{class:"text-lg font-bold"},"Revenus Journaliers",-1)),e("p",Pe,n(s.formatAmount(s.stats.revenue_today||0))+" XAF",1)])])],32),e("button",{onClick:t[6]||(t[6]=o=>v.$router.push("/admin/orders")),class:"bg-gray-600 text-white p-6 rounded-lg hover:bg-gray-700 transition-all transform hover:scale-105"},[e("div",ze,[t[21]||(t[21]=e("svg",{class:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),e("div",Oe,[t[20]||(t[20]=e("h3",{class:"text-lg font-bold"},"Commandes",-1)),e("p",Ue,n(s.stats.orders_today||0)+" aujourd'hui",1)])])]),e("button",{onClick:t[7]||(t[7]=o=>v.$router.push("/admin/users")),class:"bg-gray-700 text-white p-6 rounded-lg hover:bg-gray-800 transition-all transform hover:scale-105"},[e("div",De,[t[23]||(t[23]=e("svg",{class:"w-8 h-8 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),e("div",Te,[t[22]||(t[22]=e("h3",{class:"text-lg font-bold"},"Utilisateurs",-1)),e("p",Ve,n(s.stats.total_users||0)+" total",1)])])])]),e("div",Fe,[e("div",Be,[e("div",$e,[e("div",Ee,[(l(),a("svg",Ie,[...t[24]||(t[24]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"},null,-1)])]))]),e("div",Re,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"},"Paiements Réussis",-1)),e("p",Le,n(s.stats.successful_payments||0),1)])])]),e("div",Ne,[e("div",He,[e("div",qe,[(l(),a("svg",Ge,[...t[26]||(t[26]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))]),e("div",Xe,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-600"},"Paiements En Attente",-1)),e("p",Je,n(s.stats.pending_payments||0),1)])])]),e("div",Ye,[e("div",We,[t[29]||(t[29]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Qe,[t[28]||(t[28]=e("p",{class:"text-sm text-gray-600"},"Commission Plateforme",-1)),e("p",Ze,n(s.formatAmount(s.stats.platform_commission||0))+" XAF",1)])])]),e("div",Ke,[e("div",et,[t[31]||(t[31]=e("div",{class:"p-2 bg-red-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4.5c-.77-.833-2.694-.833-3.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",tt,[t[30]||(t[30]=e("p",{class:"text-sm text-gray-600"},"Paiements Échoués",-1)),e("p",st,n(s.stats.failed_payments||0),1)])])])]),e("div",ot,[e("div",nt,[e("div",at,[e("div",lt,[t[32]||(t[32]=e("h2",{class:"text-xl font-bold",style:{color:"#272d63"}},"Paiements Récents",-1)),e("button",{onClick:t[8]||(t[8]=o=>v.$router.push("/admin/payments")),class:"text-sm transition-colors duration-200",style:{color:"#272d63"},onMouseover:t[9]||(t[9]=o=>o.currentTarget.style.color="#fab511"),onMouseleave:t[10]||(t[10]=o=>o.currentTarget.style.color="#272d63")},"Voir tous",32)]),s.recentOrders.length===0?(l(),a("div",rt," Aucune commande récente ")):(l(),a("div",it,[e("table",dt,[t[33]||(t[33]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Commande"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Client"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date")])],-1)),e("tbody",ct,[(l(!0),a(T,null,V(s.recentOrders,o=>(l(),a("tr",{key:o.id},[e("td",ut,[e("button",{onClick:r=>s.viewOrder(o),class:"hover:text-blue-800"}," #"+n(o.reference),9,mt)]),e("td",gt,n(o.customer_name||o.customer_email),1),e("td",pt,n(s.formatAmount(o.total_amount))+" XAF",1),e("td",xt,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getOrderStatusClass(o.status)])},n(s.getOrderStatusName(o.status)),3)]),e("td",ft,n(s.formatDate(o.created_at)),1)]))),128))])])]))])]),e("div",bt,[e("div",yt,[t[36]||(t[36]=e("h2",{class:"text-xl font-bold mb-4"},"État du Système",-1)),e("div",vt,[t[35]||(t[35]=le('<div class="flex justify-between items-center" data-v-8191e77a><span class="text-sm text-gray-600" data-v-8191e77a>Paiements SHAP</span><span class="inline-flex px-2 py-1 text-xs rounded-full bg-green-100 text-green-800" data-v-8191e77a> Opérationnel </span></div><div class="flex justify-between items-center" data-v-8191e77a><span class="text-sm text-gray-600" data-v-8191e77a>Base de données</span><span class="inline-flex px-2 py-1 text-xs rounded-full bg-green-100 text-green-800" data-v-8191e77a> Opérationnel </span></div>',2)),e("div",ht,[t[34]||(t[34]=e("span",{class:"text-sm text-gray-600"},"Solde SHAP",-1)),e("button",{onClick:t[11]||(t[11]=(...o)=>s.checkShapBalance&&s.checkShapBalance(...o)),class:"text-blue-600 hover:text-blue-800 text-xs"}," Vérifier ")])])]),e("div",wt,[t[38]||(t[38]=e("h2",{class:"text-xl font-bold mb-4"},"Activité Récente",-1)),e("div",_t,[(l(!0),a(T,null,V(s.recentActivity,o=>(l(),a("div",{key:o.id,class:"flex items-start"},[e("div",{class:I(["p-1 rounded-full mr-3",s.getActivityIconClass(o.type)])},[...t[37]||(t[37]=[e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("circle",{cx:"10",cy:"10",r:"3"})],-1)])],2),e("div",kt,[e("p",Ct,n(o.description),1),e("p",Mt,n(s.formatDate(o.created_at)),1)])]))),128))])]),e("div",jt,[t[42]||(t[42]=e("h2",{class:"text-xl font-bold mb-4"},"Actions Rapides",-1)),e("div",St,[e("button",{onClick:t[12]||(t[12]=o=>v.$router.push("/admin/users/create")),class:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[...t[39]||(t[39]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-gray-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),e("span",{class:"font-medium"},"Créer Utilisateur")],-1)])]),e("button",{onClick:t[13]||(t[13]=o=>v.$router.push("/admin/organizers/create")),class:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[...t[40]||(t[40]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-gray-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})]),e("span",{class:"font-medium"},"Créer Organisateur")],-1)])]),e("button",{onClick:t[14]||(t[14]=o=>v.$router.push("/admin/events/create")),class:"w-full text-left p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors"},[...t[41]||(t[41]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 text-gray-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),e("span",{class:"font-medium"},"Créer Événement")],-1)])])])])])]),e("div",At,[e("div",Pt,[t[43]||(t[43]=e("h2",{class:"text-xl font-bold mb-4"},"Revenus (7 derniers jours)",-1)),s.revenueData.length===0?(l(),a("div",zt," Aucune donnée disponible ")):(l(),a("div",Ot,[(l(!0),a(T,null,V(s.revenueData,o=>(l(),a("div",{key:o.date,class:"flex justify-between items-center"},[e("span",Ut,n(s.formatDate(o.date)),1),e("div",Dt,[e("div",Tt,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:de(`width: ${o.amount/s.maxRevenue*100}%`)},null,4)]),e("span",Vt,n(s.formatAmount(o.amount))+" XAF",1)])]))),128))]))]),e("div",Ft,[t[44]||(t[44]=e("h2",{class:"text-xl font-bold mb-4"},"Événements Populaires",-1)),s.topEvents.length===0?(l(),a("div",Bt," Aucun événement populaire ")):(l(),a("div",$t,[(l(!0),a(T,null,V(s.topEvents,(o,r)=>(l(),a("div",{key:o.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",Et,[e("div",It,n(r+1),1),e("div",null,[e("h3",Rt,n(o.title),1),e("p",Lt,n(o.organizer_name),1)])]),e("div",Nt,[e("p",Ht,n(o.tickets_sold)+" tickets",1),e("p",qt,n(s.formatAmount(o.revenue))+" XAF",1)])]))),128))]))])])]))])}const Xt=Z(ve,[["render",Gt],["__scopeId","data-v-8191e77a"]]),Hp=Object.freeze(Object.defineProperty({__proto__:null,default:Xt},Symbol.toStringTag,{value:"Module"})),Jt={name:"UserManagement",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u(!1),p=u(null),h=u(null),o=u([]),r=q({search:"",role:"",status:""}),k=q({name:"",email:"",password:"",is_admin:!1,is_organizer:!1,is_active:!0});let O=null;const M=async()=>{v.value=!0;try{const c=new URLSearchParams;r.search&&c.append("search",r.search),r.role&&c.append("role",r.role),r.status&&c.append("status",r.status);const F=await(await fetch(`/api/v1/admin/users?${c}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();F.success&&(o.value=F.data.users.data||F.data.users)}catch(c){console.error("Erreur chargement utilisateurs:",c)}finally{v.value=!1}},S=()=>{clearTimeout(O),O=setTimeout(()=>{M()},500)},U=()=>{p.value=null,Object.assign(k,{name:"",email:"",password:"",is_admin:!1,is_organizer:!1,is_active:!0}),g.value=!0},b=c=>{p.value=c,Object.assign(k,{name:c.name,email:c.email,password:"",is_admin:c.is_admin,is_organizer:c.is_organizer,is_active:!c.deleted_at}),g.value=!0},R=async()=>{t.value=!0;try{const c=p.value?`/api/v1/admin/users/${p.value.id}`:"/api/v1/admin/users",_=p.value?"PUT":"POST",J=await(await fetch(c,{method:_,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(k)})).json();J.success?(alert(p.value?"Utilisateur mis à jour avec succès":"Utilisateur créé avec succès"),g.value=!1,M()):alert(J.message||"Erreur lors de la sauvegarde")}catch(c){console.error("Erreur sauvegarde utilisateur:",c),alert("Erreur technique")}finally{t.value=!1}},d=async c=>{if(confirm(`Êtes-vous sûr de vouloir ${c.deleted_at?"activer":"désactiver"} cet utilisateur ?`))try{const F=await(await fetch(`/api/v1/admin/users/${c.id}/toggle-status`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();F.success?M():alert(F.message||"Erreur lors du changement de statut")}catch(_){console.error("Erreur toggle statut:",_),alert("Erreur technique")}},x=c=>{h.value=c,s.value=!0},w=()=>{Object.assign(r,{search:"",role:"",status:""}),M()},f=c=>new Date(c).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return te(()=>{M()}),{loading:v,saving:t,showModal:g,showDetailsModal:s,editingUser:p,selectedUser:h,users:o,filters:r,userForm:k,loadUsers:M,debouncedSearch:S,openCreateModal:U,editUser:b,saveUser:R,toggleUserStatus:d,viewUserDetails:x,resetFilters:w,formatDate:f}}},Yt={class:"user-management p-6 bg-gray-50 min-h-screen"},Wt={class:"mb-8"},Qt={class:"flex items-center justify-between"},Zt={class:"bg-white rounded-lg shadow p-6 mb-8"},Kt={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},es={class:"flex items-end"},ts={class:"bg-white rounded-lg shadow"},ss={key:0,class:"p-8 text-center"},os={key:1,class:"p-8 text-center text-gray-500"},ns={key:2,class:"overflow-x-auto"},as={class:"w-full"},ls={class:"divide-y divide-gray-200"},rs={class:"px-6 py-4"},is={class:"flex items-center"},ds={class:"w-10 h-10 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold"},cs={class:"ml-4"},us={class:"text-sm font-medium text-gray-900"},ms={class:"text-sm text-gray-500"},gs={class:"px-6 py-4 text-sm text-gray-900"},ps={class:"px-6 py-4 text-sm"},xs={class:"space-y-1"},fs={key:0,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},bs={key:1,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"},ys={key:2,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"},vs={class:"px-6 py-4 text-sm"},hs=["onClick"],ws={class:"px-6 py-4 text-sm text-gray-500"},_s={class:"px-6 py-4 text-sm space-x-2"},ks=["onClick"],Cs=["onClick"],Ms={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},js={class:"bg-white rounded-lg p-6 w-full max-w-md"},Ss={class:"text-lg font-bold mb-4"},As={class:"space-y-4"},Ps={key:0},zs={key:1},Os={class:"space-y-2"},Us={class:"flex items-center"},Ds={class:"flex items-center"},Ts={key:2},Vs={class:"flex items-center"},Fs={class:"flex justify-end space-x-3 mt-6"},Bs=["disabled"],$s={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Es={class:"bg-white rounded-lg p-6 w-full max-w-lg"},Is={class:"flex justify-between items-center mb-4"},Rs={key:0,class:"space-y-4"},Ls={class:"grid grid-cols-2 gap-4"},Ns={class:"text-sm text-gray-900"},Hs={class:"text-sm text-gray-900"},qs={class:"text-sm"},Gs={class:"space-y-1"},Xs={key:0,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},Js={key:1,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"},Ys={key:2,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800"},Ws={class:"text-sm text-gray-900"},Qs={class:"text-sm text-gray-900"},Zs={key:0},Ks={class:"text-sm text-gray-900"};function eo(v,t,g,s,p,h){return l(),a("div",Yt,[e("div",Wt,[e("div",Qt,[t[19]||(t[19]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Utilisateurs"),e("p",{class:"text-gray-600"},"Créer, modifier et gérer tous les utilisateurs de la plateforme")],-1)),e("button",{onClick:t[0]||(t[0]=(...o)=>s.openCreateModal&&s.openCreateModal(...o)),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),H(" Créer Utilisateur ",-1)])])])]),e("div",Zt,[t[25]||(t[25]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",Kt,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.filters.search=o),onInput:t[2]||(t[2]=(...o)=>s.debouncedSearch&&s.debouncedSearch(...o)),type:"text",placeholder:"Nom ou email...",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.search]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rôle",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.role=o),onChange:t[4]||(t[4]=(...o)=>s.loadUsers&&s.loadUsers(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[21]||(t[21]=[e("option",{value:""},"Tous les rôles",-1),e("option",{value:"admin"},"Administrateur",-1),e("option",{value:"organizer"},"Organisateur",-1),e("option",{value:"client"},"Client",-1)])],544),[[B,s.filters.role]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.filters.status=o),onChange:t[6]||(t[6]=(...o)=>s.loadUsers&&s.loadUsers(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[23]||(t[23]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],544),[[B,s.filters.status]])]),e("div",es,[e("button",{onClick:t[7]||(t[7]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser ")])])]),e("div",ts,[t[28]||(t[28]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-xl font-bold"},"Liste des Utilisateurs")],-1)),s.loading?(l(),a("div",ss,[...t[26]||(t[26]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.users.length===0?(l(),a("div",os," Aucun utilisateur trouvé ")):(l(),a("div",ns,[e("table",as,[t[27]||(t[27]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Utilisateur"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Email"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Rôles"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Inscription"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",ls,[(l(!0),a(T,null,V(s.users,o=>(l(),a("tr",{key:o.id},[e("td",rs,[e("div",is,[e("div",ds,n(o.name.charAt(0).toUpperCase()),1),e("div",cs,[e("div",us,n(o.name),1),e("div",ms,"ID: "+n(o.id),1)])])]),e("td",gs,n(o.email),1),e("td",ps,[e("div",xs,[o.is_admin?(l(),a("span",fs," Admin ")):C("",!0),o.is_organizer?(l(),a("span",bs," Organisateur ")):C("",!0),!o.is_admin&&!o.is_organizer?(l(),a("span",ys," Client ")):C("",!0)])]),e("td",vs,[e("button",{onClick:r=>s.toggleUserStatus(o),class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full cursor-pointer",o.deleted_at?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},n(o.deleted_at?"Inactif":"Actif"),11,hs)]),e("td",ws,n(s.formatDate(o.created_at)),1),e("td",_s,[e("button",{onClick:r=>s.editUser(o),class:"text-blue-600 hover:text-blue-900"}," Modifier ",8,ks),e("button",{onClick:r=>s.viewUserDetails(o),class:"text-green-600 hover:text-green-900"}," Détails ",8,Cs)])]))),128))])])]))]),s.showModal?(l(),a("div",Ms,[e("div",js,[e("h3",Ss,n(s.editingUser?"Modifier":"Créer")+" Utilisateur",1),e("form",{onSubmit:t[16]||(t[16]=ae((...o)=>s.saveUser&&s.saveUser(...o),["prevent"]))},[e("div",As,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom complet *",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.userForm.name=o),type:"text",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.userForm.name]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email *",-1)),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>s.userForm.email=o),type:"email",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.userForm.email]])]),s.editingUser?C("",!0):(l(),a("div",Ps,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mot de passe *",-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>s.userForm.password=o),type:"password",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.userForm.password]])])),s.editingUser?(l(),a("div",zs,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nouveau mot de passe",-1)),i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.userForm.password=o),type:"password",placeholder:"Laisser vide pour ne pas changer",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.userForm.password]])])):C("",!0),e("div",Os,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rôles",-1)),e("label",Us,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=o=>s.userForm.is_admin=o),class:"rounded border-gray-300"},null,512),[[Q,s.userForm.is_admin]]),t[33]||(t[33]=e("span",{class:"ml-2 text-sm text-gray-700"},"Administrateur",-1))]),e("label",Ds,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=o=>s.userForm.is_organizer=o),class:"rounded border-gray-300"},null,512),[[Q,s.userForm.is_organizer]]),t[34]||(t[34]=e("span",{class:"ml-2 text-sm text-gray-700"},"Organisateur",-1))])]),s.editingUser?(l(),a("div",Ts,[e("label",Vs,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=o=>s.userForm.is_active=o),class:"rounded border-gray-300"},null,512),[[Q,s.userForm.is_active]]),t[36]||(t[36]=e("span",{class:"ml-2 text-sm text-gray-700"},"Compte actif",-1))])])):C("",!0)]),e("div",Fs,[e("button",{type:"button",onClick:t[15]||(t[15]=o=>s.showModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.saving,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.saving?"Enregistrement...":s.editingUser?"Mettre à jour":"Créer"),9,Bs)])],32)])])):C("",!0),s.showDetailsModal?(l(),a("div",$s,[e("div",Es,[e("div",Is,[t[38]||(t[38]=e("h3",{class:"text-lg font-bold"},"Détails de l'utilisateur",-1)),e("button",{onClick:t[17]||(t[17]=o=>s.showDetailsModal=!1),class:"text-gray-600 hover:text-gray-800"},[...t[37]||(t[37]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s.selectedUser?(l(),a("div",Rs,[e("div",Ls,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Ns,n(s.selectedUser.name),1)]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Hs,n(s.selectedUser.email),1)]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("p",qs,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.selectedUser.deleted_at?"bg-red-100 text-red-800":"bg-green-100 text-green-800"])},n(s.selectedUser.deleted_at?"Inactif":"Actif"),3)])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700"},"Rôles",-1)),e("div",Gs,[s.selectedUser.is_admin?(l(),a("span",Xs," Admin ")):C("",!0),s.selectedUser.is_organizer?(l(),a("span",Js," Organisateur ")):C("",!0),!s.selectedUser.is_admin&&!s.selectedUser.is_organizer?(l(),a("span",Ys," Client ")):C("",!0)])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date d'inscription",-1)),e("p",Ws,n(s.formatDate(s.selectedUser.created_at)),1)]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email vérifié",-1)),e("p",Qs,n(s.selectedUser.email_verified_at?"Oui":"Non"),1)])]),s.selectedUser.is_organizer&&s.selectedUser.organizers_count>0?(l(),a("div",Zs,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700"},"Organisateurs",-1)),e("p",Ks,n(s.selectedUser.organizers_count)+" organisateur(s)",1)])):C("",!0)])):C("",!0)])])):C("",!0)])}const to=Z(Jt,[["render",eo],["__scopeId","data-v-7bf4763f"]]),qp=Object.freeze(Object.defineProperty({__proto__:null,default:to},Symbol.toStringTag,{value:"Module"})),so={name:"OrganizerManagement",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u(!1),p=u(!1),h=u(!1),o=u(null),r=u(null),k=u(null),O=u([]),M=u([]),S=q({search:"",status:"",verified:""}),U=q({name:"",description:"",contact_email:"",contact_phone:"",website_url:"",status:"active",user_ids:[]}),b=q({user_ids:[]});let R=null;const d=async()=>{v.value=!0;try{const m=new URLSearchParams;S.search&&m.append("search",S.search),S.status&&m.append("status",S.status),S.verified&&m.append("verified",S.verified);const oe=await(await fetch(`/api/v1/admin/organizers?${m}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();oe.success&&(O.value=oe.data.organizers.data||oe.data.organizers)}catch(m){console.error("Erreur chargement organisateurs:",m)}finally{v.value=!1}},x=async()=>{try{const D=await(await fetch("/api/v1/admin/users",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();D.success&&(M.value=D.data.users.data||D.data.users||[])}catch(m){console.error("Erreur chargement utilisateurs:",m)}},w=()=>{clearTimeout(R),R=setTimeout(()=>{d()},500)},f=async()=>{o.value=null,Object.assign(U,{name:"",description:"",contact_email:"",contact_phone:"",website_url:"",status:"active",user_ids:[]}),await x(),s.value=!0},c=async m=>{o.value=m,Object.assign(U,{name:m.name,description:m.description||"",contact_email:m.contact_email,contact_phone:m.contact_phone||"",website_url:m.website_url||"",status:m.status,user_ids:m.users?m.users.map(D=>D.id):[]}),await x(),s.value=!0},_=async()=>{t.value=!0;try{const m=o.value?`/api/v1/admin/organizers/${o.value.id}`:"/api/v1/admin/organizers",D=o.value?"PUT":"POST",P=await(await fetch(m,{method:D,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(U)})).json();P.success?(alert(o.value?"Organisateur mis à jour avec succès":"Organisateur créé avec succès"),s.value=!1,d()):alert(P.message||"Erreur lors de la sauvegarde")}catch(m){console.error("Erreur sauvegarde organisateur:",m),alert("Erreur technique")}finally{t.value=!1}},F=m=>{r.value=m,p.value=!0},J=async m=>{k.value=m,b.user_ids=m.users?m.users.map(D=>D.id):[],await x(),h.value=!0},ne=async()=>{g.value=!0;try{const D=await(await fetch(`/api/v1/admin/organizers/${k.value.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(b)})).json();D.success?(alert("Utilisateurs mis à jour avec succès"),h.value=!1,d()):alert(D.message||"Erreur lors de la mise à jour")}catch(m){console.error("Erreur mise à jour utilisateurs:",m),alert("Erreur technique")}finally{g.value=!1}},se=()=>{Object.assign(S,{search:"",status:"",verified:""}),d()},z=m=>new Date(m).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),$=m=>({active:"Actif",inactive:"Inactif",suspended:"Suspendu"})[m]||m,y=m=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",suspended:"bg-red-100 text-red-800"})[m]||"bg-gray-100 text-gray-800";return te(()=>{d()}),{loading:v,saving:t,updatingUsers:g,showModal:s,showDetailsModal:p,showUserModal:h,editingOrganizer:o,selectedOrganizer:r,managingOrganizer:k,organizers:O,availableUsers:M,filters:S,organizerForm:U,userManagementForm:b,loadOrganizers:d,loadAvailableUsers:x,debouncedSearch:w,openCreateModal:f,editOrganizer:c,saveOrganizer:_,viewOrganizerDetails:F,manageUsers:J,updateOrganizerUsers:ne,resetFilters:se,formatDate:z,getStatusName:$,getStatusBadgeClass:y}}},oo={class:"organizer-management p-6 bg-gray-50 min-h-screen"},no={class:"mb-8"},ao={class:"flex items-center justify-between"},lo={class:"bg-white rounded-lg shadow p-6 mb-8"},ro={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},io={class:"flex items-end"},co={class:"bg-white rounded-lg shadow"},uo={key:0,class:"p-8 text-center"},mo={key:1,class:"p-8 text-center text-gray-500"},go={key:2,class:"overflow-x-auto"},po={class:"w-full"},xo={class:"divide-y divide-gray-200"},fo={class:"px-6 py-4"},bo={class:"flex items-center"},yo={class:"w-10 h-10 bg-green-600 text-white rounded-full flex items-center justify-center font-bold"},vo={class:"ml-4"},ho={class:"text-sm font-medium text-gray-900"},wo={class:"text-sm text-gray-500"},_o={class:"px-6 py-4"},ko={class:"text-sm text-gray-900"},Co={class:"text-sm text-gray-500"},Mo={class:"px-6 py-4 text-sm text-gray-900"},jo={class:"flex flex-wrap gap-1"},So={key:0,class:"text-gray-500 text-xs"},Ao={class:"px-6 py-4 text-sm text-gray-900"},Po={class:"px-6 py-4 text-sm"},zo={class:"px-6 py-4 text-sm"},Oo={class:"px-6 py-4 text-sm space-x-2"},Uo=["onClick"],Do=["onClick"],To=["onClick"],Vo={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Fo={class:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto"},Bo={class:"text-lg font-bold mb-4"},$o={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Eo={class:"md:col-span-2"},Io={class:"md:col-span-2"},Ro={class:"md:col-span-2"},Lo={class:"border rounded-lg p-3 max-h-32 overflow-y-auto"},No=["value"],Ho={class:"ml-2 text-sm"},qo={key:0,class:"text-sm text-gray-500"},Go={class:"flex justify-end space-x-3 mt-6"},Xo=["disabled"],Jo={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Yo={class:"bg-white rounded-lg p-6 w-full max-w-2xl"},Wo={class:"flex justify-between items-center mb-4"},Qo={key:0,class:"space-y-4"},Zo={class:"grid grid-cols-2 gap-4"},Ko={class:"text-sm text-gray-900"},en={class:"text-sm text-gray-900"},tn={class:"text-sm text-gray-900"},sn={class:"text-sm text-gray-900"},on={class:"text-sm"},nn={class:"text-sm"},an={class:"text-sm text-gray-900"},ln={class:"text-sm text-gray-900"},rn={key:0},dn={class:"text-sm text-gray-900"},cn={key:1},un=["href"],mn={key:2},gn={class:"flex flex-wrap gap-2"},pn={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},xn={class:"bg-white rounded-lg p-6 w-full max-w-md"},fn={class:"flex justify-between items-center mb-4"},bn={key:0,class:"space-y-4"},yn={class:"font-medium text-gray-900 mb-2"},vn={class:"border rounded-lg p-3 max-h-64 overflow-y-auto"},hn={class:"text-sm font-medium"},wn={class:"text-xs text-gray-500 block"},_n=["value"],kn={class:"flex justify-end space-x-3"},Cn=["disabled"];function Mn(v,t,g,s,p,h){return l(),a("div",oo,[e("div",no,[e("div",ao,[t[23]||(t[23]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Organisateurs"),e("p",{class:"text-gray-600"},"Créer et gérer les organisateurs de la plateforme")],-1)),e("button",{onClick:t[0]||(t[0]=(...o)=>s.openCreateModal&&s.openCreateModal(...o)),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),H(" Créer Organisateur ",-1)])])])]),e("div",lo,[t[29]||(t[29]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",ro,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.filters.search=o),onInput:t[2]||(t[2]=(...o)=>s.debouncedSearch&&s.debouncedSearch(...o)),type:"text",placeholder:"Nom ou email...",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.search]])]),e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.status=o),onChange:t[4]||(t[4]=(...o)=>s.loadOrganizers&&s.loadOrganizers(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[25]||(t[25]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1),e("option",{value:"suspended"},"Suspendu",-1)])],544),[[B,s.filters.status]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Vérification",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.filters.verified=o),onChange:t[6]||(t[6]=(...o)=>s.loadOrganizers&&s.loadOrganizers(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[27]||(t[27]=[e("option",{value:""},"Tous",-1),e("option",{value:"true"},"Vérifié",-1),e("option",{value:"false"},"Non vérifié",-1)])],544),[[B,s.filters.verified]])]),e("div",io,[e("button",{onClick:t[7]||(t[7]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser ")])])]),e("div",co,[t[32]||(t[32]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-xl font-bold"},"Liste des Organisateurs")],-1)),s.loading?(l(),a("div",uo,[...t[30]||(t[30]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.organizers.length===0?(l(),a("div",mo," Aucun organisateur trouvé ")):(l(),a("div",go,[e("table",po,[t[31]||(t[31]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Organisateur"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Contact"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Utilisateurs"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Événements"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Vérification"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",xo,[(l(!0),a(T,null,V(s.organizers,o=>(l(),a("tr",{key:o.id},[e("td",fo,[e("div",bo,[e("div",yo,n(o.name.charAt(0).toUpperCase()),1),e("div",vo,[e("div",ho,n(o.name),1),e("div",wo,n(o.slug),1)])])]),e("td",_o,[e("div",ko,n(o.contact_email),1),e("div",Co,n(o.contact_phone||"-"),1)]),e("td",Mo,[e("div",jo,[(l(!0),a(T,null,V(o.users,r=>(l(),a("span",{key:r.id,class:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},n(r.name),1))),128)),o.users.length===0?(l(),a("span",So," Aucun utilisateur ")):C("",!0)])]),e("td",Ao,n(o.events_count||0),1),e("td",Po,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(o.status)])},n(s.getStatusName(o.status)),3)]),e("td",zo,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.verified_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},n(o.verified_at?"Vérifié":"En attente"),3)]),e("td",Oo,[e("button",{onClick:r=>s.editOrganizer(o),class:"text-blue-600 hover:text-blue-900"}," Modifier ",8,Uo),e("button",{onClick:r=>s.viewOrganizerDetails(o),class:"text-green-600 hover:text-green-900"}," Détails ",8,Do),e("button",{onClick:r=>s.manageUsers(o),class:"text-purple-600 hover:text-purple-900"}," Utilisateurs ",8,To)])]))),128))])])]))]),s.showModal?(l(),a("div",Vo,[e("div",Fo,[e("h3",Bo,n(s.editingOrganizer?"Modifier":"Créer")+" Organisateur",1),e("form",{onSubmit:t[16]||(t[16]=ae((...o)=>s.saveOrganizer&&s.saveOrganizer(...o),["prevent"]))},[e("div",$o,[e("div",Eo,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom de l'organisation *",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.organizerForm.name=o),type:"text",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.organizerForm.name]])]),e("div",Io,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),i(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=o=>s.organizerForm.description=o),rows:"3",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.organizerForm.description]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email de contact *",-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>s.organizerForm.contact_email=o),type:"email",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.organizerForm.contact_email]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.organizerForm.contact_phone=o),type:"tel",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.organizerForm.contact_phone]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Site web",-1)),i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.organizerForm.website_url=o),type:"url",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.organizerForm.website_url]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut *",-1)),i(e("select",{"onUpdate:modelValue":t[13]||(t[13]=o=>s.organizerForm.status=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[...t[38]||(t[38]=[e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1),e("option",{value:"suspended"},"Suspendu",-1)])],512),[[B,s.organizerForm.status]])]),e("div",Ro,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Utilisateurs associés",-1)),e("div",Lo,[(l(!0),a(T,null,V(s.availableUsers,o=>(l(),a("div",{key:o.id,class:"flex items-center mb-2"},[i(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[14]||(t[14]=r=>s.organizerForm.user_ids=r),class:"rounded border-gray-300"},null,8,No),[[Q,s.organizerForm.user_ids]]),e("span",Ho,n(o.name)+" ("+n(o.email)+")",1)]))),128)),s.availableUsers.length===0?(l(),a("div",qo," Aucun utilisateur disponible ")):C("",!0)])])]),e("div",Go,[e("button",{type:"button",onClick:t[15]||(t[15]=o=>s.showModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.saving,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.saving?"Enregistrement...":s.editingOrganizer?"Mettre à jour":"Créer"),9,Xo)])],32)])])):C("",!0),s.showDetailsModal?(l(),a("div",Jo,[e("div",Yo,[e("div",Wo,[t[42]||(t[42]=e("h3",{class:"text-lg font-bold"},"Détails de l'organisateur",-1)),e("button",{onClick:t[17]||(t[17]=o=>s.showDetailsModal=!1),class:"text-gray-600 hover:text-gray-800"},[...t[41]||(t[41]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s.selectedOrganizer?(l(),a("div",Qo,[e("div",Zo,[e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Ko,n(s.selectedOrganizer.name),1)]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700"},"Slug",-1)),e("p",en,n(s.selectedOrganizer.slug),1)]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",tn,n(s.selectedOrganizer.contact_email),1)]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700"},"Téléphone",-1)),e("p",sn,n(s.selectedOrganizer.contact_phone||"-"),1)]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("p",on,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(s.selectedOrganizer.status)])},n(s.getStatusName(s.selectedOrganizer.status)),3)])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700"},"Vérification",-1)),e("p",nn,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.selectedOrganizer.verified_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},n(s.selectedOrganizer.verified_at?"Vérifié":"En attente"),3)])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date de création",-1)),e("p",an,n(s.formatDate(s.selectedOrganizer.created_at)),1)]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700"},"Événements",-1)),e("p",ln,n(s.selectedOrganizer.events_count||0)+" événement(s)",1)])]),s.selectedOrganizer.description?(l(),a("div",rn,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),e("p",dn,n(s.selectedOrganizer.description),1)])):C("",!0),s.selectedOrganizer.website_url?(l(),a("div",cn,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700"},"Site web",-1)),e("a",{href:s.selectedOrganizer.website_url,target:"_blank",class:"text-sm text-blue-600 hover:text-blue-800"},n(s.selectedOrganizer.website_url),9,un)])):C("",!0),s.selectedOrganizer.users&&s.selectedOrganizer.users.length>0?(l(),a("div",mn,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700"},"Utilisateurs associés",-1)),e("div",gn,[(l(!0),a(T,null,V(s.selectedOrganizer.users,o=>(l(),a("span",{key:o.id,class:"inline-flex px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded-full"},n(o.name),1))),128))])])):C("",!0)])):C("",!0)])])):C("",!0),s.showUserModal?(l(),a("div",pn,[e("div",xn,[e("div",fn,[t[55]||(t[55]=e("h3",{class:"text-lg font-bold"},"Gérer les utilisateurs",-1)),e("button",{onClick:t[18]||(t[18]=o=>s.showUserModal=!1),class:"text-gray-600 hover:text-gray-800"},[...t[54]||(t[54]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s.managingOrganizer?(l(),a("div",bn,[e("div",null,[e("h4",yn,n(s.managingOrganizer.name),1),t[56]||(t[56]=e("p",{class:"text-sm text-gray-600 mb-4"},"Sélectionnez les utilisateurs à associer à cet organisateur",-1))]),e("div",vn,[(l(!0),a(T,null,V(s.availableUsers,o=>(l(),a("div",{key:o.id,class:"flex items-center justify-between py-2"},[e("div",null,[e("span",hn,n(o.name),1),e("span",wn,n(o.email),1)]),i(e("input",{type:"checkbox",value:o.id,"onUpdate:modelValue":t[19]||(t[19]=r=>s.userManagementForm.user_ids=r),class:"rounded border-gray-300"},null,8,_n),[[Q,s.userManagementForm.user_ids]])]))),128))]),e("div",kn,[e("button",{onClick:t[20]||(t[20]=o=>s.showUserModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{onClick:t[21]||(t[21]=(...o)=>s.updateOrganizerUsers&&s.updateOrganizerUsers(...o)),disabled:s.updatingUsers,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.updatingUsers?"Mise à jour...":"Mettre à jour"),9,Cn)])])):C("",!0)])])):C("",!0)])}const jn=Z(so,[["render",Mn],["__scopeId","data-v-5e090290"]]),Gp=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"})),Sn={name:"EventManagement",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u(!1),p=u(null),h=u(null),o=u([]),r=u([]),k=u([]),O=u([]),M=u(null),S=q({total_events:0,published_events:0,draft_events:0,total_tickets_sold:0}),U=q({search:"",status:"",organizer_id:"",category_id:"",page:1}),b=q({title:"",description:"",organizer_id:"",category_id:"",venue_id:"",status:"draft",schedules:[],ticket_types:[]});let R=null;const d=async()=>{v.value=!0;try{const A=new URLSearchParams;Object.keys(U).forEach(Y=>{U[Y]&&U[Y]!==""&&A.append(Y,U[Y])});const X=await(await fetch(`/api/v1/admin/events?${A}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();if(X.success){o.value=X.data.events.data,M.value={current_page:X.data.events.current_page,last_page:X.data.events.last_page,from:X.data.events.from,to:X.data.events.to,total:X.data.events.total};const Y=X.data.events.data;S.total_events=M.value.total,S.published_events=Y.filter(ie=>ie.status==="published").length,S.draft_events=Y.filter(ie=>ie.status==="draft").length,S.total_tickets_sold=Y.reduce((ie,fe)=>ie+(fe.tickets_sold||0),0)}}catch(A){console.error("Erreur chargement événements:",A)}finally{v.value=!1}},x=async()=>{try{const G=await(await fetch("/api/v1/admin/organizers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();G.success&&(r.value=G.data.organizers.data||G.data.organizers)}catch(A){console.error("Erreur chargement organisateurs:",A)}},w=async()=>{try{const G=await(await fetch("/api/v1/categories",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();G.success&&(k.value=G.data)}catch(A){console.error("Erreur chargement catégories:",A)}},f=async()=>{try{const G=await(await fetch("/api/v1/venues",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();G.success&&(O.value=G.data)}catch(A){console.error("Erreur chargement lieux:",A)}},c=()=>{clearTimeout(R),R=setTimeout(()=>{U.page=1,d()},500)},_=A=>{A>=1&&A<=M.value.last_page&&(U.page=A,d())},F=()=>{Object.assign(U,{search:"",status:"",organizer_id:"",category_id:"",page:1}),d()},J=()=>{p.value=null,Object.assign(b,{title:"",description:"",organizer_id:"",category_id:"",venue_id:"",status:"draft",schedules:[{starts_at:"",ends_at:""}],ticket_types:[{name:"",price:0,capacity:0,description:""}]}),g.value=!0},ne=async A=>{try{const X=await(await fetch(`/api/v1/admin/events/${A.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();X.success&&(p.value=X.data.event,Object.assign(b,{title:X.data.event.title,description:X.data.event.description,organizer_id:X.data.event.organizer_id,category_id:X.data.event.category_id,venue_id:X.data.event.venue_id,status:X.data.event.status,schedules:X.data.event.schedules?.map(Y=>({starts_at:Y.starts_at?Y.starts_at.slice(0,16):"",ends_at:Y.ends_at?Y.ends_at.slice(0,16):""}))||[{starts_at:"",ends_at:""}],ticket_types:X.data.event.ticketTypes?.map(Y=>({name:Y.name,price:Y.price,capacity:Y.capacity,description:Y.description||""}))||[{name:"",price:0,capacity:0,description:""}]}),g.value=!0)}catch(G){console.error("Erreur chargement événement:",G)}},se=async()=>{t.value=!0;try{const A=p.value?`/api/v1/admin/events/${p.value.id}`:"/api/v1/admin/events",G=p.value?"PUT":"POST",Y=await(await fetch(A,{method:G,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(b)})).json();Y.success?(alert(p.value?"Événement mis à jour avec succès":"Événement créé avec succès"),g.value=!1,d()):alert(Y.message||"Erreur lors de la sauvegarde")}catch(A){console.error("Erreur sauvegarde événement:",A),alert("Erreur technique")}finally{t.value=!1}},z=async A=>{try{const X=await(await fetch(`/api/v1/admin/events/${A.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();X.success&&(h.value=X.data.event,s.value=!0)}catch(G){console.error("Erreur chargement détails événement:",G)}},$=A=>{p.value=null,Object.assign(b,{title:`${A.title} (Copie)`,description:A.description,organizer_id:A.organizer_id,category_id:A.category_id,venue_id:A.venue_id,status:"draft",schedules:[{starts_at:"",ends_at:""}],ticket_types:A.ticketTypes?.map(G=>({name:G.name,price:G.price,capacity:G.capacity,description:G.description||""}))||[{name:"",price:0,capacity:0,description:""}]}),g.value=!0},y=()=>{b.schedules.push({starts_at:"",ends_at:""})},m=A=>{b.schedules.splice(A,1)},D=()=>{b.ticket_types.push({name:"",price:0,capacity:0,description:""})},oe=A=>{b.ticket_types.splice(A,1)},P=A=>new Intl.NumberFormat("fr-FR").format(A),L=A=>new Date(A).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),E=A=>({draft:"Brouillon",published:"Publié",cancelled:"Annulé"})[A]||A,K=A=>({draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[A]||"bg-gray-100 text-gray-800";return te(()=>{d(),x(),w(),f()}),{loading:v,saving:t,showModal:g,showDetailsModal:s,editingEvent:p,selectedEvent:h,events:o,organizers:r,categories:k,venues:O,pagination:M,stats:S,filters:U,eventForm:b,loadEvents:d,loadOrganizers:x,loadCategories:w,loadVenues:f,debouncedSearch:c,changePage:_,resetFilters:F,openCreateModal:J,editEvent:ne,saveEvent:se,viewEventDetails:z,duplicateEvent:$,addSchedule:y,removeSchedule:m,addTicketType:D,removeTicketType:oe,formatAmount:P,formatDateTime:L,getStatusName:E,getStatusBadgeClass:K}}},An={class:"event-management p-6 bg-gray-50 min-h-screen"},Pn={class:"mb-8"},zn={class:"flex items-center justify-between"},On={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Un={class:"bg-white rounded-lg shadow p-6"},Dn={class:"flex items-center"},Tn={class:"ml-4"},Vn={class:"text-2xl font-bold text-blue-600"},Fn={class:"bg-white rounded-lg shadow p-6"},Bn={class:"flex items-center"},$n={class:"ml-4"},En={class:"text-2xl font-bold text-green-600"},In={class:"bg-white rounded-lg shadow p-6"},Rn={class:"flex items-center"},Ln={class:"ml-4"},Nn={class:"text-2xl font-bold text-yellow-600"},Hn={class:"bg-white rounded-lg shadow p-6"},qn={class:"flex items-center"},Gn={class:"ml-4"},Xn={class:"text-2xl font-bold text-purple-600"},Jn={class:"bg-white rounded-lg shadow p-6 mb-8"},Yn={class:"grid grid-cols-1 md:grid-cols-5 gap-4"},Wn=["value"],Qn=["value"],Zn={class:"flex items-end"},Kn={class:"bg-white rounded-lg shadow"},ea={key:0,class:"p-8 text-center"},ta={key:1,class:"p-8 text-center text-gray-500"},sa={key:2,class:"overflow-x-auto"},oa={class:"w-full"},na={class:"divide-y divide-gray-200"},aa={class:"px-6 py-4"},la={class:"flex items-center"},ra={class:"w-12 h-12 bg-blue-600 text-white rounded-lg flex items-center justify-center font-bold text-lg"},ia={class:"ml-4"},da={class:"text-sm font-medium text-gray-900"},ca={class:"text-sm text-gray-500"},ua={class:"px-6 py-4 text-sm text-gray-900"},ma={class:"px-6 py-4 text-sm text-gray-900"},ga={class:"px-6 py-4 text-sm text-gray-900"},pa={class:"px-6 py-4 text-sm text-gray-900"},xa={class:"space-y-1"},fa={class:"text-gray-500"},ba={class:"px-6 py-4 text-sm"},ya={class:"px-6 py-4 text-sm space-x-2"},va=["onClick"],ha=["onClick"],wa=["onClick"],_a={key:3,class:"p-6 border-t"},ka={class:"flex justify-between items-center"},Ca={class:"text-sm text-gray-700"},Ma={class:"flex space-x-2"},ja=["disabled"],Sa={class:"px-3 py-1 text-sm text-gray-600"},Aa=["disabled"],Pa={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},za={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto"},Oa={class:"text-lg font-bold mb-4"},Ua={class:"space-y-6"},Da={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ta={class:"md:col-span-2"},Va={class:"md:col-span-2"},Fa=["value"],Ba=["value"],$a=["value"],Ea={class:"space-y-3"},Ia=["onUpdate:modelValue"],Ra=["onUpdate:modelValue"],La={class:"flex items-end"},Na=["onClick"],Ha={class:"space-y-3"},qa=["onUpdate:modelValue"],Ga=["onUpdate:modelValue"],Xa=["onUpdate:modelValue"],Ja=["onUpdate:modelValue"],Ya={class:"flex items-end"},Wa=["onClick"],Qa={class:"flex justify-end space-x-3 mt-6"},Za=["disabled"],Ka={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},el={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto"},tl={class:"flex justify-between items-center mb-4"},sl={key:0,class:"space-y-6"},ol={class:"grid grid-cols-2 gap-6"},nl={class:"text-sm font-medium text-gray-900"},al={class:"text-sm text-gray-900"},ll={class:"text-sm text-gray-900"},rl={class:"text-sm text-gray-900"},il={class:"text-sm text-gray-900"},dl={class:"text-sm text-gray-900"},cl={key:0},ul={class:"space-y-2"},ml={class:"text-sm"},gl={key:1},pl={class:"overflow-x-auto"},xl={class:"w-full text-sm"},fl={class:"divide-y divide-gray-200"},bl={class:"px-4 py-2 font-medium"},yl={class:"px-4 py-2"},vl={class:"px-4 py-2"},hl={class:"px-4 py-2"},wl={class:"px-4 py-2"};function _l(v,t,g,s,p,h){return l(),a("div",An,[e("div",Pn,[e("div",zn,[t[24]||(t[24]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Événements"),e("p",{class:"text-gray-600"},"Créer et gérer tous les événements de la plateforme")],-1)),e("button",{onClick:t[0]||(t[0]=(...o)=>s.openCreateModal&&s.openCreateModal(...o)),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...t[23]||(t[23]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),H(" Créer Événement ",-1)])])])]),e("div",On,[e("div",Un,[e("div",Dn,[t[26]||(t[26]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Tn,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"},"Total Événements",-1)),e("p",Vn,n(s.stats.total_events||0),1)])])]),e("div",Fn,[e("div",Bn,[t[28]||(t[28]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",$n,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-600"},"Publiés",-1)),e("p",En,n(s.stats.published_events||0),1)])])]),e("div",In,[e("div",Rn,[t[30]||(t[30]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})])],-1)),e("div",Ln,[t[29]||(t[29]=e("p",{class:"text-sm text-gray-600"},"Brouillons",-1)),e("p",Nn,n(s.stats.draft_events||0),1)])])]),e("div",Hn,[e("div",qn,[t[32]||(t[32]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})])],-1)),e("div",Gn,[t[31]||(t[31]=e("p",{class:"text-sm text-gray-600"},"Tickets Vendus",-1)),e("p",Xn,n(s.stats.total_tickets_sold||0),1)])])])]),e("div",Jn,[t[40]||(t[40]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",Yn,[e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.filters.search=o),onInput:t[2]||(t[2]=(...o)=>s.debouncedSearch&&s.debouncedSearch(...o)),type:"text",placeholder:"Titre ou description...",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.search]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.status=o),onChange:t[4]||(t[4]=(...o)=>s.loadEvents&&s.loadEvents(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[34]||(t[34]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1),e("option",{value:"cancelled"},"Annulé",-1)])],544),[[B,s.filters.status]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Organisateur",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.filters.organizer_id=o),onChange:t[6]||(t[6]=(...o)=>s.loadEvents&&s.loadEvents(...o)),class:"w-full border rounded-lg px-3 py-2"},[t[36]||(t[36]=e("option",{value:""},"Tous les organisateurs",-1)),(l(!0),a(T,null,V(s.organizers,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,Wn))),128))],544),[[B,s.filters.organizer_id]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie",-1)),i(e("select",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.filters.category_id=o),onChange:t[8]||(t[8]=(...o)=>s.loadEvents&&s.loadEvents(...o)),class:"w-full border rounded-lg px-3 py-2"},[t[38]||(t[38]=e("option",{value:""},"Toutes les catégories",-1)),(l(!0),a(T,null,V(s.categories,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,Qn))),128))],544),[[B,s.filters.category_id]])]),e("div",Zn,[e("button",{onClick:t[9]||(t[9]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser ")])])]),e("div",Kn,[t[43]||(t[43]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-xl font-bold"},"Liste des Événements")],-1)),s.loading?(l(),a("div",ea,[...t[41]||(t[41]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.events.length===0?(l(),a("div",ta," Aucun événement trouvé ")):(l(),a("div",sa,[e("table",oa,[t[42]||(t[42]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Organisateur"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Catégorie"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tickets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",na,[(l(!0),a(T,null,V(s.events,o=>(l(),a("tr",{key:o.id},[e("td",aa,[e("div",la,[e("div",ra,n(o.title.charAt(0).toUpperCase()),1),e("div",ia,[e("div",da,n(o.title),1),e("div",ca,n(o.slug),1)])])]),e("td",ua,n(o.organizer?.name||"-"),1),e("td",ma,n(o.category?.name||"-"),1),e("td",ga,n(o.schedules?.[0]?s.formatDateTime(o.schedules[0].starts_at):"Non programmé"),1),e("td",pa,[e("div",xa,[e("div",null,"Vendus: "+n(o.tickets_sold||0),1),e("div",fa,"Total: "+n(o.total_capacity||0),1)])]),e("td",ba,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(o.status)])},n(s.getStatusName(o.status)),3)]),e("td",ya,[e("button",{onClick:r=>s.editEvent(o),class:"text-blue-600 hover:text-blue-900"}," Modifier ",8,va),e("button",{onClick:r=>s.viewEventDetails(o),class:"text-green-600 hover:text-green-900"}," Détails ",8,ha),e("button",{onClick:r=>s.duplicateEvent(o),class:"text-purple-600 hover:text-purple-900"}," Dupliquer ",8,wa)])]))),128))])])])),s.pagination&&s.pagination.last_page>1?(l(),a("div",_a,[e("div",ka,[e("div",Ca," Affichage "+n(s.pagination.from)+" à "+n(s.pagination.to)+" sur "+n(s.pagination.total)+" événements ",1),e("div",Ma,[e("button",{onClick:t[10]||(t[10]=o=>s.changePage(s.pagination.current_page-1)),disabled:s.pagination.current_page<=1,class:"px-3 py-1 border rounded disabled:opacity-50"}," Précédent ",8,ja),e("span",Sa," Page "+n(s.pagination.current_page)+" sur "+n(s.pagination.last_page),1),e("button",{onClick:t[11]||(t[11]=o=>s.changePage(s.pagination.current_page+1)),disabled:s.pagination.current_page>=s.pagination.last_page,class:"px-3 py-1 border rounded disabled:opacity-50"}," Suivant ",8,Aa)])])])):C("",!0)]),s.showModal?(l(),a("div",Pa,[e("div",za,[e("h3",Oa,n(s.editingEvent?"Modifier":"Créer")+" Événement",1),e("form",{onSubmit:t[21]||(t[21]=ae((...o)=>s.saveEvent&&s.saveEvent(...o),["prevent"]))},[e("div",Ua,[e("div",Da,[e("div",Ta,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Titre *",-1)),i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.eventForm.title=o),type:"text",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.eventForm.title]])]),e("div",Va,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description *",-1)),i(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=o=>s.eventForm.description=o),rows:"4",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.eventForm.description]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Organisateur *",-1)),i(e("select",{"onUpdate:modelValue":t[14]||(t[14]=o=>s.eventForm.organizer_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[46]||(t[46]=e("option",{value:""},"Sélectionner un organisateur",-1)),(l(!0),a(T,null,V(s.organizers,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,Fa))),128))],512),[[B,s.eventForm.organizer_id]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Catégorie *",-1)),i(e("select",{"onUpdate:modelValue":t[15]||(t[15]=o=>s.eventForm.category_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[48]||(t[48]=e("option",{value:""},"Sélectionner une catégorie",-1)),(l(!0),a(T,null,V(s.categories,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,Ba))),128))],512),[[B,s.eventForm.category_id]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Lieu *",-1)),i(e("select",{"onUpdate:modelValue":t[16]||(t[16]=o=>s.eventForm.venue_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[50]||(t[50]=e("option",{value:""},"Sélectionner un lieu",-1)),(l(!0),a(T,null,V(s.venues,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name)+" - "+n(o.city),9,$a))),128))],512),[[B,s.eventForm.venue_id]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut *",-1)),i(e("select",{"onUpdate:modelValue":t[17]||(t[17]=o=>s.eventForm.status=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[...t[52]||(t[52]=[e("option",{value:"draft"},"Brouillon",-1),e("option",{value:"published"},"Publié",-1),e("option",{value:"cancelled"},"Annulé",-1)])],512),[[B,s.eventForm.status]])])]),e("div",null,[t[56]||(t[56]=e("h4",{class:"text-md font-bold mb-3"},"Programmation",-1)),e("div",Ea,[(l(!0),a(T,null,V(s.eventForm.schedules,(o,r)=>(l(),a("div",{key:r,class:"grid grid-cols-1 md:grid-cols-3 gap-3 p-3 border rounded-lg"},[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date et heure de début",-1)),i(e("input",{"onUpdate:modelValue":k=>o.starts_at=k,type:"datetime-local",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Ia),[[j,o.starts_at]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Date et heure de fin",-1)),i(e("input",{"onUpdate:modelValue":k=>o.ends_at=k,type:"datetime-local",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Ra),[[j,o.ends_at]])]),e("div",La,[e("button",{type:"button",onClick:k=>s.removeSchedule(r),class:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700"}," Supprimer ",8,Na)])]))),128)),e("button",{type:"button",onClick:t[18]||(t[18]=(...o)=>s.addSchedule&&s.addSchedule(...o)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"}," Ajouter une séance ")])]),e("div",null,[t[61]||(t[61]=e("h4",{class:"text-md font-bold mb-3"},"Types de Billets",-1)),e("div",Ha,[(l(!0),a(T,null,V(s.eventForm.ticket_types,(o,r)=>(l(),a("div",{key:r,class:"grid grid-cols-1 md:grid-cols-5 gap-3 p-3 border rounded-lg"},[e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Nom",-1)),i(e("input",{"onUpdate:modelValue":k=>o.name=k,type:"text",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,qa),[[j,o.name]])]),e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Prix (XAF)",-1)),i(e("input",{"onUpdate:modelValue":k=>o.price=k,type:"number",min:"0",step:"0.01",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Ga),[[j,o.price,void 0,{number:!0}]])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Capacité",-1)),i(e("input",{"onUpdate:modelValue":k=>o.capacity=k,type:"number",min:"1",required:"",class:"w-full border rounded-lg px-3 py-2"},null,8,Xa),[[j,o.capacity,void 0,{number:!0}]])]),e("div",null,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Description",-1)),i(e("input",{"onUpdate:modelValue":k=>o.description=k,type:"text",class:"w-full border rounded-lg px-3 py-2"},null,8,Ja),[[j,o.description]])]),e("div",Ya,[e("button",{type:"button",onClick:k=>s.removeTicketType(r),class:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700"}," Supprimer ",8,Wa)])]))),128)),e("button",{type:"button",onClick:t[19]||(t[19]=(...o)=>s.addTicketType&&s.addTicketType(...o)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"}," Ajouter un type de billet ")])])]),e("div",Qa,[e("button",{type:"button",onClick:t[20]||(t[20]=o=>s.showModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.saving,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.saving?"Enregistrement...":s.editingEvent?"Mettre à jour":"Créer"),9,Za)])],32)])])):C("",!0),s.showDetailsModal?(l(),a("div",Ka,[e("div",el,[e("div",tl,[t[63]||(t[63]=e("h3",{class:"text-lg font-bold"},"Détails de l'événement",-1)),e("button",{onClick:t[22]||(t[22]=o=>s.showDetailsModal=!1),class:"text-gray-600 hover:text-gray-800"},[...t[62]||(t[62]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s.selectedEvent?(l(),a("div",sl,[e("div",ol,[e("div",null,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700"},"Titre",-1)),e("p",nl,n(s.selectedEvent.title),1)]),e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(s.selectedEvent.status)])},n(s.getStatusName(s.selectedEvent.status)),3)]),e("div",null,[t[66]||(t[66]=e("label",{class:"block text-sm font-medium text-gray-700"},"Organisateur",-1)),e("p",al,n(s.selectedEvent.organizer?.name||"-"),1)]),e("div",null,[t[67]||(t[67]=e("label",{class:"block text-sm font-medium text-gray-700"},"Catégorie",-1)),e("p",ll,n(s.selectedEvent.category?.name||"-"),1)]),e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-700"},"Lieu",-1)),e("p",rl,n(s.selectedEvent.venue?.name||"-"),1)]),e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date de création",-1)),e("p",il,n(s.formatDateTime(s.selectedEvent.created_at)),1)])]),e("div",null,[t[70]||(t[70]=e("label",{class:"block text-sm font-medium text-gray-700"},"Description",-1)),e("p",dl,n(s.selectedEvent.description),1)]),s.selectedEvent.schedules&&s.selectedEvent.schedules.length>0?(l(),a("div",cl,[t[71]||(t[71]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Programmation",-1)),e("div",ul,[(l(!0),a(T,null,V(s.selectedEvent.schedules,o=>(l(),a("div",{key:o.id,class:"bg-gray-50 p-3 rounded-lg"},[e("p",ml,"Du "+n(s.formatDateTime(o.starts_at))+" au "+n(s.formatDateTime(o.ends_at)),1)]))),128))])])):C("",!0),s.selectedEvent.ticketTypes&&s.selectedEvent.ticketTypes.length>0?(l(),a("div",gl,[t[73]||(t[73]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Types de billets",-1)),e("div",pl,[e("table",xl,[t[72]||(t[72]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"Nom"),e("th",{class:"px-4 py-2 text-left"},"Prix"),e("th",{class:"px-4 py-2 text-left"},"Capacité"),e("th",{class:"px-4 py-2 text-left"},"Vendus"),e("th",{class:"px-4 py-2 text-left"},"Description")])],-1)),e("tbody",fl,[(l(!0),a(T,null,V(s.selectedEvent.ticketTypes,o=>(l(),a("tr",{key:o.id},[e("td",bl,n(o.name),1),e("td",yl,n(s.formatAmount(o.price))+" XAF",1),e("td",vl,n(o.capacity),1),e("td",hl,n(o.sold||0),1),e("td",wl,n(o.description||"-"),1)]))),128))])])])])):C("",!0)])):C("",!0)])])):C("",!0)])}const kl=Z(Sn,[["render",_l],["__scopeId","data-v-f6213ad5"]]),Xp=Object.freeze(Object.defineProperty({__proto__:null,default:kl},Symbol.toStringTag,{value:"Module"})),Cl={name:"OrderManagement",setup(){const v=u(!1),t=u(!1),g=u(null),s=u([]),p=u([]),h=u([]),o=u(null),r=q({total_orders:0,confirmed_orders:0,pending_orders:0,total_revenue:0}),k=q({search:"",status:"",organizer_id:"",event_id:"",date_from:"",date_to:"",page:1});let O=null;const M=async()=>{v.value=!0;try{const z=new URLSearchParams;Object.keys(k).forEach(m=>{k[m]&&k[m]!==""&&z.append(m,k[m])});const y=await(await fetch(`/api/v1/admin/orders?${z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();if(y.success){s.value=y.data.orders.data,o.value={current_page:y.data.orders.current_page,last_page:y.data.orders.last_page,from:y.data.orders.from,to:y.data.orders.to,total:y.data.orders.total};const m=y.data.orders.data;r.total_orders=o.value.total,r.confirmed_orders=m.filter(D=>D.status==="confirmed").length,r.pending_orders=m.filter(D=>D.status==="pending").length,r.total_revenue=m.filter(D=>D.status==="confirmed").reduce((D,oe)=>D+oe.total_amount,0)}}catch(z){console.error("Erreur chargement commandes:",z)}finally{v.value=!1}},S=async()=>{try{const $=await(await fetch("/api/v1/admin/organizers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();$.success&&(p.value=$.data.organizers.data||$.data.organizers)}catch(z){console.error("Erreur chargement organisateurs:",z)}},U=async()=>{try{const $=await(await fetch("/api/v1/admin/events",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();$.success&&(h.value=$.data.events.data||$.data.events)}catch(z){console.error("Erreur chargement événements:",z)}},b=()=>{clearTimeout(O),O=setTimeout(()=>{k.page=1,M()},500)},R=z=>{z>=1&&z<=o.value.last_page&&(k.page=z,M())},d=()=>{Object.assign(k,{search:"",status:"",organizer_id:"",event_id:"",date_from:"",date_to:"",page:1}),M()},x=async z=>{try{const y=await(await fetch(`/api/v1/admin/orders/${z.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();y.success&&(g.value=y.data.order,t.value=!0)}catch($){console.error("Erreur chargement détails commande:",$)}},w=async(z,$)=>{if(confirm(`Êtes-vous sûr de vouloir ${$==="confirmed"?"confirmer":"annuler"} cette commande ?`))try{const m=await(await fetch(`/api/v1/admin/orders/${z.id}/status`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({status:$})})).json();m.success?(alert(`Commande ${$==="confirmed"?"confirmée":"annulée"} avec succès`),M(),t.value&&(g.value.status=$)):alert(m.message||"Erreur lors de la mise à jour")}catch(y){console.error("Erreur mise à jour statut commande:",y),alert("Erreur technique")}},f=async()=>{try{const z=new URLSearchParams;Object.keys(k).forEach(y=>{k[y]&&k[y]!==""&&y!=="page"&&z.append(y,k[y])});const $=await fetch(`/api/v1/admin/orders/export?${z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}});if($.ok){const y=await $.blob(),m=window.URL.createObjectURL(y),D=document.createElement("a");D.href=m,D.download=`commandes-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(D),D.click(),window.URL.revokeObjectURL(m),document.body.removeChild(D)}}catch(z){console.error("Erreur export:",z),alert("Erreur lors de l'export des données")}},c=z=>new Intl.NumberFormat("fr-FR").format(z),_=z=>new Date(z).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),F=z=>({pending:"En attente",confirmed:"Confirmée",cancelled:"Annulée",refunded:"Remboursée"})[z]||z,J=z=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",refunded:"bg-purple-100 text-purple-800"})[z]||"bg-gray-100 text-gray-800",ne=z=>({issued:"Émis",used:"Utilisé",cancelled:"Annulé"})[z]||z,se=z=>({issued:"bg-blue-100 text-blue-800",used:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[z]||"bg-gray-100 text-gray-800";return te(()=>{M(),S(),U()}),{loading:v,showDetailsModal:t,selectedOrder:g,orders:s,organizers:p,events:h,pagination:o,stats:r,filters:k,loadOrders:M,loadOrganizers:S,loadEvents:U,debouncedSearch:b,changePage:R,resetFilters:d,viewOrderDetails:x,updateOrderStatus:w,exportOrders:f,formatAmount:c,formatDateTime:_,getStatusName:F,getStatusBadgeClass:J,getTicketStatusName:ne,getTicketStatusClass:se}}},Ml={class:"order-management p-6 bg-gray-50 min-h-screen"},jl={class:"mb-8"},Sl={class:"flex items-center justify-between"},Al={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Pl={class:"bg-white rounded-lg shadow p-6"},zl={class:"flex items-center"},Ol={class:"ml-4"},Ul={class:"text-2xl font-bold text-blue-600"},Dl={class:"bg-white rounded-lg shadow p-6"},Tl={class:"flex items-center"},Vl={class:"ml-4"},Fl={class:"text-2xl font-bold text-green-600"},Bl={class:"bg-white rounded-lg shadow p-6"},$l={class:"flex items-center"},El={class:"ml-4"},Il={class:"text-2xl font-bold text-yellow-600"},Rl={class:"bg-white rounded-lg shadow p-6"},Ll={class:"flex items-center"},Nl={class:"ml-4"},Hl={class:"text-2xl font-bold text-purple-600"},ql={class:"bg-white rounded-lg shadow p-6 mb-8"},Gl={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},Xl=["value"],Jl=["value"],Yl={class:"flex justify-between items-center mt-4"},Wl={class:"text-sm text-gray-600"},Ql={class:"bg-white rounded-lg shadow"},Zl={key:0,class:"p-8 text-center"},Kl={key:1,class:"p-8 text-center text-gray-500"},er={key:2,class:"overflow-x-auto"},tr={class:"w-full"},sr={class:"divide-y divide-gray-200"},or={class:"px-6 py-4 text-sm font-mono text-blue-600"},nr=["onClick"],ar={class:"px-6 py-4 text-sm text-gray-900"},lr={class:"font-medium"},rr={class:"text-gray-500"},ir={class:"px-6 py-4 text-sm text-gray-900"},dr={class:"font-medium"},cr={class:"text-gray-500"},ur={class:"px-6 py-4 text-sm text-gray-900"},mr={class:"space-y-1"},gr={class:"px-6 py-4 text-sm font-medium text-gray-900"},pr={class:"px-6 py-4 text-sm"},xr={class:"px-6 py-4 text-sm text-gray-500"},fr={class:"px-6 py-4 text-sm space-x-2"},br=["onClick"],yr=["onClick"],vr=["onClick"],hr={key:3,class:"p-6 border-t"},wr={class:"flex justify-between items-center"},_r={class:"text-sm text-gray-700"},kr={class:"flex space-x-2"},Cr=["disabled"],Mr={class:"px-3 py-1 text-sm text-gray-600"},jr=["disabled"],Sr={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ar={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto"},Pr={class:"flex justify-between items-center mb-4"},zr={key:0,class:"space-y-6"},Or={class:"grid grid-cols-2 gap-6"},Ur={class:"space-y-4"},Dr={class:"space-y-2"},Tr={class:"text-sm font-mono text-gray-900"},Vr={class:"text-sm text-gray-900"},Fr={key:0},Br={class:"text-sm text-gray-900"},$r={class:"space-y-4"},Er={class:"space-y-2"},Ir={class:"text-sm text-gray-900"},Rr={class:"text-sm text-gray-900"},Lr={key:0},Nr={class:"text-sm text-gray-900"},Hr={key:0,class:"border-t pt-6"},qr={class:"grid grid-cols-2 gap-4"},Gr={class:"text-sm text-gray-900"},Xr={class:"text-sm text-gray-900"},Jr={class:"text-sm text-gray-900"},Yr={class:"text-sm text-gray-900"},Wr={class:"border-t pt-6"},Qr={class:"overflow-x-auto"},Zr={class:"w-full text-sm"},Kr={class:"divide-y divide-gray-200"},ei={class:"px-4 py-2"},ti={class:"px-4 py-2"},si={class:"px-4 py-2"},oi={class:"px-4 py-2 font-medium"},ni={class:"bg-gray-50"},ai={class:"px-4 py-2 font-bold"},li={key:1,class:"border-t pt-6"},ri={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},ii={class:"flex justify-between items-start mb-2"},di={class:"font-mono text-blue-600"},ci={class:"text-gray-600"},ui={key:0},mi={class:"border-t pt-6 flex justify-end space-x-3"};function gi(v,t,g,s,p,h){return l(),a("div",Ml,[e("div",jl,[e("div",Sl,[t[21]||(t[21]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Suivi des Commandes"),e("p",{class:"text-gray-600"},"Gérer et suivre toutes les commandes de la plateforme")],-1)),e("button",{onClick:t[0]||(t[0]=(...o)=>s.exportOrders&&s.exportOrders(...o)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},[...t[20]||(t[20]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),H(" Exporter ",-1)])])])]),e("div",Al,[e("div",Pl,[e("div",zl,[t[23]||(t[23]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Ol,[t[22]||(t[22]=e("p",{class:"text-sm text-gray-600"},"Total Commandes",-1)),e("p",Ul,n(s.stats.total_orders||0),1)])])]),e("div",Dl,[e("div",Tl,[t[25]||(t[25]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Vl,[t[24]||(t[24]=e("p",{class:"text-sm text-gray-600"},"Confirmées",-1)),e("p",Fl,n(s.stats.confirmed_orders||0),1)])])]),e("div",Bl,[e("div",$l,[t[27]||(t[27]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",El,[t[26]||(t[26]=e("p",{class:"text-sm text-gray-600"},"En Attente",-1)),e("p",Il,n(s.stats.pending_orders||0),1)])])]),e("div",Rl,[e("div",Ll,[t[29]||(t[29]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Nl,[t[28]||(t[28]=e("p",{class:"text-sm text-gray-600"},"Revenus Total",-1)),e("p",Hl,n(s.formatAmount(s.stats.total_revenue||0))+" XAF",1)])])])]),e("div",ql,[t[39]||(t[39]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",Gl,[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.filters.search=o),onInput:t[2]||(t[2]=(...o)=>s.debouncedSearch&&s.debouncedSearch(...o)),type:"text",placeholder:"Référence ou email...",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.search]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.status=o),onChange:t[4]||(t[4]=(...o)=>s.loadOrders&&s.loadOrders(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[31]||(t[31]=[le('<option value="" data-v-e0d05b6e>Tous les statuts</option><option value="pending" data-v-e0d05b6e>En attente</option><option value="confirmed" data-v-e0d05b6e>Confirmée</option><option value="cancelled" data-v-e0d05b6e>Annulée</option><option value="refunded" data-v-e0d05b6e>Remboursée</option>',5)])],544),[[B,s.filters.status]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Organisateur",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.filters.organizer_id=o),onChange:t[6]||(t[6]=(...o)=>s.loadOrders&&s.loadOrders(...o)),class:"w-full border rounded-lg px-3 py-2"},[t[33]||(t[33]=e("option",{value:""},"Tous les organisateurs",-1)),(l(!0),a(T,null,V(s.organizers,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,Xl))),128))],544),[[B,s.filters.organizer_id]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Événement",-1)),i(e("select",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.filters.event_id=o),onChange:t[8]||(t[8]=(...o)=>s.loadOrders&&s.loadOrders(...o)),class:"w-full border rounded-lg px-3 py-2"},[t[35]||(t[35]=e("option",{value:""},"Tous les événements",-1)),(l(!0),a(T,null,V(s.events,o=>(l(),a("option",{key:o.id,value:o.id},n(o.title),9,Jl))),128))],544),[[B,s.filters.event_id]])]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de début",-1)),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>s.filters.date_from=o),onChange:t[10]||(t[10]=(...o)=>s.loadOrders&&s.loadOrders(...o)),type:"date",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.date_from]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de fin",-1)),i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.filters.date_to=o),onChange:t[12]||(t[12]=(...o)=>s.loadOrders&&s.loadOrders(...o)),type:"date",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.date_to]])])]),e("div",Yl,[e("button",{onClick:t[13]||(t[13]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser les filtres "),e("div",Wl,n(s.pagination?`${s.pagination.total} commande(s) trouvée(s)`:""),1)])]),e("div",Ql,[t[42]||(t[42]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-xl font-bold"},"Liste des Commandes")],-1)),s.loading?(l(),a("div",Zl,[...t[40]||(t[40]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.orders.length===0?(l(),a("div",Kl," Aucune commande trouvée ")):(l(),a("div",er,[e("table",tr,[t[41]||(t[41]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Client"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Événement"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Tickets"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",sr,[(l(!0),a(T,null,V(s.orders,o=>(l(),a("tr",{key:o.id},[e("td",or,[e("button",{onClick:r=>s.viewOrderDetails(o),class:"hover:text-blue-800"}," #"+n(o.reference),9,nr)]),e("td",ar,[e("div",null,[e("div",lr,n(o.customer_name),1),e("div",rr,n(o.customer_email),1)])]),e("td",ir,[e("div",null,[e("div",dr,n(o.event?.title||"-"),1),e("div",cr,n(o.event?.organizer?.name||"-"),1)])]),e("td",ur,[e("div",mr,[(l(!0),a(T,null,V(o.items,r=>(l(),a("div",{key:r.id,class:"text-xs"},n(r.quantity)+"x "+n(r.ticket_type_name),1))),128))])]),e("td",gr,n(s.formatAmount(o.total_amount))+" XAF",1),e("td",pr,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(o.status)])},n(s.getStatusName(o.status)),3)]),e("td",xr,n(s.formatDateTime(o.created_at)),1),e("td",fr,[e("button",{onClick:r=>s.viewOrderDetails(o),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,br),o.status==="pending"?(l(),a("button",{key:0,onClick:r=>s.updateOrderStatus(o,"confirmed"),class:"text-green-600 hover:text-green-900"}," Confirmer ",8,yr)):C("",!0),["pending","confirmed"].includes(o.status)?(l(),a("button",{key:1,onClick:r=>s.updateOrderStatus(o,"cancelled"),class:"text-red-600 hover:text-red-900"}," Annuler ",8,vr)):C("",!0)])]))),128))])])])),s.pagination&&s.pagination.last_page>1?(l(),a("div",hr,[e("div",wr,[e("div",_r," Affichage "+n(s.pagination.from)+" à "+n(s.pagination.to)+" sur "+n(s.pagination.total)+" commandes ",1),e("div",kr,[e("button",{onClick:t[14]||(t[14]=o=>s.changePage(s.pagination.current_page-1)),disabled:s.pagination.current_page<=1,class:"px-3 py-1 border rounded disabled:opacity-50"}," Précédent ",8,Cr),e("span",Mr," Page "+n(s.pagination.current_page)+" sur "+n(s.pagination.last_page),1),e("button",{onClick:t[15]||(t[15]=o=>s.changePage(s.pagination.current_page+1)),disabled:s.pagination.current_page>=s.pagination.last_page,class:"px-3 py-1 border rounded disabled:opacity-50"}," Suivant ",8,jr)])])])):C("",!0)]),s.showDetailsModal?(l(),a("div",Sr,[e("div",Ar,[e("div",Pr,[t[44]||(t[44]=e("h3",{class:"text-lg font-bold"},"Détails de la Commande",-1)),e("button",{onClick:t[16]||(t[16]=o=>s.showDetailsModal=!1),class:"text-gray-600 hover:text-gray-800"},[...t[43]||(t[43]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s.selectedOrder?(l(),a("div",zr,[e("div",Or,[e("div",Ur,[e("div",null,[t[49]||(t[49]=e("h4",{class:"text-md font-bold mb-3"},"Informations Commande",-1)),e("div",Dr,[e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700"},"Référence",-1)),e("p",Tr,"#"+n(s.selectedOrder.reference),1)]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(s.selectedOrder.status)])},n(s.getStatusName(s.selectedOrder.status)),3)]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date de création",-1)),e("p",Vr,n(s.formatDateTime(s.selectedOrder.created_at)),1)]),s.selectedOrder.confirmed_at?(l(),a("div",Fr,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date de confirmation",-1)),e("p",Br,n(s.formatDateTime(s.selectedOrder.confirmed_at)),1)])):C("",!0)])])]),e("div",$r,[e("div",null,[t[53]||(t[53]=e("h4",{class:"text-md font-bold mb-3"},"Informations Client",-1)),e("div",Er,[e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700"},"Nom",-1)),e("p",Ir,n(s.selectedOrder.customer_name),1)]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",Rr,n(s.selectedOrder.customer_email),1)]),s.selectedOrder.customer_phone?(l(),a("div",Lr,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700"},"Téléphone",-1)),e("p",Nr,n(s.selectedOrder.customer_phone),1)])):C("",!0)])])])]),s.selectedOrder.event?(l(),a("div",Hr,[t[58]||(t[58]=e("h4",{class:"text-md font-bold mb-3"},"Événement",-1)),e("div",qr,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700"},"Titre",-1)),e("p",Gr,n(s.selectedOrder.event.title),1)]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700"},"Organisateur",-1)),e("p",Xr,n(s.selectedOrder.event.organizer?.name||"-"),1)]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700"},"Lieu",-1)),e("p",Jr,n(s.selectedOrder.event.venue?.name||"-"),1)]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700"},"Date événement",-1)),e("p",Yr,n(s.selectedOrder.event.schedules?.[0]?s.formatDateTime(s.selectedOrder.event.schedules[0].starts_at):"-"),1)])])])):C("",!0),e("div",Wr,[t[61]||(t[61]=e("h4",{class:"text-md font-bold mb-3"},"Articles Commandés",-1)),e("div",Qr,[e("table",Zr,[t[60]||(t[60]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-2 text-left"},"Type de billet"),e("th",{class:"px-4 py-2 text-left"},"Prix unitaire"),e("th",{class:"px-4 py-2 text-left"},"Quantité"),e("th",{class:"px-4 py-2 text-left"},"Total")])],-1)),e("tbody",Kr,[(l(!0),a(T,null,V(s.selectedOrder.items,o=>(l(),a("tr",{key:o.id},[e("td",ei,n(o.ticket_type_name),1),e("td",ti,n(s.formatAmount(o.unit_price))+" XAF",1),e("td",si,n(o.quantity),1),e("td",oi,n(s.formatAmount(o.total_price))+" XAF",1)]))),128))]),e("tfoot",ni,[e("tr",null,[t[59]||(t[59]=e("td",{colspan:"3",class:"px-4 py-2 font-bold text-right"},"Total",-1)),e("td",ai,n(s.formatAmount(s.selectedOrder.total_amount))+" XAF",1)])])])])]),s.selectedOrder.tickets&&s.selectedOrder.tickets.length>0?(l(),a("div",li,[t[62]||(t[62]=e("h4",{class:"text-md font-bold mb-3"},"Tickets Générés",-1)),e("div",ri,[(l(!0),a(T,null,V(s.selectedOrder.tickets,o=>(l(),a("div",{key:o.id,class:"border rounded-lg p-3 text-sm"},[e("div",ii,[e("span",di,n(o.code),1),e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getTicketStatusClass(o.status)])},n(s.getTicketStatusName(o.status)),3)]),e("div",ci,[e("p",null,n(o.ticketType?.name),1),o.used_at?(l(),a("p",ui,"Utilisé: "+n(s.formatDateTime(o.used_at)),1)):C("",!0)])]))),128))])])):C("",!0),e("div",mi,[s.selectedOrder.status==="pending"?(l(),a("button",{key:0,onClick:t[17]||(t[17]=o=>s.updateOrderStatus(s.selectedOrder,"confirmed")),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"}," Confirmer la Commande ")):C("",!0),["pending","confirmed"].includes(s.selectedOrder.status)?(l(),a("button",{key:1,onClick:t[18]||(t[18]=o=>s.updateOrderStatus(s.selectedOrder,"cancelled")),class:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"}," Annuler la Commande ")):C("",!0),e("button",{onClick:t[19]||(t[19]=o=>s.showDetailsModal=!1),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Fermer ")])])):C("",!0)])])):C("",!0)])}const pi=Z(Cl,[["render",gi],["__scopeId","data-v-e0d05b6e"]]),Jp=Object.freeze(Object.defineProperty({__proto__:null,default:pi},Symbol.toStringTag,{value:"Module"})),xi={name:"PaymentTracking",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u(null),p=u([]),h=u([]),o=u(null),r=q({total_payments:0,successful_payments:0,pending_payments:0,failed_payments:0,total_volume:0}),k=u([]),O=u([]),M=q({search:"",status:"",gateway:"",organizer_id:"",date_from:"",date_to:"",page:1});let S=null;const U=re(()=>O.value.length===0?1:Math.max(...O.value.map(P=>P.volume))),b=async()=>{v.value=!0;try{const P=new URLSearchParams;Object.keys(M).forEach(K=>{M[K]&&M[K]!==""&&P.append(K,M[K])});const E=await(await fetch(`/api/v1/admin/payments?${P}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();E.success&&(p.value=E.data.payments.data,o.value={current_page:E.data.payments.current_page,last_page:E.data.payments.last_page,from:E.data.payments.from,to:E.data.payments.to,total:E.data.payments.total},Object.assign(r,E.data.stats),k.value=E.data.gateway_stats||[],O.value=E.data.daily_stats||[])}catch(P){console.error("Erreur chargement paiements:",P)}finally{v.value=!1}},R=async()=>{try{const L=await(await fetch("/api/v1/admin/organizers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();L.success&&(h.value=L.data.organizers.data||L.data.organizers)}catch(P){console.error("Erreur chargement organisateurs:",P)}},d=()=>{clearTimeout(S),S=setTimeout(()=>{M.page=1,b()},500)},x=P=>{P>=1&&P<=o.value.last_page&&(M.page=P,b())},w=()=>{Object.assign(M,{search:"",status:"",gateway:"",organizer_id:"",date_from:"",date_to:"",page:1}),b()},f=()=>{b()},c=async P=>{try{const E=await(await fetch(`/api/v1/admin/payments/${P.id}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();E.success&&(s.value=E.data.payment,g.value=!0)}catch(L){console.error("Erreur chargement détails paiement:",L)}},_=async P=>{try{const E=await(await fetch(`/api/v1/admin/payments/${P.id}/status`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();E.success?(alert(`Statut mis à jour: ${D(E.data.status)}`),b(),g.value&&(s.value.status=E.data.status)):alert(E.message||"Erreur lors de la vérification")}catch(L){console.error("Erreur vérification statut:",L),alert("Erreur technique")}},F=async()=>{if(confirm("Vérifier tous les paiements en attente ? Cette opération peut prendre du temps.")){t.value=!0;try{const L=await(await fetch("/api/v1/admin/payments/check-pending",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();L.success?(alert(`Vérification terminée. ${L.data.updated_count} paiement(s) mis à jour.`),b()):alert(L.message||"Erreur lors de la vérification")}catch(P){console.error("Erreur vérification paiements en attente:",P),alert("Erreur technique")}finally{t.value=!1}}},J=async P=>{const L=prompt("Raison du remboursement:");if(L&&confirm(`Êtes-vous sûr de vouloir rembourser ce paiement de ${se(P.amount)} XAF ?`))try{const K=await(await fetch(`/api/v1/admin/payments/${P.id}/refund`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({reason:L})})).json();K.success?(alert("Remboursement initié avec succès"),b()):alert(K.message||"Erreur lors du remboursement")}catch(E){console.error("Erreur remboursement:",E),alert("Erreur technique")}},ne=async()=>{try{const P=new URLSearchParams;Object.keys(M).forEach(E=>{M[E]&&M[E]!==""&&E!=="page"&&P.append(E,M[E])});const L=await fetch(`/api/v1/admin/payments/export?${P}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}});if(L.ok){const E=await L.blob(),K=window.URL.createObjectURL(E),A=document.createElement("a");A.href=K,A.download=`paiements-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(K),document.body.removeChild(A)}}catch(P){console.error("Erreur export:",P),alert("Erreur lors de l'export des données")}},se=P=>new Intl.NumberFormat("fr-FR").format(P),z=P=>new Date(P).toLocaleDateString("fr-FR"),$=P=>new Date(P).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),y=P=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money",card:"Carte bancaire"})[P]||P,m=P=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800",card:"bg-blue-100 text-blue-800"})[P]||"bg-gray-100 text-gray-800",D=P=>({success:"Réussi",pending:"En attente",failed:"Échoué",cancelled:"Annulé",refunded:"Remboursé"})[P]||P,oe=P=>({success:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800",refunded:"bg-purple-100 text-purple-800"})[P]||"bg-gray-100 text-gray-800";return te(()=>{b(),R()}),{loading:v,checkingPayments:t,showDetailsModal:g,selectedPayment:s,payments:p,organizers:h,pagination:o,stats:r,gatewayStats:k,dailyStats:O,filters:M,maxDailyVolume:U,loadPayments:b,loadOrganizers:R,debouncedSearch:d,changePage:x,resetFilters:w,refreshPayments:f,viewPaymentDetails:c,checkPaymentStatus:_,checkPendingPayments:F,processRefund:J,exportPayments:ne,formatAmount:se,formatDate:z,formatDateTime:$,getGatewayName:y,getGatewayBadgeClass:m,getStatusName:D,getStatusBadgeClass:oe}}},fi={class:"payment-tracking p-6 bg-gray-50 min-h-screen"},bi={class:"mb-8"},yi={class:"flex items-center justify-between"},vi={class:"flex space-x-3"},hi={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"},wi={class:"bg-white rounded-lg shadow p-6"},_i={class:"flex items-center"},ki={class:"ml-4"},Ci={class:"text-2xl font-bold text-blue-600"},Mi={class:"bg-white rounded-lg shadow p-6"},ji={class:"flex items-center"},Si={class:"ml-4"},Ai={class:"text-2xl font-bold text-green-600"},Pi={class:"bg-white rounded-lg shadow p-6"},zi={class:"flex items-center"},Oi={class:"ml-4"},Ui={class:"text-2xl font-bold text-yellow-600"},Di={class:"bg-white rounded-lg shadow p-6"},Ti={class:"flex items-center"},Vi={class:"ml-4"},Fi={class:"text-2xl font-bold text-red-600"},Bi={class:"bg-white rounded-lg shadow p-6"},$i={class:"flex items-center"},Ei={class:"ml-4"},Ii={class:"text-2xl font-bold text-purple-600"},Ri={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},Li={class:"bg-white rounded-lg shadow p-6"},Ni={key:0,class:"text-center text-gray-500 py-8"},Hi={key:1,class:"space-y-4"},qi={class:"flex items-center"},Gi={class:"font-medium text-gray-900"},Xi={class:"text-sm text-gray-600"},Ji={class:"text-right"},Yi={class:"font-bold text-gray-900"},Wi={class:"text-sm text-gray-600"},Qi={class:"bg-white rounded-lg shadow p-6"},Zi={key:0,class:"text-center text-gray-500 py-8"},Ki={key:1,class:"space-y-3"},ed={class:"font-medium text-gray-900"},td={class:"text-sm text-gray-600"},sd={class:"text-right"},od={class:"font-bold text-gray-900"},nd={class:"w-16 bg-gray-200 rounded-full h-2 mt-1"},ad={class:"bg-white rounded-lg shadow p-6 mb-8"},ld={class:"grid grid-cols-1 md:grid-cols-6 gap-4"},rd=["value"],id={class:"flex justify-between items-center mt-4"},dd={class:"flex space-x-3"},cd=["disabled"],ud={class:"bg-white rounded-lg shadow"},md={class:"p-6 border-b"},gd={class:"flex justify-between items-center"},pd={class:"text-sm text-gray-600"},xd={key:0,class:"p-8 text-center"},fd={key:1,class:"p-8 text-center text-gray-500"},bd={key:2,class:"overflow-x-auto"},yd={class:"w-full"},vd={class:"divide-y divide-gray-200"},hd={class:"px-6 py-4 text-sm font-mono text-blue-600"},wd=["onClick"],_d={class:"px-6 py-4 text-sm text-gray-900"},kd={class:"font-medium"},Cd={class:"text-gray-500"},Md={class:"px-6 py-4 text-sm text-gray-900"},jd={class:"font-medium"},Sd={class:"text-gray-500"},Ad={class:"px-6 py-4 text-sm font-medium text-gray-900"},Pd={class:"px-6 py-4 text-sm"},zd={class:"px-6 py-4 text-sm"},Od={class:"px-6 py-4 text-sm text-gray-500"},Ud={class:"px-6 py-4 text-sm space-x-2"},Dd=["onClick"],Td=["onClick"],Vd=["onClick"],Fd={key:3,class:"p-6 border-t"},Bd={class:"flex justify-between items-center"},$d={class:"text-sm text-gray-700"},Ed={class:"flex space-x-2"},Id=["disabled"],Rd={class:"px-3 py-1 text-sm text-gray-600"},Ld=["disabled"],Nd={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Hd={class:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-screen overflow-y-auto"},qd={class:"flex justify-between items-center mb-4"},Gd={key:0,class:"space-y-6"},Xd={class:"grid grid-cols-2 gap-6"},Jd={class:"space-y-4"},Yd={class:"space-y-2"},Wd={class:"text-sm font-mono text-gray-900"},Qd={class:"text-sm font-bold text-gray-900"},Zd={class:"space-y-4"},Kd={class:"space-y-2"},ec={class:"text-sm text-gray-900"},tc={key:0},sc={class:"text-sm text-gray-900"},oc={key:1},nc={class:"text-sm font-mono text-gray-900"},ac={key:0,class:"border-t pt-6"},lc={class:"grid grid-cols-2 gap-4"},rc={class:"text-sm font-mono text-gray-900"},ic={class:"text-sm text-gray-900"},dc={class:"text-sm text-gray-900"},cc={class:"text-sm text-gray-900"},uc={key:1,class:"border-t pt-6"},mc={class:"bg-gray-50 p-4 rounded-lg"},gc={class:"text-xs text-gray-700 whitespace-pre-wrap"},pc={class:"border-t pt-6 flex justify-end space-x-3"};function xc(v,t,g,s,p,h){return l(),a("div",fi,[e("div",bi,[e("div",yi,[t[24]||(t[24]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Suivi des Paiements"),e("p",{class:"text-gray-600"},"Monitorer tous les paiements de la plateforme")],-1)),e("div",vi,[e("button",{onClick:t[0]||(t[0]=(...o)=>s.refreshPayments&&s.refreshPayments(...o)),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"},[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),H(" Actualiser ",-1)])]),e("button",{onClick:t[1]||(t[1]=(...o)=>s.exportPayments&&s.exportPayments(...o)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},[...t[23]||(t[23]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"})],-1),H(" Exporter ",-1)])])])])]),e("div",hi,[e("div",wi,[e("div",_i,[t[26]||(t[26]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",ki,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"},"Total Paiements",-1)),e("p",Ci,n(s.stats.total_payments||0),1)])])]),e("div",Mi,[e("div",ji,[t[28]||(t[28]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Si,[t[27]||(t[27]=e("p",{class:"text-sm text-gray-600"},"Réussis",-1)),e("p",Ai,n(s.stats.successful_payments||0),1)])])]),e("div",Pi,[e("div",zi,[t[30]||(t[30]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Oi,[t[29]||(t[29]=e("p",{class:"text-sm text-gray-600"},"En Attente",-1)),e("p",Ui,n(s.stats.pending_payments||0),1)])])]),e("div",Di,[e("div",Ti,[t[32]||(t[32]=e("div",{class:"p-2 bg-red-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4.5c-.77-.833-2.694-.833-3.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",Vi,[t[31]||(t[31]=e("p",{class:"text-sm text-gray-600"},"Échoués",-1)),e("p",Fi,n(s.stats.failed_payments||0),1)])])]),e("div",Bi,[e("div",$i,[t[34]||(t[34]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",Ei,[t[33]||(t[33]=e("p",{class:"text-sm text-gray-600"},"Volume Total",-1)),e("p",Ii,n(s.formatAmount(s.stats.total_volume||0))+" XAF",1)])])])]),e("div",Ri,[e("div",Li,[t[36]||(t[36]=e("h2",{class:"text-xl font-bold mb-4"},"Répartition par Gateway",-1)),s.gatewayStats.length===0?(l(),a("div",Ni," Aucune donnée disponible ")):(l(),a("div",Hi,[(l(!0),a(T,null,V(s.gatewayStats,o=>(l(),a("div",{key:o.gateway,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",qi,[e("div",{class:I(["p-2 rounded-lg mr-3",s.getGatewayBadgeClass(o.gateway)])},[...t[35]||(t[35]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})],-1)])],2),e("div",null,[e("p",Gi,n(s.getGatewayName(o.gateway)),1),e("p",Xi,n(o.count)+" paiement(s)",1)])]),e("div",Ji,[e("p",Yi,n(s.formatAmount(o.volume))+" XAF",1),e("p",Wi,n(Math.round(o.count/s.stats.total_payments*100))+"%",1)])]))),128))]))]),e("div",Qi,[t[37]||(t[37]=e("h2",{class:"text-xl font-bold mb-4"},"Tendances Récentes (7 derniers jours)",-1)),s.dailyStats.length===0?(l(),a("div",Zi," Aucune donnée disponible ")):(l(),a("div",Ki,[(l(!0),a(T,null,V(s.dailyStats,o=>(l(),a("div",{key:o.date,class:"flex justify-between items-center p-3 bg-gray-50 rounded-lg"},[e("div",null,[e("p",ed,n(s.formatDate(o.date)),1),e("p",td,n(o.count)+" paiement(s)",1)]),e("div",sd,[e("p",od,n(s.formatAmount(o.volume))+" XAF",1),e("div",nd,[e("div",{class:"bg-blue-600 h-2 rounded-full",style:de(`width: ${Math.min(o.volume/s.maxDailyVolume*100,100)}%`)},null,4)])])]))),128))]))])]),e("div",ad,[t[47]||(t[47]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",ld,[e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Recherche",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.filters.search=o),onInput:t[3]||(t[3]=(...o)=>s.debouncedSearch&&s.debouncedSearch(...o)),type:"text",placeholder:"Référence ou email...",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.search]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.filters.status=o),onChange:t[5]||(t[5]=(...o)=>s.loadPayments&&s.loadPayments(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[39]||(t[39]=[le('<option value="" data-v-fc273c00>Tous les statuts</option><option value="success" data-v-fc273c00>Réussi</option><option value="pending" data-v-fc273c00>En attente</option><option value="failed" data-v-fc273c00>Échoué</option><option value="cancelled" data-v-fc273c00>Annulé</option>',5)])],544),[[B,s.filters.status]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),i(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.filters.gateway=o),onChange:t[7]||(t[7]=(...o)=>s.loadPayments&&s.loadPayments(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[41]||(t[41]=[e("option",{value:""},"Tous les gateways",-1),e("option",{value:"airtelmoney"},"Airtel Money",-1),e("option",{value:"moovmoney"},"Moov Money",-1),e("option",{value:"card"},"Carte bancaire",-1)])],544),[[B,s.filters.gateway]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Organisateur",-1)),i(e("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.filters.organizer_id=o),onChange:t[9]||(t[9]=(...o)=>s.loadPayments&&s.loadPayments(...o)),class:"w-full border rounded-lg px-3 py-2"},[t[43]||(t[43]=e("option",{value:""},"Tous les organisateurs",-1)),(l(!0),a(T,null,V(s.organizers,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,rd))),128))],544),[[B,s.filters.organizer_id]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de début",-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>s.filters.date_from=o),onChange:t[11]||(t[11]=(...o)=>s.loadPayments&&s.loadPayments(...o)),type:"date",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.date_from]])]),e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de fin",-1)),i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.filters.date_to=o),onChange:t[13]||(t[13]=(...o)=>s.loadPayments&&s.loadPayments(...o)),type:"date",class:"w-full border rounded-lg px-3 py-2"},null,544),[[j,s.filters.date_to]])])]),e("div",id,[e("button",{onClick:t[14]||(t[14]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser les filtres "),e("div",dd,[e("button",{onClick:t[15]||(t[15]=(...o)=>s.checkPendingPayments&&s.checkPendingPayments(...o)),disabled:s.checkingPayments,class:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 disabled:opacity-50"},n(s.checkingPayments?"Vérification...":"Vérifier Paiements en Attente"),9,cd)])])]),e("div",ud,[e("div",md,[e("div",gd,[t[48]||(t[48]=e("h2",{class:"text-xl font-bold"},"Liste des Paiements",-1)),e("div",pd,n(s.pagination?`${s.pagination.total} paiement(s) trouvé(s)`:""),1)])]),s.loading?(l(),a("div",xd,[...t[49]||(t[49]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.payments.length===0?(l(),a("div",fd," Aucun paiement trouvé ")):(l(),a("div",bd,[e("table",yd,[t[50]||(t[50]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Référence"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Commande"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Client"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",vd,[(l(!0),a(T,null,V(s.payments,o=>(l(),a("tr",{key:o.id},[e("td",hd,[e("button",{onClick:r=>s.viewPaymentDetails(o),class:"hover:text-blue-800"}," #"+n(o.reference),9,wd)]),e("td",_d,[e("div",null,[e("div",kd,"#"+n(o.order?.reference||"-"),1),e("div",Cd,n(o.order?.event?.title||"-"),1)])]),e("td",Md,[e("div",null,[e("div",jd,n(o.order?.customer_name||"-"),1),e("div",Sd,n(o.order?.customer_email||"-"),1)])]),e("td",Ad,n(s.formatAmount(o.amount))+" XAF",1),e("td",Pd,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getGatewayBadgeClass(o.gateway)])},n(s.getGatewayName(o.gateway)),3)]),e("td",zd,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(o.status)])},n(s.getStatusName(o.status)),3)]),e("td",Od,n(s.formatDateTime(o.created_at)),1),e("td",Ud,[e("button",{onClick:r=>s.viewPaymentDetails(o),class:"text-blue-600 hover:text-blue-900"}," Détails ",8,Dd),o.status==="pending"?(l(),a("button",{key:0,onClick:r=>s.checkPaymentStatus(o),class:"text-green-600 hover:text-green-900"}," Vérifier ",8,Td)):C("",!0),o.status==="success"?(l(),a("button",{key:1,onClick:r=>s.processRefund(o),class:"text-red-600 hover:text-red-900"}," Rembourser ",8,Vd)):C("",!0)])]))),128))])])])),s.pagination&&s.pagination.last_page>1?(l(),a("div",Fd,[e("div",Bd,[e("div",$d," Affichage "+n(s.pagination.from)+" à "+n(s.pagination.to)+" sur "+n(s.pagination.total)+" paiements ",1),e("div",Ed,[e("button",{onClick:t[16]||(t[16]=o=>s.changePage(s.pagination.current_page-1)),disabled:s.pagination.current_page<=1,class:"px-3 py-1 border rounded disabled:opacity-50"}," Précédent ",8,Id),e("span",Rd," Page "+n(s.pagination.current_page)+" sur "+n(s.pagination.last_page),1),e("button",{onClick:t[17]||(t[17]=o=>s.changePage(s.pagination.current_page+1)),disabled:s.pagination.current_page>=s.pagination.last_page,class:"px-3 py-1 border rounded disabled:opacity-50"}," Suivant ",8,Ld)])])])):C("",!0)]),s.showDetailsModal?(l(),a("div",Nd,[e("div",Hd,[e("div",qd,[t[52]||(t[52]=e("h3",{class:"text-lg font-bold"},"Détails du Paiement",-1)),e("button",{onClick:t[18]||(t[18]=o=>s.showDetailsModal=!1),class:"text-gray-600 hover:text-gray-800"},[...t[51]||(t[51]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),s.selectedPayment?(l(),a("div",Gd,[e("div",Xd,[e("div",Jd,[e("div",null,[t[57]||(t[57]=e("h4",{class:"text-md font-bold mb-3"},"Informations Paiement",-1)),e("div",Yd,[e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700"},"Référence",-1)),e("p",Wd,"#"+n(s.selectedPayment.reference),1)]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700"},"Montant",-1)),e("p",Qd,n(s.formatAmount(s.selectedPayment.amount))+" XAF",1)]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700"},"Gateway",-1)),e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getGatewayBadgeClass(s.selectedPayment.gateway)])},n(s.getGatewayName(s.selectedPayment.gateway)),3)]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700"},"Statut",-1)),e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(s.selectedPayment.status)])},n(s.getStatusName(s.selectedPayment.status)),3)])])])]),e("div",Zd,[e("div",null,[t[61]||(t[61]=e("h4",{class:"text-md font-bold mb-3"},"Horodatage",-1)),e("div",Kd,[e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700"},"Créé le",-1)),e("p",ec,n(s.formatDateTime(s.selectedPayment.created_at)),1)]),s.selectedPayment.processed_at?(l(),a("div",tc,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700"},"Traité le",-1)),e("p",sc,n(s.formatDateTime(s.selectedPayment.processed_at)),1)])):C("",!0),s.selectedPayment.gateway_transaction_id?(l(),a("div",oc,[t[60]||(t[60]=e("label",{class:"block text-sm font-medium text-gray-700"},"ID Transaction Gateway",-1)),e("p",nc,n(s.selectedPayment.gateway_transaction_id),1)])):C("",!0)])])])]),s.selectedPayment.order?(l(),a("div",ac,[t[66]||(t[66]=e("h4",{class:"text-md font-bold mb-3"},"Informations de la Commande",-1)),e("div",lc,[e("div",null,[t[62]||(t[62]=e("label",{class:"block text-sm font-medium text-gray-700"},"Référence commande",-1)),e("p",rc,n(s.selectedPayment.order.reference),1)]),e("div",null,[t[63]||(t[63]=e("label",{class:"block text-sm font-medium text-gray-700"},"Événement",-1)),e("p",ic,n(s.selectedPayment.order.event?.title||"-"),1)]),e("div",null,[t[64]||(t[64]=e("label",{class:"block text-sm font-medium text-gray-700"},"Client",-1)),e("p",dc,n(s.selectedPayment.order.customer_name),1)]),e("div",null,[t[65]||(t[65]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email",-1)),e("p",cc,n(s.selectedPayment.order.customer_email),1)])])])):C("",!0),s.selectedPayment.gateway_response?(l(),a("div",uc,[t[67]||(t[67]=e("h4",{class:"text-md font-bold mb-3"},"Réponse Gateway",-1)),e("div",mc,[e("pre",gc,n(JSON.stringify(s.selectedPayment.gateway_response,null,2)),1)])])):C("",!0),e("div",pc,[s.selectedPayment.status==="pending"?(l(),a("button",{key:0,onClick:t[19]||(t[19]=o=>s.checkPaymentStatus(s.selectedPayment)),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"}," Vérifier le Statut ")):C("",!0),s.selectedPayment.status==="success"?(l(),a("button",{key:1,onClick:t[20]||(t[20]=o=>s.processRefund(s.selectedPayment)),class:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"}," Rembourser ")):C("",!0),e("button",{onClick:t[21]||(t[21]=o=>s.showDetailsModal=!1),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Fermer ")])])):C("",!0)])])):C("",!0)])}const fc=Z(xi,[["render",xc],["__scopeId","data-v-fc273c00"]]),Yp=Object.freeze(Object.defineProperty({__proto__:null,default:fc},Symbol.toStringTag,{value:"Module"})),bc={name:"PayoutDashboard",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u(!1),p=u(!1),h=u([]),o=u([]),r=u([]),k=q({total_payouts:0,successful_payouts:0,pending_payouts:0,automatic_payouts:0}),O=q({status:"",gateway:"",is_automatic:""}),M=q({organizer_id:"",gateway:"",amount:"",phone_number:""}),S=async()=>{v.value=!0;try{const y=new URLSearchParams;O.status&&y.append("status",O.status),O.gateway&&y.append("gateway",O.gateway),O.is_automatic&&y.append("is_automatic",O.is_automatic);const D=await(await fetch(`/api/v1/admin/payouts?${y}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();D.success&&(h.value=D.data.payouts)}catch(y){console.error("Erreur chargement payouts:",y)}finally{v.value=!1}},U=async()=>{try{const m=await(await fetch("/api/v1/admin/payouts/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();m.success&&Object.assign(k,m.data.stats)}catch(y){console.error("Erreur chargement stats:",y)}},b=async()=>{g.value=!0;try{const m=await(await fetch("/api/v1/admin/payouts/shap-balance",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();m.success&&(r.value=m.data.balances)}catch(y){console.error("Erreur chargement solde SHAP:",y)}finally{g.value=!1}},R=async()=>{t.value=!0;try{const m=await(await fetch("/api/v1/admin/payouts/check-all-pending",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();m.success&&(alert(`Vérification terminée: ${m.data.results.length} payouts vérifiés`),S())}catch(y){console.error("Erreur vérification batch:",y)}finally{t.value=!1}},d=async y=>{y.checking=!0;try{const D=await(await fetch(`/api/v1/admin/payouts/${y.id}/check-status`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();D.success&&(alert(`Statut: ${D.data.current_status}`),S())}catch(m){console.error("Erreur vérification payout:",m)}finally{y.checking=!1}},x=()=>{s.value=!0,w()},w=async()=>{try{const m=await(await fetch("/api/v1/admin/organizers",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();m.success&&(o.value=m.data.organizers)}catch(y){console.error("Erreur chargement organisateurs:",y)}},f=async()=>{p.value=!0;try{const m=await(await fetch("/api/v1/admin/payouts",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(M)})).json();m.success?(alert("Payout créé avec succès"),s.value=!1,Object.assign(M,{organizer_id:"",gateway:"",amount:"",phone_number:""}),S(),U()):alert(m.message||"Erreur lors de la création")}catch(y){console.error("Erreur création payout:",y),alert("Erreur technique")}finally{p.value=!1}},c=()=>{Object.assign(O,{status:"",gateway:"",is_automatic:""}),S()},_=y=>{alert(`Détails du payout #${y.id}
Référence: ${y.reference}
Montant: ${F(y.amount)} XAF`)},F=y=>new Intl.NumberFormat("fr-FR").format(y),J=y=>new Date(y).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),ne=y=>({pending:"En attente",processing:"En cours",success:"Réussi",failed:"Échoué",cancelled:"Annulé"})[y]||y,se=y=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[y]||"bg-gray-100 text-gray-800",z=y=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[y]||y,$=y=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[y]||"bg-gray-100 text-gray-800";return te(()=>{S(),U()}),{loading:v,checkingAll:t,loadingShapBalance:g,showCreateModal:s,creatingPayout:p,payouts:h,organizers:o,shapBalance:r,stats:k,filters:O,newPayout:M,loadPayouts:S,loadStats:U,loadShapBalance:b,checkAllPending:R,checkPayoutStatus:d,openCreatePayoutModal:x,createPayout:f,resetFilters:c,viewPayoutDetails:_,formatAmount:F,formatDate:J,getStatusName:ne,getStatusBadgeClass:se,getGatewayName:z,getGatewayBadgeClass:$}}},yc={class:"payout-dashboard p-6 bg-gray-50 min-h-screen"},vc={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},hc={class:"bg-white rounded-lg shadow p-6"},wc={class:"flex items-center"},_c={class:"ml-4"},kc={class:"text-2xl font-bold text-gray-900"},Cc={class:"bg-white rounded-lg shadow p-6"},Mc={class:"flex items-center"},jc={class:"ml-4"},Sc={class:"text-2xl font-bold text-green-600"},Ac={class:"bg-white rounded-lg shadow p-6"},Pc={class:"flex items-center"},zc={class:"ml-4"},Oc={class:"text-2xl font-bold text-yellow-600"},Uc={class:"bg-white rounded-lg shadow p-6"},Dc={class:"flex items-center"},Tc={class:"ml-4"},Vc={class:"text-2xl font-bold text-purple-600"},Fc={class:"flex flex-wrap gap-4 mb-8"},Bc=["disabled"],$c=["disabled"],Ec={key:0,class:"mb-8"},Ic={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Rc={class:"font-semibold text-gray-900"},Lc={class:"text-2xl font-bold text-green-600"},Nc={class:"text-sm text-gray-500"},Hc={class:"bg-white rounded-lg shadow p-6 mb-8"},qc={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Gc={class:"flex items-end"},Xc={class:"bg-white rounded-lg shadow"},Jc={key:0,class:"p-8 text-center"},Yc={key:1,class:"p-8 text-center text-gray-500"},Wc={key:2,class:"overflow-x-auto"},Qc={class:"w-full"},Zc={class:"divide-y divide-gray-200"},Kc={class:"px-6 py-4 text-sm text-gray-900"},eu={class:"px-6 py-4 text-sm text-gray-900"},tu={class:"px-6 py-4 text-sm font-medium text-gray-900"},su={class:"px-6 py-4 text-sm text-gray-900"},ou={class:"px-6 py-4 text-sm"},nu={class:"px-6 py-4 text-sm text-gray-900"},au={class:"px-6 py-4 text-sm text-gray-500"},lu={class:"px-6 py-4 text-sm space-x-2"},ru=["onClick","disabled"],iu=["onClick"],du={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},cu={class:"bg-white rounded-lg p-6 w-full max-w-md"},uu={class:"space-y-4"},mu=["value"],gu={class:"flex justify-end space-x-3 mt-6"},pu=["disabled"];function xu(v,t,g,s,p,h){return l(),a("div",yc,[t[45]||(t[45]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Gestion des Payouts"),e("p",{class:"text-gray-600"},"Administration des paiements automatiques et manuels")],-1)),e("div",vc,[e("div",hc,[e("div",wc,[t[17]||(t[17]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",_c,[t[16]||(t[16]=e("p",{class:"text-sm text-gray-600"},"Total Payouts",-1)),e("p",kc,n(s.stats.total_payouts||0),1)])])]),e("div",Cc,[e("div",Mc,[t[19]||(t[19]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),e("div",jc,[t[18]||(t[18]=e("p",{class:"text-sm text-gray-600"},"Réussis",-1)),e("p",Sc,n(s.stats.successful_payouts||0),1)])])]),e("div",Ac,[e("div",Pc,[t[21]||(t[21]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",zc,[t[20]||(t[20]=e("p",{class:"text-sm text-gray-600"},"En cours",-1)),e("p",Oc,n(s.stats.pending_payouts||0),1)])])]),e("div",Uc,[e("div",Dc,[t[23]||(t[23]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e("div",Tc,[t[22]||(t[22]=e("p",{class:"text-sm text-gray-600"},"Automatiques",-1)),e("p",Vc,n(s.stats.automatic_payouts||0),1)])])])]),e("div",Fc,[e("button",{onClick:t[0]||(t[0]=(...o)=>s.openCreatePayoutModal&&s.openCreatePayoutModal(...o)),class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"},[...t[24]||(t[24]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),H(" Nouveau Payout Manuel ",-1)])]),e("button",{onClick:t[1]||(t[1]=(...o)=>s.checkAllPending&&s.checkAllPending(...o)),disabled:s.checkingAll,class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50"},[t[25]||(t[25]=e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),H(" "+n(s.checkingAll?"Vérification...":"Vérifier tous les payouts"),1)],8,Bc),e("button",{onClick:t[2]||(t[2]=(...o)=>s.loadShapBalance&&s.loadShapBalance(...o)),disabled:s.loadingShapBalance,class:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors disabled:opacity-50"},[t[26]||(t[26]=e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),H(" "+n(s.loadingShapBalance?"Chargement...":"Solde SHAP"),1)],8,$c)]),s.shapBalance.length>0?(l(),a("div",Ec,[t[27]||(t[27]=e("h2",{class:"text-xl font-bold mb-4"},"Solde SHAP par Opérateur",-1)),e("div",Ic,[(l(!0),a(T,null,V(s.shapBalance,o=>(l(),a("div",{key:o.payment_system_name,class:"bg-white rounded-lg shadow p-4"},[e("h3",Rc,n(o.payment_system_displayed_name),1),e("p",Lc,n(s.formatAmount(o.amount))+" XAF",1),e("p",Nc,"Dernière MAJ: "+n(o.last_updated),1)]))),128))])])):C("",!0),e("div",Hc,[t[34]||(t[34]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",qc,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.status=o),onChange:t[4]||(t[4]=(...o)=>s.loadPayouts&&s.loadPayouts(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[28]||(t[28]=[le('<option value="" data-v-e96f5ab8>Tous</option><option value="pending" data-v-e96f5ab8>En attente</option><option value="processing" data-v-e96f5ab8>En cours</option><option value="success" data-v-e96f5ab8>Réussi</option><option value="failed" data-v-e96f5ab8>Échoué</option>',5)])],544),[[B,s.filters.status]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.filters.gateway=o),onChange:t[6]||(t[6]=(...o)=>s.loadPayouts&&s.loadPayouts(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[30]||(t[30]=[e("option",{value:""},"Tous",-1),e("option",{value:"airtelmoney"},"Airtel Money",-1),e("option",{value:"moovmoney"},"Moov Money",-1)])],544),[[B,s.filters.gateway]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Type",-1)),i(e("select",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.filters.is_automatic=o),onChange:t[8]||(t[8]=(...o)=>s.loadPayouts&&s.loadPayouts(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[32]||(t[32]=[e("option",{value:""},"Tous",-1),e("option",{value:"true"},"Automatique",-1),e("option",{value:"false"},"Manuel",-1)])],544),[[B,s.filters.is_automatic]])]),e("div",Gc,[e("button",{onClick:t[9]||(t[9]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser ")])])]),e("div",Xc,[t[37]||(t[37]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-xl font-bold"},"Liste des Payouts")],-1)),s.loading?(l(),a("div",Jc,[...t[35]||(t[35]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.payouts.length===0?(l(),a("div",Yc," Aucun payout trouvé ")):(l(),a("div",Wc,[e("table",Qc,[t[36]||(t[36]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Organisateur"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Montant"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Date"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",Zc,[(l(!0),a(T,null,V(s.payouts,o=>(l(),a("tr",{key:o.id},[e("td",Kc,"#"+n(o.id),1),e("td",eu,n(o.organizer?.name),1),e("td",tu,n(s.formatAmount(o.amount))+" XAF",1),e("td",su,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getGatewayBadgeClass(o.gateway)])},n(s.getGatewayName(o.gateway)),3)]),e("td",ou,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getStatusBadgeClass(o.status)])},n(s.getStatusName(o.status)),3)]),e("td",nu,[e("span",{class:I(["inline-flex px-2 py-1 text-xs rounded-full",o.is_automatic?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},n(o.is_automatic?"Auto":"Manuel"),3)]),e("td",au,n(s.formatDate(o.created_at)),1),e("td",lu,[e("button",{onClick:r=>s.checkPayoutStatus(o),disabled:o.checking,class:"text-blue-600 hover:text-blue-900 disabled:opacity-50"},n(o.checking?"Vérif...":"Vérifier"),9,ru),e("button",{onClick:r=>s.viewPayoutDetails(o),class:"text-green-600 hover:text-green-900"}," Détails ",8,iu)])]))),128))])])]))]),s.showCreateModal?(l(),a("div",du,[e("div",cu,[t[44]||(t[44]=e("h3",{class:"text-lg font-bold mb-4"},"Nouveau Payout Manuel",-1)),e("form",{onSubmit:t[15]||(t[15]=ae((...o)=>s.createPayout&&s.createPayout(...o),["prevent"]))},[e("div",uu,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Organisateur",-1)),i(e("select",{"onUpdate:modelValue":t[10]||(t[10]=o=>s.newPayout.organizer_id=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[t[38]||(t[38]=e("option",{value:""},"Sélectionner un organisateur",-1)),(l(!0),a(T,null,V(s.organizers,o=>(l(),a("option",{key:o.id,value:o.id},n(o.name),9,mu))),128))],512),[[B,s.newPayout.organizer_id]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),i(e("select",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.newPayout.gateway=o),required:"",class:"w-full border rounded-lg px-3 py-2"},[...t[40]||(t[40]=[e("option",{value:""},"Sélectionner",-1),e("option",{value:"airtelmoney"},"Airtel Money",-1),e("option",{value:"moovmoney"},"Moov Money",-1)])],512),[[B,s.newPayout.gateway]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Montant (XAF)",-1)),i(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.newPayout.amount=o),type:"number",min:"100",required:"",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.newPayout.amount,void 0,{number:!0}]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),i(e("input",{"onUpdate:modelValue":t[13]||(t[13]=o=>s.newPayout.phone_number=o),type:"tel",maxlength:"9",pattern:"[0-9]{9}",required:"",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.newPayout.phone_number]])])]),e("div",gu,[e("button",{type:"button",onClick:t[14]||(t[14]=o=>s.showCreateModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.creatingPayout,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.creatingPayout?"Création...":"Créer le Payout"),9,pu)])],32)])])):C("",!0)])}const fu=Z(bc,[["render",xu],["__scopeId","data-v-e96f5ab8"]]),Wp=Object.freeze(Object.defineProperty({__proto__:null,default:fu},Symbol.toStringTag,{value:"Module"})),bu={name:"OrganizerBalanceConfig",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u(null),p=u([]),h=q({total_organizers:0,auto_payout_enabled:0,total_balance:0,active_configs:0}),o=q({gateway:"",auto_payout_enabled:""}),r=q({auto_payout_enabled:!1,auto_payout_threshold:1e4,payout_phone_number:""}),k=async()=>{v.value=!0;try{const d=new URLSearchParams;o.gateway&&d.append("gateway",o.gateway),o.auto_payout_enabled&&d.append("auto_payout_enabled",o.auto_payout_enabled);const w=await(await fetch(`/api/v1/admin/payouts/balances?${d}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).json();w.success&&(p.value=w.data.balances,Object.assign(h,w.data.stats))}catch(d){console.error("Erreur chargement balances:",d)}finally{v.value=!1}},O=d=>{s.value=d,Object.assign(r,{auto_payout_enabled:d.auto_payout_enabled,auto_payout_threshold:d.auto_payout_threshold,payout_phone_number:d.payout_phone_number||""}),t.value=!0},M=async()=>{g.value=!0;try{const x=await(await fetch(`/api/v1/admin/organizers/${s.value.organizer_id}/auto-payout-config`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({gateway:s.value.gateway,...r})})).json();x.success?(alert("Configuration mise à jour avec succès"),t.value=!1,k()):alert(x.message||"Erreur lors de la mise à jour")}catch(d){console.error("Erreur sauvegarde config:",d),alert("Erreur technique")}finally{g.value=!1}},S=()=>{Object.assign(o,{gateway:"",auto_payout_enabled:""}),k()},U=d=>new Intl.NumberFormat("fr-FR").format(d),b=d=>({airtelmoney:"Airtel Money",moovmoney:"Moov Money"})[d]||d,R=d=>({airtelmoney:"bg-red-100 text-red-800",moovmoney:"bg-orange-100 text-orange-800"})[d]||"bg-gray-100 text-gray-800";return te(()=>{k()}),{loading:v,showConfigModal:t,savingConfig:g,editingBalance:s,balances:p,stats:h,filters:o,configForm:r,loadBalances:k,editBalance:O,saveConfiguration:M,resetFilters:S,formatAmount:U,getGatewayName:b,getGatewayBadgeClass:R}}},yu={class:"organizer-balance-config p-6 bg-gray-50 min-h-screen"},vu={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},hu={class:"bg-white rounded-lg shadow p-6"},wu={class:"flex items-center"},_u={class:"ml-4"},ku={class:"text-2xl font-bold text-gray-900"},Cu={class:"bg-white rounded-lg shadow p-6"},Mu={class:"flex items-center"},ju={class:"ml-4"},Su={class:"text-2xl font-bold text-green-600"},Au={class:"bg-white rounded-lg shadow p-6"},Pu={class:"flex items-center"},zu={class:"ml-4"},Ou={class:"text-2xl font-bold text-yellow-600"},Uu={class:"bg-white rounded-lg shadow p-6"},Du={class:"flex items-center"},Tu={class:"ml-4"},Vu={class:"text-2xl font-bold text-purple-600"},Fu={class:"bg-white rounded-lg shadow p-6 mb-8"},Bu={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},$u={class:"flex items-end"},Eu={class:"bg-white rounded-lg shadow"},Iu={key:0,class:"p-8 text-center"},Ru={key:1,class:"p-8 text-center text-gray-500"},Lu={key:2,class:"overflow-x-auto"},Nu={class:"w-full"},Hu={class:"divide-y divide-gray-200"},qu={class:"px-6 py-4 text-sm font-medium text-gray-900"},Gu={class:"px-6 py-4 text-sm text-gray-900"},Xu={class:"px-6 py-4 text-sm font-medium text-gray-900"},Ju={class:"px-6 py-4 text-sm"},Yu={class:"px-6 py-4 text-sm text-gray-900"},Wu={class:"px-6 py-4 text-sm text-gray-900"},Qu={class:"px-6 py-4 text-sm space-x-2"},Zu=["onClick"],Ku={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},e0={class:"bg-white rounded-lg p-6 w-full max-w-md"},t0={class:"text-lg font-bold mb-4"},s0={class:"space-y-4"},o0=["value"],n0=["value"],a0={class:"flex items-center space-x-2"},l0={key:0},r0={class:"flex justify-end space-x-3 mt-6"},i0=["disabled"];function d0(v,t,g,s,p,h){return l(),a("div",yu,[t[33]||(t[33]=e("div",{class:"mb-8"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"Configuration des Soldes Organisateurs"),e("p",{class:"text-gray-600"},"Gestion des paramètres de payout automatique par organisateur")],-1)),e("div",vu,[e("div",hu,[e("div",wu,[t[11]||(t[11]=e("div",{class:"p-2 bg-blue-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("div",_u,[t[10]||(t[10]=e("p",{class:"text-sm text-gray-600"},"Total Organisateurs",-1)),e("p",ku,n(s.stats.total_organizers||0),1)])])]),e("div",Cu,[e("div",Mu,[t[13]||(t[13]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e("div",ju,[t[12]||(t[12]=e("p",{class:"text-sm text-gray-600"},"Payout Auto Activé",-1)),e("p",Su,n(s.stats.auto_payout_enabled||0),1)])])]),e("div",Au,[e("div",Pu,[t[15]||(t[15]=e("div",{class:"p-2 bg-yellow-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])],-1)),e("div",zu,[t[14]||(t[14]=e("p",{class:"text-sm text-gray-600"},"Solde Total",-1)),e("p",Ou,n(s.formatAmount(s.stats.total_balance||0))+" XAF",1)])])]),e("div",Uu,[e("div",Du,[t[17]||(t[17]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",Tu,[t[16]||(t[16]=e("p",{class:"text-sm text-gray-600"},"Configs Actives",-1)),e("p",Vu,n(s.stats.active_configs||0),1)])])])]),e("div",Fu,[t[22]||(t[22]=e("h2",{class:"text-xl font-bold mb-4"},"Filtres",-1)),e("div",Bu,[e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),i(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.filters.gateway=o),onChange:t[1]||(t[1]=(...o)=>s.loadBalances&&s.loadBalances(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[18]||(t[18]=[e("option",{value:""},"Tous",-1),e("option",{value:"airtelmoney"},"Airtel Money",-1),e("option",{value:"moovmoney"},"Moov Money",-1)])],544),[[B,s.filters.gateway]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Payout Auto",-1)),i(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.filters.auto_payout_enabled=o),onChange:t[3]||(t[3]=(...o)=>s.loadBalances&&s.loadBalances(...o)),class:"w-full border rounded-lg px-3 py-2"},[...t[20]||(t[20]=[e("option",{value:""},"Tous",-1),e("option",{value:"true"},"Activé",-1),e("option",{value:"false"},"Désactivé",-1)])],544),[[B,s.filters.auto_payout_enabled]])]),e("div",$u,[e("button",{onClick:t[4]||(t[4]=(...o)=>s.resetFilters&&s.resetFilters(...o)),class:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600"}," Réinitialiser ")])])]),e("div",Eu,[t[25]||(t[25]=e("div",{class:"p-6 border-b"},[e("h2",{class:"text-xl font-bold"},"Balances des Organisateurs")],-1)),s.loading?(l(),a("div",Iu,[...t[23]||(t[23]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"},null,-1),e("p",{class:"mt-4 text-gray-600"},"Chargement...",-1)])])):s.balances.length===0?(l(),a("div",Ru," Aucune balance trouvée ")):(l(),a("div",Lu,[e("table",Nu,[t[24]||(t[24]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Organisateur"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Gateway"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Solde"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Payout Auto"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Seuil"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Téléphone"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase"},"Actions")])],-1)),e("tbody",Hu,[(l(!0),a(T,null,V(s.balances,o=>(l(),a("tr",{key:`${o.organizer_id}-${o.gateway}`},[e("td",qu,n(o.organizer?.name),1),e("td",Gu,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.getGatewayBadgeClass(o.gateway)])},n(s.getGatewayName(o.gateway)),3)]),e("td",Xu,n(s.formatAmount(o.balance))+" XAF",1),e("td",Ju,[e("span",{class:I(["inline-flex px-2 py-1 text-xs rounded-full",o.auto_payout_enabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(o.auto_payout_enabled?"Activé":"Désactivé"),3)]),e("td",Yu,n(s.formatAmount(o.auto_payout_threshold))+" XAF",1),e("td",Wu,n(o.payout_phone_number||"-"),1),e("td",Qu,[e("button",{onClick:r=>s.editBalance(o),class:"text-blue-600 hover:text-blue-900"}," Modifier ",8,Zu)])]))),128))])])]))]),s.showConfigModal?(l(),a("div",Ku,[e("div",e0,[e("h3",t0,"Configuration Payout - "+n(s.editingBalance?.organizer?.name),1),e("form",{onSubmit:t[9]||(t[9]=ae((...o)=>s.saveConfiguration&&s.saveConfiguration(...o),["prevent"]))},[e("div",s0,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Gateway",-1)),e("input",{value:s.getGatewayName(s.editingBalance?.gateway),disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,o0)]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Solde Actuel",-1)),e("input",{value:s.formatAmount(s.editingBalance?.balance)+" XAF",disabled:"",class:"w-full border rounded-lg px-3 py-2 bg-gray-100"},null,8,n0)]),e("div",null,[e("label",a0,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=o=>s.configForm.auto_payout_enabled=o),class:"rounded border-gray-300"},null,512),[[Q,s.configForm.auto_payout_enabled]]),t[28]||(t[28]=e("span",{class:"text-sm font-medium text-gray-700"},"Activer le payout automatique",-1))])]),s.configForm.auto_payout_enabled?(l(),a("div",l0,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Seuil de payout (XAF)",-1)),i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.configForm.auto_payout_threshold=o),type:"number",min:"1000",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.configForm.auto_payout_threshold,void 0,{number:!0}]]),t[30]||(t[30]=e("p",{class:"text-xs text-gray-500 mt-1"},"Montant minimum pour déclencher un payout automatique",-1))])):C("",!0),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Numéro de téléphone",-1)),i(e("input",{"onUpdate:modelValue":t[7]||(t[7]=o=>s.configForm.payout_phone_number=o),type:"tel",maxlength:"9",pattern:"[0-9]{9}",placeholder:"074123456",class:"w-full border rounded-lg px-3 py-2"},null,512),[[j,s.configForm.payout_phone_number]]),t[32]||(t[32]=e("p",{class:"text-xs text-gray-500 mt-1"},"Numéro pour recevoir les payouts (sans indicatif)",-1))])]),e("div",r0,[e("button",{type:"button",onClick:t[8]||(t[8]=o=>s.showConfigModal=!1),class:"px-4 py-2 text-gray-600 hover:text-gray-800"}," Annuler "),e("button",{type:"submit",disabled:s.savingConfig,class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50"},n(s.savingConfig?"Enregistrement...":"Enregistrer"),9,i0)])],32)])])):C("",!0)])}const c0=Z(bu,[["render",d0],["__scopeId","data-v-4c3e0ab1"]]),Qp=Object.freeze(Object.defineProperty({__proto__:null,default:c0},Symbol.toStringTag,{value:"Module"})),u0={name:"Reports",setup(){const v=u(!1),t=u(!1),g=u([]),s=u(""),p=q({start:new Date().toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),h=q({total_revenue:0,total_tickets:0,active_events:0,active_users:0}),o=async()=>{v.value=!0;try{const f=new URLSearchParams({start_date:p.start,end_date:p.end}),c=await fetch(`/api/v1/admin/reports?${f}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}});if(c.ok){const _=await c.json();_.success&&(g.value=_.data.reports,Object.assign(h,_.data.stats))}else r()}catch{console.log("API non disponible, utilisation des données simulées"),r()}finally{v.value=!1}},r=()=>{g.value=[{id:1,type:"financial",period:"Septembre 2025",created_at:new Date,file_size:"2.3 MB",format:"PDF",status:"ready",download_url:"/reports/financial-sep-2025.pdf"},{id:2,type:"events",period:"Août 2025",created_at:new Date(Date.now()-864e5),file_size:"1.8 MB",format:"Excel",status:"ready",download_url:"/reports/events-aug-2025.xlsx"},{id:3,type:"users",period:"Juillet 2025",created_at:new Date(Date.now()-1728e5),file_size:"980 KB",format:"PDF",status:"ready",download_url:"/reports/users-jul-2025.pdf"}],Object.assign(h,{total_revenue:125e5,total_tickets:3420,active_events:28,active_users:1875})},k=async f=>{t.value=!0;try{const c=await fetch("/api/v1/admin/reports/generate",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({type:f,start_date:p.start,end_date:p.end})});if(c.ok){const _=await c.json();_.success&&g.value.unshift(_.data.report)}else{const _={id:Date.now(),type:f,period:`${new Date(p.start).toLocaleDateString("fr-FR")} - ${new Date(p.end).toLocaleDateString("fr-FR")}`,created_at:new Date,file_size:"1.2 MB",format:"PDF",status:"ready",download_url:`/reports/${f}-${Date.now()}.pdf`};g.value.unshift(_)}}catch{console.log("API non disponible, génération simulée");const _={id:Date.now(),type:f,period:`${new Date(p.start).toLocaleDateString("fr-FR")} - ${new Date(p.end).toLocaleDateString("fr-FR")}`,created_at:new Date,file_size:"1.2 MB",format:"PDF",status:"ready",download_url:`/reports/${f}-${Date.now()}.pdf`};g.value.unshift(_)}finally{t.value=!1}},O=async f=>{try{const c=await fetch(`/api/v1/admin/reports/${f.id}/download`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(c.ok){const _=await c.blob(),F=window.URL.createObjectURL(_),J=document.createElement("a");J.href=F,J.download=`rapport-${f.type}-${f.id}.pdf`,document.body.appendChild(J),J.click(),window.URL.revokeObjectURL(F),document.body.removeChild(J)}else alert("Téléchargement simulé du rapport: "+f.type)}catch{alert("Téléchargement simulé du rapport: "+f.type)}},M=async f=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce rapport ?"))try{(await fetch(`/api/v1/admin/reports/${f.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).ok?g.value=g.value.filter(_=>_.id!==f.id):g.value=g.value.filter(_=>_.id!==f.id)}catch{g.value=g.value.filter(_=>_.id!==f.id)}},S=async()=>{if(confirm("Êtes-vous sûr de vouloir vider tout l'historique des rapports ?"))try{(await fetch("/api/v1/admin/reports/clear",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).ok?g.value=[]:g.value=[]}catch{g.value=[]}},U=()=>{const f=new Date,c={today:{start:f,end:f},week:{start:new Date(f.getTime()-10080*60*1e3),end:f},month:{start:new Date(f.getFullYear(),f.getMonth(),1),end:f},quarter:{start:new Date(f.getFullYear(),Math.floor(f.getMonth()/3)*3,1),end:f},year:{start:new Date(f.getFullYear(),0,1),end:f}};if(c[s.value]){const _=c[s.value];p.start=_.start.toISOString().split("T")[0],p.end=_.end.toISOString().split("T")[0]}},b=()=>{o()},R=f=>new Intl.NumberFormat("fr-FR").format(f),d=f=>new Date(f).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),x=f=>({financial:"Rapport Financier",events:"Rapport Événements",users:"Rapport Utilisateurs",performance:"Rapport Performance"})[f]||f,w=f=>({financial:"bg-blue-100 text-blue-600",events:"bg-yellow-100 text-yellow-600",users:"bg-green-100 text-green-600",performance:"bg-purple-100 text-purple-600"})[f]||"bg-gray-100 text-gray-600";return te(()=>{const f=new Date,c=new Date(f.getFullYear(),f.getMonth(),1);p.start=c.toISOString().split("T")[0],p.end=f.toISOString().split("T")[0],o()}),{loading:v,generating:t,reports:g,selectedPeriod:s,dateRange:p,stats:h,loadReports:o,generateReport:k,downloadReport:O,deleteReport:M,clearHistory:S,setPredefinedPeriod:U,refreshReports:b,formatAmount:R,formatDateTime:d,getReportTypeName:x,getReportTypeClass:w}}},m0={class:"reports-management p-6"},g0={class:"bg-white rounded-lg shadow p-4 mb-6"},p0={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},x0={class:"flex items-end"},f0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},b0={class:"bg-white rounded-lg shadow p-6 text-center"},y0={class:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{"background-color":"rgba(39, 45, 99, 0.1)"}},v0={class:"w-8 h-8",style:{color:"#272d63"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},h0=["disabled"],w0={class:"bg-white rounded-lg shadow p-6 text-center"},_0={class:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center",style:{"background-color":"rgba(250, 181, 17, 0.1)"}},k0={class:"w-8 h-8",style:{color:"#fab511"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},C0=["disabled"],M0={class:"bg-white rounded-lg shadow p-6 text-center"},j0=["disabled"],S0={class:"bg-white rounded-lg shadow p-6 text-center"},A0=["disabled"],P0={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},z0={class:"bg-white rounded-lg shadow p-4"},O0={class:"flex items-center"},U0={class:"p-2 rounded-lg",style:{"background-color":"rgba(39, 45, 99, 0.1)"}},D0={class:"w-6 h-6",style:{color:"#272d63"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T0={class:"ml-4"},V0={class:"text-xl font-bold",style:{color:"#272d63"}},F0={class:"bg-white rounded-lg shadow p-4"},B0={class:"flex items-center"},$0={class:"p-2 rounded-lg",style:{"background-color":"rgba(250, 181, 17, 0.1)"}},E0={class:"w-6 h-6",style:{color:"#fab511"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},I0={class:"ml-4"},R0={class:"text-xl font-bold",style:{color:"#fab511"}},L0={class:"bg-white rounded-lg shadow p-4"},N0={class:"flex items-center"},H0={class:"ml-4"},q0={class:"text-xl font-bold text-green-600"},G0={class:"bg-white rounded-lg shadow p-4"},X0={class:"flex items-center"},J0={class:"ml-4"},Y0={class:"text-xl font-bold text-purple-600"},W0={class:"bg-white rounded-lg shadow overflow-hidden"},Q0={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},Z0={key:0,class:"p-8 text-center"},K0={key:1,class:"p-8 text-center"},em={key:2,class:"overflow-x-auto"},tm={class:"w-full"},sm={class:"divide-y divide-gray-200"},om={class:"px-6 py-4"},nm={class:"flex items-center"},am={class:"text-sm font-medium text-gray-900"},lm={class:"text-sm text-gray-500"},rm={class:"px-6 py-4 text-sm text-gray-900"},im={class:"px-6 py-4 text-sm text-gray-500"},dm={class:"px-6 py-4 text-sm text-gray-500"},cm={class:"px-6 py-4"},um={class:"px-6 py-4"},mm={class:"flex space-x-2"},gm=["onClick"],pm=["onClick"];function xm(v,t,g,s,p,h){return l(),a("div",m0,[t[43]||(t[43]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl font-bold mb-2",style:{color:"#272d63"}},"Rapports et Analyses"),e("p",{class:"text-gray-600"},"Générez et consultez les rapports de performance de la plateforme")],-1)),e("div",g0,[e("div",p0,[e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de début",-1)),i(e("input",{type:"date","onUpdate:modelValue":t[0]||(t[0]=o=>s.dateRange.start=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.dateRange.start]])]),e("div",null,[t[19]||(t[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Date de fin",-1)),i(e("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=o=>s.dateRange.end=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.dateRange.end]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Période prédéfinie",-1)),i(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.selectedPeriod=o),onChange:t[3]||(t[3]=(...o)=>s.setPredefinedPeriod&&s.setPredefinedPeriod(...o)),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},[...t[20]||(t[20]=[le('<option value="" data-v-85b3fcbb>Personnalisée</option><option value="today" data-v-85b3fcbb>Aujourd&#39;hui</option><option value="week" data-v-85b3fcbb>Cette semaine</option><option value="month" data-v-85b3fcbb>Ce mois</option><option value="quarter" data-v-85b3fcbb>Ce trimestre</option><option value="year" data-v-85b3fcbb>Cette année</option>',6)])],544),[[B,s.selectedPeriod]])]),e("div",x0,[e("button",{onClick:t[4]||(t[4]=(...o)=>s.refreshReports&&s.refreshReports(...o)),class:"w-full text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#fab511"},onMouseover:t[5]||(t[5]=o=>o.currentTarget.style.backgroundColor="#272d63"),onMouseleave:t[6]||(t[6]=o=>o.currentTarget.style.backgroundColor="#fab511")}," Actualiser ",32)])])]),e("div",f0,[e("div",b0,[e("div",y0,[(l(),a("svg",v0,[...t[22]||(t[22]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"},null,-1)])]))]),t[23]||(t[23]=e("h3",{class:"text-lg font-semibold mb-2",style:{color:"#272d63"}},"Rapport Financier",-1)),t[24]||(t[24]=e("p",{class:"text-gray-600 text-sm mb-4"},"Revenus, commissions, paiements et remboursements",-1)),e("button",{onClick:t[7]||(t[7]=o=>s.generateReport("financial")),disabled:s.generating,class:"w-full text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#272d63"},onMouseover:t[8]||(t[8]=o=>o.currentTarget.style.backgroundColor="#fab511"),onMouseleave:t[9]||(t[9]=o=>o.currentTarget.style.backgroundColor="#272d63")},n(s.generating?"Génération...":"Générer"),41,h0)]),e("div",w0,[e("div",_0,[(l(),a("svg",k0,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))]),t[26]||(t[26]=e("h3",{class:"text-lg font-semibold mb-2",style:{color:"#272d63"}},"Rapport Événements",-1)),t[27]||(t[27]=e("p",{class:"text-gray-600 text-sm mb-4"},"Performances, ventes de tickets et tendances",-1)),e("button",{onClick:t[10]||(t[10]=o=>s.generateReport("events")),disabled:s.generating,class:"w-full text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#fab511"},onMouseover:t[11]||(t[11]=o=>o.currentTarget.style.backgroundColor="#272d63"),onMouseleave:t[12]||(t[12]=o=>o.currentTarget.style.backgroundColor="#fab511")},n(s.generating?"Génération...":"Générer"),41,C0)]),e("div",M0,[t[28]||(t[28]=le('<div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-green-100" data-v-85b3fcbb><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-85b3fcbb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z" data-v-85b3fcbb></path></svg></div><h3 class="text-lg font-semibold mb-2" style="color:#272d63;" data-v-85b3fcbb>Rapport Utilisateurs</h3><p class="text-gray-600 text-sm mb-4" data-v-85b3fcbb>Croissance, activité et segments d&#39;utilisateurs</p>',3)),e("button",{onClick:t[13]||(t[13]=o=>s.generateReport("users")),disabled:s.generating,class:"w-full bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200"},n(s.generating?"Génération...":"Générer"),9,j0)]),e("div",S0,[t[29]||(t[29]=le('<div class="w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center bg-purple-100" data-v-85b3fcbb><svg class="w-8 h-8 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-85b3fcbb><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" data-v-85b3fcbb></path></svg></div><h3 class="text-lg font-semibold mb-2" style="color:#272d63;" data-v-85b3fcbb>Rapport Performance</h3><p class="text-gray-600 text-sm mb-4" data-v-85b3fcbb>Métriques de performance de la plateforme</p>',3)),e("button",{onClick:t[14]||(t[14]=o=>s.generateReport("performance")),disabled:s.generating,class:"w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200"},n(s.generating?"Génération...":"Générer"),9,A0)])]),e("div",P0,[e("div",z0,[e("div",O0,[e("div",U0,[(l(),a("svg",D0,[...t[30]||(t[30]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"},null,-1)])]))]),e("div",T0,[t[31]||(t[31]=e("p",{class:"text-sm text-gray-600"},"Revenus Total",-1)),e("p",V0,n(s.formatAmount(s.stats.total_revenue))+" XAF",1)])])]),e("div",F0,[e("div",B0,[e("div",$0,[(l(),a("svg",E0,[...t[32]||(t[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"},null,-1)])]))]),e("div",I0,[t[33]||(t[33]=e("p",{class:"text-sm text-gray-600"},"Tickets Vendus",-1)),e("p",R0,n(s.stats.total_tickets),1)])])]),e("div",L0,[e("div",N0,[t[35]||(t[35]=e("div",{class:"p-2 bg-green-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",H0,[t[34]||(t[34]=e("p",{class:"text-sm text-gray-600"},"Événements Actifs",-1)),e("p",q0,n(s.stats.active_events),1)])])]),e("div",G0,[e("div",X0,[t[37]||(t[37]=e("div",{class:"p-2 bg-purple-100 rounded-lg"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1)),e("div",J0,[t[36]||(t[36]=e("p",{class:"text-sm text-gray-600"},"Utilisateurs Actifs",-1)),e("p",Y0,n(s.stats.active_users),1)])])])]),e("div",W0,[e("div",Q0,[t[38]||(t[38]=e("h3",{class:"text-lg font-semibold",style:{color:"#272d63"}},"Historique des Rapports",-1)),e("button",{onClick:t[15]||(t[15]=(...o)=>s.clearHistory&&s.clearHistory(...o)),class:"text-sm text-red-600 hover:text-red-800 px-3 py-1 bg-red-100 hover:bg-red-200 rounded transition-colors duration-200"}," Vider l'historique ")]),s.loading?(l(),a("div",Z0,[...t[39]||(t[39]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto",style:{"border-color":"#272d63"}},null,-1),e("p",{class:"mt-2 text-gray-600"},"Chargement...",-1)])])):s.reports.length===0?(l(),a("div",K0,[...t[40]||(t[40]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Aucun rapport",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Commencez par générer votre premier rapport.",-1)])])):(l(),a("div",em,[e("table",tm,[t[42]||(t[42]=e("thead",{style:{"background-color":"#f8f9fa"}},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Type"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Période"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Généré le"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Taille"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",sm,[(l(!0),a(T,null,V(s.reports,o=>(l(),a("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",om,[e("div",nm,[e("div",{class:I(["w-8 h-8 rounded-full flex items-center justify-center mr-3",s.getReportTypeClass(o.type)])},[...t[41]||(t[41]=[e("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z","clip-rule":"evenodd"})],-1)])],2),e("div",null,[e("p",am,n(s.getReportTypeName(o.type)),1),e("p",lm,n(o.format),1)])])]),e("td",rm,n(o.period),1),e("td",im,n(s.formatDateTime(o.created_at)),1),e("td",dm,n(o.file_size),1),e("td",cm,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.status==="ready"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},n(o.status==="ready"?"Prêt":"En cours"),3)]),e("td",um,[e("div",mm,[o.status==="ready"?(l(),a("button",{key:0,onClick:r=>s.downloadReport(o),class:"text-sm px-3 py-1 rounded transition-colors duration-200",style:{color:"#272d63","background-color":"rgba(39, 45, 99, 0.1)"},onMouseover:t[16]||(t[16]=r=>{r.currentTarget.style.backgroundColor="#fab511",r.currentTarget.style.color="#fff"}),onMouseleave:t[17]||(t[17]=r=>{r.currentTarget.style.backgroundColor="rgba(39, 45, 99, 0.1)",r.currentTarget.style.color="#272d63"})}," Télécharger ",40,gm)):C("",!0),e("button",{onClick:r=>s.deleteReport(o),class:"text-sm text-red-600 hover:text-red-800 px-3 py-1 bg-red-100 hover:bg-red-200 rounded transition-colors duration-200"}," Supprimer ",8,pm)])])]))),128))])])]))])])}const fm=Z(u0,[["render",xm],["__scopeId","data-v-85b3fcbb"]]),Zp=Object.freeze(Object.defineProperty({__proto__:null,default:fm},Symbol.toStringTag,{value:"Module"})),bm={name:"AdminSettings",components:{HomeIcon:pe,UsersIcon:ge,CalendarIcon:xe,CreditCardIcon:me,ChartBarIcon:ue,CogIcon:ce},setup(){const v=u(window.innerWidth>=1024),t=u({platformName:"Primea Ticketing",siteUrl:"https://primea.ga",contactEmail:"admin@primea.ga",timezone:"Africa/Libreville",paymentMethods:{airtel:!0,moov:!0,cards:!0},notifications:{email:!0,sms:!1,push:!0},maintenanceMode:!1});return{sidebarOpen:v,settings:t,saveSettings:()=>{console.log("Saving settings:",t.value)},resetSettings:()=>{t.value={platformName:"Primea Ticketing",siteUrl:"https://primea.ga",contactEmail:"admin@primea.ga",timezone:"Africa/Libreville",paymentMethods:{airtel:!0,moov:!0,cards:!0},notifications:{email:!0,sms:!1,push:!0},maintenanceMode:!1}}}}},ym={class:"admin-settings min-h-screen bg-gray-100 font-primea"},vm={class:"mt-6"},hm={class:"px-4"},wm={class:"lg:ml-64 transition-all duration-300"},_m={class:"p-6"},km={class:"max-w-4xl mx-auto space-y-6"},Cm={class:"bg-white rounded-lg shadow-sm p-6"},Mm={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},jm={class:"bg-white rounded-lg shadow-sm p-6"},Sm={class:"space-y-4"},Am={class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},Pm={class:"flex items-center"},zm={class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},Om={class:"flex items-center"},Um={class:"flex items-center justify-between p-4 border border-gray-200 rounded-lg"},Dm={class:"flex items-center"},Tm={class:"bg-white rounded-lg shadow-sm p-6"},Vm={class:"space-y-4"},Fm={class:"flex items-center"},Bm={class:"flex items-center"},$m={class:"flex items-center"},Em={class:"bg-white rounded-lg shadow-sm p-6"},Im={class:"flex items-center justify-between"},Rm={class:"flex items-center"},Lm={class:"flex justify-end space-x-4"};function Nm(v,t,g,s,p,h){const o=W("HomeIcon"),r=W("router-link"),k=W("UsersIcon"),O=W("CalendarIcon"),M=W("CreditCardIcon"),S=W("ChartBarIcon"),U=W("CogIcon");return l(),a("div",ym,[e("div",{class:I(["fixed inset-y-0 left-0 w-64 bg-primea-blue text-white z-30",{"-translate-x-full":!s.sidebarOpen,"translate-x-0":s.sidebarOpen}])},[t[19]||(t[19]=e("div",{class:"flex items-center justify-between p-4 border-b border-primea-blue-dark"},[e("div",{class:"flex items-center space-x-3"},[e("img",{src:"/images/logo_white.png",alt:"Primea",class:"h-8"}),e("span",{class:"font-bold text-lg font-primea"},"Administration")])],-1)),e("nav",vm,[e("div",hm,[N(r,{to:"/admin/dashboard",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(o,{class:"w-5 h-5 mr-3"}),t[13]||(t[13]=H("Tableau de bord",-1))]),_:1}),N(r,{to:"/admin/users",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(k,{class:"w-5 h-5 mr-3"}),t[14]||(t[14]=H("Utilisateurs",-1))]),_:1}),N(r,{to:"/admin/events",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(O,{class:"w-5 h-5 mr-3"}),t[15]||(t[15]=H("Événements",-1))]),_:1}),N(r,{to:"/admin/transactions",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(M,{class:"w-5 h-5 mr-3"}),t[16]||(t[16]=H("Transactions",-1))]),_:1}),N(r,{to:"/admin/reports",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(S,{class:"w-5 h-5 mr-3"}),t[17]||(t[17]=H("Rapports",-1))]),_:1}),N(r,{to:"/admin/settings",class:"flex items-center px-4 py-3 text-white bg-primea-yellow text-primea-blue rounded-primea-lg mb-2 font-primea font-semibold"},{default:ee(()=>[N(U,{class:"w-5 h-5 mr-3"}),t[18]||(t[18]=H("Paramètres",-1))]),_:1})])])],2),e("div",wm,[t[40]||(t[40]=e("header",{class:"bg-white shadow-sm border-b border-gray-200"},[e("div",{class:"px-6 py-4"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Paramètres système")])],-1)),e("main",_m,[e("div",km,[e("div",Cm,[t[25]||(t[25]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Configuration générale",-1)),e("div",Mm,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom de la plateforme",-1)),i(e("input",{"onUpdate:modelValue":t[0]||(t[0]=b=>s.settings.platformName=b),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.settings.platformName]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"URL du site",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=b=>s.settings.siteUrl=b),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.settings.siteUrl]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email de contact",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=b=>s.settings.contactEmail=b),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.settings.contactEmail]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Fuseau horaire",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=b=>s.settings.timezone=b),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},[...t[23]||(t[23]=[e("option",{value:"Africa/Libreville"},"Africa/Libreville (GMT+0)",-1),e("option",{value:"Europe/Paris"},"Europe/Paris (GMT+1)",-1)])],512),[[B,s.settings.timezone]])])])]),e("div",jm,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Moyens de paiement",-1)),e("div",Sm,[e("div",Am,[t[27]||(t[27]=e("div",{class:"flex items-center"},[e("img",{src:"/images/am.png",alt:"Airtel Money",class:"h-8 w-12 mr-3"}),e("div",null,[e("h4",{class:"font-medium"},"Airtel Money"),e("p",{class:"text-sm text-gray-600"},"Paiements mobile Airtel")])],-1)),e("label",Pm,[i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=b=>s.settings.paymentMethods.airtel=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.paymentMethods.airtel]]),t[26]||(t[26]=e("span",{class:"ml-2 text-sm"},"Actif",-1))])]),e("div",zm,[t[29]||(t[29]=e("div",{class:"flex items-center"},[e("img",{src:"/images/mm.png",alt:"Moov Money",class:"h-8 w-12 mr-3"}),e("div",null,[e("h4",{class:"font-medium"},"Moov Money"),e("p",{class:"text-sm text-gray-600"},"Paiements mobile Moov")])],-1)),e("label",Om,[i(e("input",{"onUpdate:modelValue":t[5]||(t[5]=b=>s.settings.paymentMethods.moov=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.paymentMethods.moov]]),t[28]||(t[28]=e("span",{class:"ml-2 text-sm"},"Actif",-1))])]),e("div",Um,[t[31]||(t[31]=e("div",{class:"flex items-center"},[e("img",{src:"/images/vm.png",alt:"Visa",class:"h-8 w-12 mr-3"}),e("div",null,[e("h4",{class:"font-medium"},"Cartes bancaires"),e("p",{class:"text-sm text-gray-600"},"Visa, Mastercard")])],-1)),e("label",Dm,[i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=b=>s.settings.paymentMethods.cards=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.paymentMethods.cards]]),t[30]||(t[30]=e("span",{class:"ml-2 text-sm"},"Actif",-1))])])])]),e("div",Tm,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Notifications",-1)),e("div",Vm,[e("label",Fm,[i(e("input",{"onUpdate:modelValue":t[7]||(t[7]=b=>s.settings.notifications.email=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.notifications.email]]),t[33]||(t[33]=e("span",{class:"ml-3"},"Notifications par email",-1))]),e("label",Bm,[i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=b=>s.settings.notifications.sms=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.notifications.sms]]),t[34]||(t[34]=e("span",{class:"ml-3"},"Notifications par SMS",-1))]),e("label",$m,[i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=b=>s.settings.notifications.push=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.notifications.push]]),t[35]||(t[35]=e("span",{class:"ml-3"},"Notifications push",-1))])])]),e("div",Em,[t[39]||(t[39]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Mode maintenance",-1)),e("div",Im,[t[38]||(t[38]=e("div",null,[e("h4",{class:"font-medium"},"Activer le mode maintenance"),e("p",{class:"text-sm text-gray-600"},"Le site sera temporairement indisponible pour les utilisateurs")],-1)),e("label",Rm,[i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=b=>s.settings.maintenanceMode=b),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.settings.maintenanceMode]]),t[37]||(t[37]=e("span",{class:"ml-2 text-sm"},"Activé",-1))])])]),e("div",Lm,[e("button",{onClick:t[11]||(t[11]=(...b)=>s.resetSettings&&s.resetSettings(...b)),class:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"}," Réinitialiser "),e("button",{onClick:t[12]||(t[12]=(...b)=>s.saveSettings&&s.saveSettings(...b)),class:"px-6 py-2 bg-primea-blue text-white rounded-lg hover:bg-primea-yellow hover:text-primea-blue transition-all"}," Sauvegarder ")])])])])])}const Hm=Z(bm,[["render",Nm],["__scopeId","data-v-7db36a4d"]]),Kp=Object.freeze(Object.defineProperty({__proto__:null,default:Hm},Symbol.toStringTag,{value:"Module"})),qm={name:"AdminProfile",components:{HomeIcon:pe,UsersIcon:ge,CalendarIcon:xe,CreditCardIcon:me,ChartBarIcon:ue,CogIcon:ce,CameraIcon:ye,ComputerDesktopIcon:be},setup(){const v=u(window.innerWidth>=1024),t=u({name:"Admin Primea",first_name:"Admin",last_name:"Primea",email:"admin@primea.ga",phone:"+241 07 12 34 56 78",role:"Super Administrateur",avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop&crop=face&auto=format",created_at:new Date("2023-01-15"),preferences:{email_notifications:!0,two_factor:!1,language:"fr"}}),g=u({current:"",new:"",confirm:""}),s=u([{id:1,device:"Chrome sur Windows",location:"Libreville, Gabon",last_activity:new Date,current:!0},{id:2,device:"Safari sur iPhone",location:"Libreville, Gabon",last_activity:new Date(Date.now()-7200*1e3),current:!1}]);return{sidebarOpen:v,profile:t,passwordForm:g,activeSessions:s,formatDate:S=>S.toLocaleDateString("fr-FR",{year:"numeric",month:"long"}),formatRelativeTime:S=>{const b=Math.floor((new Date-S)/(1e3*60)),R=Math.floor(b/60);return b<5?"À l'instant":b<60?`Il y a ${b} minutes`:R<24?`Il y a ${R} heures`:S.toLocaleDateString("fr-FR")},changeAvatar:()=>{console.log("Change avatar")},updateProfile:()=>{console.log("Update profile:",t.value)},changePassword:()=>{if(g.value.new!==g.value.confirm){alert("Les mots de passe ne correspondent pas");return}console.log("Change password"),g.value={current:"",new:"",confirm:""}},updatePreferences:()=>{console.log("Update preferences:",t.value.preferences)},revokeSession:S=>{console.log("Revoke session:",S),s.value=s.value.filter(U=>U.id!==S.id)}}}},Gm={class:"admin-profile min-h-screen bg-gray-100 font-primea"},Xm={class:"mt-6"},Jm={class:"px-4"},Ym={class:"lg:ml-64 transition-all duration-300"},Wm={class:"p-6"},Qm={class:"max-w-4xl mx-auto space-y-6"},Zm={class:"bg-white rounded-lg shadow-sm p-6"},Km={class:"flex items-center space-x-6"},eg={class:"relative"},tg=["src"],sg={class:"text-lg font-semibold text-primea-blue"},og={class:"text-gray-600"},ng={class:"text-sm text-gray-500"},ag={class:"bg-white rounded-lg shadow-sm p-6"},lg={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},rg={class:"bg-white rounded-lg shadow-sm p-6"},ig={class:"bg-white rounded-lg shadow-sm p-6"},dg={class:"space-y-4"},cg={class:"flex items-center justify-between"},ug={class:"flex items-center"},mg={class:"flex items-center justify-between"},gg={class:"flex items-center"},pg={class:"flex justify-end"},xg={class:"bg-white rounded-lg shadow-sm p-6"},fg={class:"space-y-3"},bg={class:"flex items-center"},yg={class:"bg-primea-blue p-2 rounded-full mr-3"},vg={class:"font-medium"},hg={class:"text-sm text-gray-600"},wg={class:"flex items-center space-x-2"},_g={key:0,class:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full"},kg=["onClick"];function Cg(v,t,g,s,p,h){const o=W("HomeIcon"),r=W("router-link"),k=W("UsersIcon"),O=W("CalendarIcon"),M=W("CreditCardIcon"),S=W("ChartBarIcon"),U=W("CogIcon"),b=W("CameraIcon"),R=W("ComputerDesktopIcon");return l(),a("div",Gm,[e("div",{class:I(["fixed inset-y-0 left-0 w-64 bg-primea-blue text-white z-30",{"-translate-x-full":!s.sidebarOpen,"translate-x-0":s.sidebarOpen}])},[t[20]||(t[20]=e("div",{class:"flex items-center justify-between p-4 border-b border-primea-blue-dark"},[e("div",{class:"flex items-center space-x-3"},[e("img",{src:"/images/logo_white.png",alt:"Primea",class:"h-8"}),e("span",{class:"font-bold text-lg font-primea"},"Administration")])],-1)),e("nav",Xm,[e("div",Jm,[N(r,{to:"/admin/dashboard",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(o,{class:"w-5 h-5 mr-3"}),t[14]||(t[14]=H("Tableau de bord",-1))]),_:1}),N(r,{to:"/admin/users",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(k,{class:"w-5 h-5 mr-3"}),t[15]||(t[15]=H("Utilisateurs",-1))]),_:1}),N(r,{to:"/admin/events",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(O,{class:"w-5 h-5 mr-3"}),t[16]||(t[16]=H("Événements",-1))]),_:1}),N(r,{to:"/admin/transactions",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(M,{class:"w-5 h-5 mr-3"}),t[17]||(t[17]=H("Transactions",-1))]),_:1}),N(r,{to:"/admin/reports",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(S,{class:"w-5 h-5 mr-3"}),t[18]||(t[18]=H("Rapports",-1))]),_:1}),N(r,{to:"/admin/settings",class:"flex items-center px-4 py-3 text-blue-200 hover:bg-primea-yellow hover:text-primea-blue rounded-primea-lg mb-2 transition-colors font-primea"},{default:ee(()=>[N(U,{class:"w-5 h-5 mr-3"}),t[19]||(t[19]=H("Paramètres",-1))]),_:1})])])],2),e("div",Ym,[t[38]||(t[38]=e("header",{class:"bg-white shadow-sm border-b border-gray-200"},[e("div",{class:"px-6 py-4"},[e("h1",{class:"text-2xl font-bold text-primea-blue font-primea"},"Mon profil administrateur")])],-1)),e("main",Wm,[e("div",Qm,[e("div",Zm,[e("div",Km,[e("div",eg,[e("img",{src:s.profile.avatar,alt:"Avatar",class:"w-20 h-20 rounded-full object-cover"},null,8,tg),e("button",{onClick:t[0]||(t[0]=(...d)=>s.changeAvatar&&s.changeAvatar(...d)),class:"absolute bottom-0 right-0 bg-primea-blue text-white p-2 rounded-full hover:bg-primea-yellow hover:text-primea-blue transition-all"},[N(b,{class:"w-4 h-4"})])]),e("div",null,[e("h3",sg,n(s.profile.name),1),e("p",og,n(s.profile.role),1),e("p",ng,"Membre depuis "+n(s.formatDate(s.profile.created_at)),1)])])]),e("div",ag,[t[26]||(t[26]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Informations personnelles",-1)),e("form",{onSubmit:t[5]||(t[5]=ae((...d)=>s.updateProfile&&s.updateProfile(...d),["prevent"])),class:"space-y-4"},[e("div",lg,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Prénom",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=d=>s.profile.first_name=d),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.profile.first_name]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>s.profile.last_name=d),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.profile.last_name]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),i(e("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>s.profile.email=d),type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.profile.email]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>s.profile.phone=d),type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.profile.phone]])])]),t[25]||(t[25]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-6 py-2 bg-primea-blue text-white rounded-lg hover:bg-primea-yellow hover:text-primea-blue transition-all"}," Mettre à jour ")],-1))],32)]),e("div",rg,[t[31]||(t[31]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Changer le mot de passe",-1)),e("form",{onSubmit:t[9]||(t[9]=ae((...d)=>s.changePassword&&s.changePassword(...d),["prevent"])),class:"space-y-4"},[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Mot de passe actuel",-1)),i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=d=>s.passwordForm.current=d),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.passwordForm.current]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nouveau mot de passe",-1)),i(e("input",{"onUpdate:modelValue":t[7]||(t[7]=d=>s.passwordForm.new=d),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.passwordForm.new]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Confirmer le nouveau mot de passe",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=d=>s.passwordForm.confirm=d),type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},null,512),[[j,s.passwordForm.confirm]])]),t[30]||(t[30]=e("div",{class:"flex justify-end"},[e("button",{type:"submit",class:"px-6 py-2 bg-primea-blue text-white rounded-lg hover:bg-primea-yellow hover:text-primea-blue transition-all"}," Changer le mot de passe ")],-1))],32)]),e("div",ig,[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Préférences",-1)),e("div",dg,[e("div",cg,[t[32]||(t[32]=e("div",null,[e("h4",{class:"font-medium"},"Notifications email"),e("p",{class:"text-sm text-gray-600"},"Recevoir les notifications par email")],-1)),e("label",ug,[i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=d=>s.profile.preferences.email_notifications=d),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.profile.preferences.email_notifications]])])]),e("div",mg,[t[33]||(t[33]=e("div",null,[e("h4",{class:"font-medium"},"Authentification à deux facteurs"),e("p",{class:"text-sm text-gray-600"},"Sécurité renforcée pour votre compte")],-1)),e("label",gg,[i(e("input",{"onUpdate:modelValue":t[11]||(t[11]=d=>s.profile.preferences.two_factor=d),type:"checkbox",class:"form-checkbox h-5 w-5 text-primea-blue"},null,512),[[Q,s.profile.preferences.two_factor]])])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Langue",-1)),i(e("select",{"onUpdate:modelValue":t[12]||(t[12]=d=>s.profile.preferences.language=d),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-primea-blue focus:border-primea-blue"},[...t[34]||(t[34]=[e("option",{value:"fr"},"Français",-1),e("option",{value:"en"},"English",-1)])],512),[[B,s.profile.preferences.language]])]),e("div",pg,[e("button",{onClick:t[13]||(t[13]=(...d)=>s.updatePreferences&&s.updatePreferences(...d)),class:"px-6 py-2 bg-primea-blue text-white rounded-lg hover:bg-primea-yellow hover:text-primea-blue transition-all"}," Sauvegarder les préférences ")])])]),e("div",xg,[t[37]||(t[37]=e("h3",{class:"text-lg font-semibold text-primea-blue mb-4"},"Sessions actives",-1)),e("div",fg,[(l(!0),a(T,null,V(s.activeSessions,d=>(l(),a("div",{key:d.id,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},[e("div",bg,[e("div",yg,[N(R,{class:"w-4 h-4 text-white"})]),e("div",null,[e("p",vg,n(d.device),1),e("p",hg,n(d.location)+" - "+n(s.formatRelativeTime(d.last_activity)),1)])]),e("div",wg,[d.current?(l(),a("span",_g,"Session actuelle")):(l(),a("button",{key:1,onClick:x=>s.revokeSession(d),class:"text-red-600 hover:text-red-800 text-sm"},"Révoquer",8,kg))])]))),128))])])])])])])}const Mg=Z(qm,[["render",Cg],["__scopeId","data-v-549aaa0e"]]),e1=Object.freeze(Object.defineProperty({__proto__:null,default:Mg},Symbol.toStringTag,{value:"Module"})),jg={name:"CategoryManagement",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u([]),p=u(null),h=q({search:"",status:""}),o=q({name:"",description:"",color:"#272d63",status:"active"}),r=q({current_page:1,per_page:10,total:0,from:0,to:0}),k=re(()=>{let c=s.value;return h.search&&(c=c.filter(_=>_.name.toLowerCase().includes(h.search.toLowerCase())||_.description?.toLowerCase().includes(h.search.toLowerCase()))),h.status&&(c=c.filter(_=>_.status===h.status)),c}),O=re(()=>{const c=[],_=Math.ceil(r.total/r.per_page);for(let F=1;F<=_;F++)c.push(F);return c}),M=async(c=1)=>{v.value=!0;try{const _=new URLSearchParams({page:c,per_page:r.per_page,...h.search&&{search:h.search},...h.status&&{status:h.status}}),F=await fetch(`/api/v1/admin/categories?${_}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}});if(F.ok){const J=await F.json();J.success&&(s.value=J.data.categories,Object.assign(r,J.data.pagination))}else S()}catch{console.log("API non disponible, utilisation des données simulées"),S()}finally{v.value=!1}},S=()=>{s.value=[{id:1,name:"Concerts",slug:"concerts",description:"Événements musicaux et concerts live",color:"#272d63",status:"active",events_count:25,created_at:new Date},{id:2,name:"Conférences",slug:"conferences",description:"Événements professionnels et éducatifs",color:"#fab511",status:"active",events_count:12,created_at:new Date(Date.now()-864e5)},{id:3,name:"Sport",slug:"sport",description:"Événements sportifs et compétitions",color:"#10b981",status:"active",events_count:8,created_at:new Date(Date.now()-1728e5)},{id:4,name:"Culture",slug:"culture",description:"Événements culturels et artistiques",color:"#8b5cf6",status:"inactive",events_count:3,created_at:new Date(Date.now()-2592e5)}],Object.assign(r,{current_page:1,per_page:10,total:s.value.length,from:1,to:s.value.length})},U=async()=>{try{const c=await fetch("/api/v1/admin/categories",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});if(c.ok)(await c.json()).success&&(w(),M());else{const _={id:Date.now(),...o,slug:o.name.toLowerCase().replace(/\s+/g,"-"),events_count:0,created_at:new Date};s.value.unshift(_),w()}}catch{console.log("API non disponible, ajout local simulé");const _={id:Date.now(),...o,slug:o.name.toLowerCase().replace(/\s+/g,"-"),events_count:0,created_at:new Date};s.value.unshift(_),w()}},b=c=>{p.value=c,Object.assign(o,c),g.value=!0},R=async()=>{try{const c=await fetch(`/api/v1/admin/categories/${p.value.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});if(c.ok)(await c.json()).success&&(w(),M());else{const _=s.value.findIndex(F=>F.id===p.value.id);_!==-1&&(s.value[_]={...s.value[_],...o}),w()}}catch{console.log("API non disponible, mise à jour locale simulée");const _=s.value.findIndex(F=>F.id===p.value.id);_!==-1&&(s.value[_]={...s.value[_],...o}),w()}},d=async c=>{if(confirm(`Êtes-vous sûr de vouloir supprimer la catégorie "${c.name}" ?`))try{(await fetch(`/api/v1/admin/categories/${c.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).ok?M():s.value=s.value.filter(F=>F.id!==c.id)}catch{console.log("API non disponible, suppression locale simulée"),s.value=s.value.filter(F=>F.id!==c.id)}},x=c=>{r.current_page=c,M(c)},w=()=>{t.value=!1,g.value=!1,p.value=null,Object.assign(o,{name:"",description:"",color:"#272d63",status:"active"})},f=c=>new Date(c).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});return te(()=>{M()}),{loading:v,showCreateModal:t,showEditModal:g,categories:s,filters:h,categoryForm:o,pagination:r,filteredCategories:k,paginationPages:O,loadCategories:M,createCategory:U,editCategory:b,updateCategory:R,deleteCategory:d,changePage:x,closeModals:w,formatDate:f}}},Sg={class:"category-management p-6"},Ag={class:"mb-6 flex justify-between items-center"},Pg={class:"bg-white rounded-lg shadow p-4 mb-6"},zg={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Og={class:"flex items-end"},Ug={key:0,class:"flex justify-center items-center h-64"},Dg={key:1,class:"bg-white rounded-lg shadow overflow-hidden"},Tg={class:"overflow-x-auto"},Vg={class:"w-full"},Fg={class:"divide-y divide-gray-200"},Bg={class:"px-6 py-4"},$g={class:"flex items-center"},Eg={class:"text-sm font-medium text-gray-900"},Ig={class:"text-sm text-gray-500"},Rg={class:"px-6 py-4"},Lg={class:"text-sm text-gray-900"},Ng={class:"px-6 py-4"},Hg={class:"text-sm font-medium",style:{color:"#272d63"}},qg={class:"px-6 py-4"},Gg={class:"px-6 py-4 text-sm text-gray-500"},Xg={class:"px-6 py-4"},Jg={class:"flex space-x-2"},Yg=["onClick"],Wg=["onClick"],Qg={key:0,class:"text-center py-12"},Zg={key:2,class:"mt-6 flex justify-between items-center"},Kg={class:"text-sm text-gray-700"},ep={class:"flex space-x-2"},tp=["onClick"],sp={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},op={class:"bg-white rounded-lg p-6 w-full max-w-md mx-4"},np={class:"text-lg font-bold mb-4",style:{color:"#272d63"}},ap={class:"space-y-4"},lp={class:"flex space-x-3 mt-6"};function rp(v,t,g,s,p,h){return l(),a("div",Sg,[e("div",Ag,[t[19]||(t[19]=e("div",null,[e("h1",{class:"text-2xl font-bold",style:{color:"#272d63"}},"Gestion des Catégories"),e("p",{class:"text-gray-600 mt-1"},"Organisez et gérez les catégories d'événements")],-1)),e("button",{onClick:t[0]||(t[0]=o=>s.showCreateModal=!0),class:"text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#272d63"},onMouseover:t[1]||(t[1]=o=>o.currentTarget.style.backgroundColor="#fab511"),onMouseleave:t[2]||(t[2]=o=>o.currentTarget.style.backgroundColor="#272d63")},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),H(" Nouvelle Catégorie ",-1)])],32)]),e("div",Pg,[e("div",zg,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.search=o),placeholder:"Nom de catégorie...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.filters.search]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.filters.status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},[...t[21]||(t[21]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],512),[[B,s.filters.status]])]),e("div",Og,[e("button",{onClick:t[5]||(t[5]=(...o)=>s.loadCategories&&s.loadCategories(...o)),class:"w-full text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#fab511"},onMouseover:t[6]||(t[6]=o=>o.currentTarget.style.backgroundColor="#272d63"),onMouseleave:t[7]||(t[7]=o=>o.currentTarget.style.backgroundColor="#fab511")}," Filtrer ",32)])])]),s.loading?(l(),a("div",Ug,[...t[23]||(t[23]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2",style:{"border-color":"#272d63"}},null,-1)])])):(l(),a("div",Dg,[e("div",Tg,[e("table",Vg,[t[25]||(t[25]=e("thead",{style:{"background-color":"#f8f9fa"}},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Catégorie"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Événements"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Créé le"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Fg,[(l(!0),a(T,null,V(s.filteredCategories,o=>(l(),a("tr",{key:o.id,class:"hover:bg-gray-50"},[e("td",Bg,[e("div",$g,[e("div",{class:"w-10 h-10 rounded-lg flex items-center justify-center mr-3",style:de({backgroundColor:o.color+"20",color:o.color})},[...t[24]||(t[24]=[e("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z","clip-rule":"evenodd"})],-1)])],4),e("div",null,[e("p",Eg,n(o.name),1),e("p",Ig,n(o.slug),1)])])]),e("td",Rg,[e("p",Lg,n(o.description||"Aucune description"),1)]),e("td",Ng,[e("span",Hg,n(o.events_count||0)+" événements",1)]),e("td",qg,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(o.status==="active"?"Actif":"Inactif"),3)]),e("td",Gg,n(s.formatDate(o.created_at)),1),e("td",Xg,[e("div",Jg,[e("button",{onClick:r=>s.editCategory(o),class:"text-sm px-3 py-1 rounded transition-colors duration-200",style:{color:"#272d63","background-color":"rgba(39, 45, 99, 0.1)"},onMouseover:t[8]||(t[8]=r=>{r.currentTarget.style.backgroundColor="#fab511",r.currentTarget.style.color="#fff"}),onMouseleave:t[9]||(t[9]=r=>{r.currentTarget.style.backgroundColor="rgba(39, 45, 99, 0.1)",r.currentTarget.style.color="#272d63"})}," Modifier ",40,Yg),e("button",{onClick:r=>s.deleteCategory(o),class:"text-sm text-red-600 hover:text-red-800 px-3 py-1 bg-red-100 hover:bg-red-200 rounded transition-colors duration-200"}," Supprimer ",8,Wg)])])]))),128))])])]),s.categories.length===0?(l(),a("div",Qg,[...t[26]||(t[26]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Aucune catégorie",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Commencez par créer votre première catégorie.",-1)])])):C("",!0)])),s.pagination.total>s.pagination.per_page?(l(),a("div",Zg,[e("div",Kg," Affichage de "+n(s.pagination.from)+" à "+n(s.pagination.to)+" sur "+n(s.pagination.total)+" catégories ",1),e("div",ep,[(l(!0),a(T,null,V(s.paginationPages,o=>(l(),a("button",{key:o,onClick:r=>s.changePage(o),class:I(["px-3 py-2 text-sm rounded-lg transition-colors duration-200",o===s.pagination.current_page?"text-white":"text-gray-700 hover:bg-gray-100"]),style:de(o===s.pagination.current_page?{backgroundColor:"#272d63"}:{})},n(o),15,tp))),128))])])):C("",!0),s.showCreateModal||s.showEditModal?(l(),a("div",sp,[e("div",op,[e("h3",np,n(s.showCreateModal?"Nouvelle Catégorie":"Modifier la Catégorie"),1),e("form",{onSubmit:t[17]||(t[17]=ae(o=>s.showCreateModal?s.createCategory():s.updateCategory(),["prevent"]))},[e("div",ap,[e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom *",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=o=>s.categoryForm.name=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.categoryForm.name]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),i(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=o=>s.categoryForm.description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.categoryForm.description]])]),e("div",null,[t[29]||(t[29]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Couleur",-1)),i(e("input",{type:"color","onUpdate:modelValue":t[12]||(t[12]=o=>s.categoryForm.color=o),class:"w-full h-10 border border-gray-300 rounded-lg"},null,512),[[j,s.categoryForm.color]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[13]||(t[13]=o=>s.categoryForm.status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},[...t[30]||(t[30]=[e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],512),[[B,s.categoryForm.status]])])]),e("div",lp,[e("button",{type:"submit",class:"flex-1 text-white py-2 px-4 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#272d63"},onMouseover:t[14]||(t[14]=o=>o.currentTarget.style.backgroundColor="#fab511"),onMouseleave:t[15]||(t[15]=o=>o.currentTarget.style.backgroundColor="#272d63")},n(s.showCreateModal?"Créer":"Modifier"),33),e("button",{type:"button",onClick:t[16]||(t[16]=(...o)=>s.closeModals&&s.closeModals(...o)),class:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-400 transition-colors duration-200"}," Annuler ")])],32)])])):C("",!0)])}const ip=Z(jg,[["render",rp],["__scopeId","data-v-43e9349f"]]),t1=Object.freeze(Object.defineProperty({__proto__:null,default:ip},Symbol.toStringTag,{value:"Module"})),dp={name:"VenueManagement",setup(){const v=u(!1),t=u(!1),g=u(!1),s=u([]),p=u(null),h=q({search:"",city:"",status:""}),o=q({name:"",description:"",address:"",city:"",postal_code:"",country:"Gabon",capacity:100,phone:"",email:"",image:"",status:"active"}),r=re(()=>{let x=s.value;return h.search&&(x=x.filter(w=>w.name.toLowerCase().includes(h.search.toLowerCase())||w.address.toLowerCase().includes(h.search.toLowerCase()))),h.city&&(x=x.filter(w=>w.city===h.city)),h.status&&(x=x.filter(w=>w.status===h.status)),x}),k=re(()=>[...new Set(s.value.map(x=>x.city))].sort()),O=async()=>{v.value=!0;try{const x=new URLSearchParams({...h.search&&{search:h.search},...h.city&&{city:h.city},...h.status&&{status:h.status}}),w=await fetch(`/api/v1/admin/venues?${x}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}});if(w.ok){const f=await w.json();f.success&&(s.value=f.data.venues)}else M()}catch{console.log("API non disponible, utilisation des données simulées"),M()}finally{v.value=!1}},M=()=>{s.value=[{id:1,name:"Centre de Conférences Mbolo",description:"Centre moderne pour événements d'entreprise",address:"Avenue de l'Indépendance",city:"Libreville",postal_code:"BP 123",country:"Gabon",capacity:500,phone:"+241 01 23 45 67",email:"contact@mbolo.ga",image:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?w=400",status:"active",events_count:15,created_at:new Date},{id:2,name:"Salle Polyvalente Akanda",description:"Espace polyvalent pour tous types d'événements",address:"Quartier Akanda",city:"Akanda",postal_code:"BP 456",country:"Gabon",capacity:300,phone:"+241 01 34 56 78",email:"akanda@venues.ga",image:"https://images.unsplash.com/photo-1511578314322-379afb476865?w=400",status:"active",events_count:8,created_at:new Date(Date.now()-864e5)},{id:3,name:"Stade Omnisports",description:"Grand stade pour événements sportifs et concerts",address:"Zone Industrielle Owendo",city:"Owendo",postal_code:"BP 789",country:"Gabon",capacity:5e3,phone:"+241 01 45 67 89",email:"stade@owendo.ga",image:"https://images.unsplash.com/photo-1459865264687-595d652de67e?w=400",status:"active",events_count:12,created_at:new Date(Date.now()-1728e5)},{id:4,name:"Salle des Fêtes Port-Gentil",description:"Salle traditionnelle rénovée",address:"Centre-ville",city:"Port-Gentil",postal_code:"BP 012",country:"Gabon",capacity:200,phone:"+241 01 56 78 90",email:"fetes@portgentil.ga",image:null,status:"inactive",events_count:3,created_at:new Date(Date.now()-2592e5)}]},S=async()=>{try{const x=await fetch("/api/v1/admin/venues",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});if(x.ok)(await x.json()).success&&(d(),O());else{const w={id:Date.now(),...o,events_count:0,created_at:new Date};s.value.unshift(w),d()}}catch{console.log("API non disponible, ajout local simulé");const w={id:Date.now(),...o,events_count:0,created_at:new Date};s.value.unshift(w),d()}},U=x=>{p.value=x,Object.assign(o,x),g.value=!0},b=async()=>{try{const x=await fetch(`/api/v1/admin/venues/${p.value.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)});if(x.ok)(await x.json()).success&&(d(),O());else{const w=s.value.findIndex(f=>f.id===p.value.id);w!==-1&&(s.value[w]={...s.value[w],...o}),d()}}catch{console.log("API non disponible, mise à jour locale simulée");const w=s.value.findIndex(f=>f.id===p.value.id);w!==-1&&(s.value[w]={...s.value[w],...o}),d()}},R=async x=>{if(confirm(`Êtes-vous sûr de vouloir supprimer le lieu "${x.name}" ?`))try{(await fetch(`/api/v1/admin/venues/${x.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,Accept:"application/json"}})).ok?O():s.value=s.value.filter(f=>f.id!==x.id)}catch{console.log("API non disponible, suppression locale simulée"),s.value=s.value.filter(f=>f.id!==x.id)}},d=()=>{t.value=!1,g.value=!1,p.value=null,Object.assign(o,{name:"",description:"",address:"",city:"",postal_code:"",country:"Gabon",capacity:100,phone:"",email:"",image:"",status:"active"})};return te(()=>{O()}),{loading:v,showCreateModal:t,showEditModal:g,venues:s,filters:h,venueForm:o,filteredVenues:r,cities:k,loadVenues:O,createVenue:S,editVenue:U,updateVenue:b,deleteVenue:R,closeModals:d}}},cp={class:"venue-management p-6"},up={class:"mb-6 flex justify-between items-center"},mp={class:"bg-white rounded-lg shadow p-4 mb-6"},gp={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},pp=["value"],xp={class:"flex items-end"},fp={key:0,class:"flex justify-center items-center h-64"},bp={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},yp={class:"h-48 bg-gray-200 rounded-t-lg relative overflow-hidden"},vp=["src","alt"],hp={key:1,class:"w-full h-full flex items-center justify-center"},wp={class:"absolute top-3 right-3"},_p={class:"p-4"},kp={class:"text-lg font-semibold mb-2",style:{color:"#272d63"}},Cp={class:"space-y-2 text-sm text-gray-600"},Mp={class:"flex items-center"},jp={class:"flex items-center"},Sp={class:"flex items-center"},Ap={class:"flex space-x-2 mt-4"},Pp=["onClick"],zp=["onClick"],Op={key:2,class:"text-center py-12"},Up={key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Dp={class:"bg-white rounded-lg p-6 w-full max-w-2xl mx-4 max-h-90vh overflow-y-auto"},Tp={class:"text-lg font-bold mb-4",style:{color:"#272d63"}},Vp={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Fp={class:"md:col-span-2"},Bp={class:"md:col-span-2"},$p={class:"md:col-span-2"},Ep={class:"flex space-x-3 mt-6"};function Ip(v,t,g,s,p,h){return l(),a("div",cp,[e("div",up,[t[27]||(t[27]=e("div",null,[e("h1",{class:"text-2xl font-bold",style:{color:"#272d63"}},"Gestion des Lieux"),e("p",{class:"text-gray-600 mt-1"},"Gérez les lieux et salles d'événements")],-1)),e("button",{onClick:t[0]||(t[0]=o=>s.showCreateModal=!0),class:"text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#272d63"},onMouseover:t[1]||(t[1]=o=>o.currentTarget.style.backgroundColor="#fab511"),onMouseleave:t[2]||(t[2]=o=>o.currentTarget.style.backgroundColor="#272d63")},[...t[26]||(t[26]=[e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),H(" Nouveau Lieu ",-1)])],32)]),e("div",mp,[e("div",gp,[e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Rechercher",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=o=>s.filters.search=o),placeholder:"Nom du lieu...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.filters.search]])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ville",-1)),i(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.filters.city=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},[t[29]||(t[29]=e("option",{value:""},"Toutes les villes",-1)),(l(!0),a(T,null,V(s.cities,o=>(l(),a("option",{key:o,value:o},n(o),9,pp))),128))],512),[[B,s.filters.city]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>s.filters.status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},[...t[31]||(t[31]=[e("option",{value:""},"Tous les statuts",-1),e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],512),[[B,s.filters.status]])]),e("div",xp,[e("button",{onClick:t[6]||(t[6]=(...o)=>s.loadVenues&&s.loadVenues(...o)),class:"w-full text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#fab511"},onMouseover:t[7]||(t[7]=o=>o.currentTarget.style.backgroundColor="#272d63"),onMouseleave:t[8]||(t[8]=o=>o.currentTarget.style.backgroundColor="#fab511")}," Filtrer ",32)])])]),s.loading?(l(),a("div",fp,[...t[33]||(t[33]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2",style:{"border-color":"#272d63"}},null,-1)])])):(l(),a("div",bp,[(l(!0),a(T,null,V(s.filteredVenues,o=>(l(),a("div",{key:o.id,class:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow duration-200"},[e("div",yp,[o.image?(l(),a("img",{key:0,src:o.image,alt:o.name,class:"w-full h-full object-cover"},null,8,vp)):(l(),a("div",hp,[...t[34]||(t[34]=[e("svg",{class:"w-16 h-16 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)])])),e("div",wp,[e("span",{class:I(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",o.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(o.status==="active"?"Actif":"Inactif"),3)])]),e("div",_p,[e("h3",kp,n(o.name),1),e("div",Cp,[e("div",Mp,[t[35]||(t[35]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),H(" "+n(o.address)+", "+n(o.city),1)]),e("div",jp,[t[36]||(t[36]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),H(" Capacité: "+n(o.capacity)+" personnes ",1)]),e("div",Sp,[t[37]||(t[37]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),H(" "+n(o.events_count||0)+" événements ",1)])]),e("div",Ap,[e("button",{onClick:r=>s.editVenue(o),class:"flex-1 text-sm px-3 py-2 rounded transition-colors duration-200",style:{color:"#272d63","background-color":"rgba(39, 45, 99, 0.1)"},onMouseover:t[9]||(t[9]=r=>{r.currentTarget.style.backgroundColor="#fab511",r.currentTarget.style.color="#fff"}),onMouseleave:t[10]||(t[10]=r=>{r.currentTarget.style.backgroundColor="rgba(39, 45, 99, 0.1)",r.currentTarget.style.color="#272d63"})}," Modifier ",40,Pp),e("button",{onClick:r=>s.deleteVenue(o),class:"flex-1 text-sm text-red-600 hover:text-red-800 px-3 py-2 bg-red-100 hover:bg-red-200 rounded transition-colors duration-200"}," Supprimer ",8,zp)])])]))),128))])),s.venues.length===0&&!s.loading?(l(),a("div",Op,[...t[38]||(t[38]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Aucun lieu",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Commencez par ajouter votre premier lieu.",-1)])])):C("",!0),s.showCreateModal||s.showEditModal?(l(),a("div",Up,[e("div",Dp,[e("h3",Tp,n(s.showCreateModal?"Nouveau Lieu":"Modifier le Lieu"),1),e("form",{onSubmit:t[25]||(t[25]=ae(o=>s.showCreateModal?s.createVenue():s.updateVenue(),["prevent"]))},[e("div",Vp,[e("div",Fp,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Nom du lieu *",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=o=>s.venueForm.name=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.name]])]),e("div",Bp,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description",-1)),i(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=o=>s.venueForm.description=o),rows:"3",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.description]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Adresse *",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=o=>s.venueForm.address=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.address]])]),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Ville *",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=o=>s.venueForm.city=o),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.city]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Code postal",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=o=>s.venueForm.postal_code=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.postal_code]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pays",-1)),i(e("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=o=>s.venueForm.country=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.country]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Capacité *",-1)),i(e("input",{type:"number","onUpdate:modelValue":t[17]||(t[17]=o=>s.venueForm.capacity=o),required:"",min:"1",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.capacity]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Statut",-1)),i(e("select",{"onUpdate:modelValue":t[18]||(t[18]=o=>s.venueForm.status=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},[...t[46]||(t[46]=[e("option",{value:"active"},"Actif",-1),e("option",{value:"inactive"},"Inactif",-1)])],512),[[B,s.venueForm.status]])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Téléphone",-1)),i(e("input",{type:"tel","onUpdate:modelValue":t[19]||(t[19]=o=>s.venueForm.phone=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.phone]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Email",-1)),i(e("input",{type:"email","onUpdate:modelValue":t[20]||(t[20]=o=>s.venueForm.email=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.email]])]),e("div",$p,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"URL de l'image",-1)),i(e("input",{type:"url","onUpdate:modelValue":t[21]||(t[21]=o=>s.venueForm.image=o),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{"--tw-ring-color":"#272d63"}},null,512),[[j,s.venueForm.image]])])]),e("div",Ep,[e("button",{type:"submit",class:"flex-1 text-white py-2 px-4 rounded-lg font-medium transition-colors duration-200",style:{"background-color":"#272d63"},onMouseover:t[22]||(t[22]=o=>o.currentTarget.style.backgroundColor="#fab511"),onMouseleave:t[23]||(t[23]=o=>o.currentTarget.style.backgroundColor="#272d63")},n(s.showCreateModal?"Créer":"Modifier"),33),e("button",{type:"button",onClick:t[24]||(t[24]=(...o)=>s.closeModals&&s.closeModals(...o)),class:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium hover:bg-gray-400 transition-colors duration-200"}," Annuler ")])],32)])])):C("",!0)])}const Rp=Z(dp,[["render",Ip],["__scopeId","data-v-50b61a4a"]]),s1=Object.freeze(Object.defineProperty({__proto__:null,default:Rp},Symbol.toStringTag,{value:"Module"}));export{Hp as A,t1 as C,Xp as E,Gp as O,Yp as P,Zp as R,Kp as S,qp as U,s1 as V,Jp as a,Wp as b,Qp as c,e1 as d};
